<!DOCTYPE html><html lang="zh-tw"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>查斯特 Chester Tang</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="[object Object]"><meta name="designer" content="minfive"><meta name="keywords" content="ruby on rails, web developer, JavaScript, full stack"><meta name="description" content="沒有半路出家，但像半路出家"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://chestertang.site/archives/2020/page/4/index.html"><link rel="icon" type="image/png" href="/img/logo.png" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="查斯特部落格 | The Blog Of Chester Tang"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-155161238-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-155161238-1")</script><meta name="description" content="沒有半路出家，但像半路出家"><meta name="keywords" content="ruby on rails, web developer, JavaScript, full stack"><meta property="og:type" content="website"><meta property="og:title" content="查斯特部落格 | The Blog Of Chester Tang"><meta property="og:url" content="http://chestertang.site"><meta property="og:site_name" content="查斯特部落格 | The Blog Of Chester Tang"><meta property="og:description" content="沒有半路出家，但像半路出家"><meta property="og:locale" content="zh-tw"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="查斯特部落格 | The Blog Of Chester Tang"><meta name="twitter:description" content="沒有半路出家，但像半路出家"><link rel="stylesheet" href="/scss/views/page/archive.css"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(undefined)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="查斯特部落格 | The Blog Of Chester Tang" alt="查斯特部落格 | The Blog Of Chester Tang"><img src="/img/logo.png" alt="查斯特部落格 | The Blog Of Chester Tang"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="home" title="home">home</a></li><li class="nav__item"><a href="/archives" alt="archive" title="archive">archive</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><nav class="mb-main__nav"><a class="nav__item nav__item--selected" href="javascript:void(0)" alt="2020年">2020年 </a><a class="nav__item" href="/archives/2019/" alt="2019年">2019年</a></nav><div class="page__posts clearfix"><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx37.jpeg" alt="J 筆記 - Async/Await in Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">22</span> <span class="date__month">5月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/05/22/zyx0522/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/05/22/zyx0522/" title="J 筆記 - Async/Await in Array">J 筆記 - Async/Await in Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">Async/Await in Array Loops隨著 ES6 的 Promise 解決 callbacks hell 的問題後，取得代之的就是 Es7 的 Async/Await，都是為了達成 AJAX 獲得更好的體驗。這篇簡單紀錄一下使用 Async/Await 在迴圈裡面遇到的問題，以及該如何解決，以下就以三個例子來舉例： ForEach如果是 ForEach 搭配 Async/Await 的時候，會發生什麼事情呢？我們直接來深入了解吧！ 123456789101112131415const urls = [ 'https://jsonplaceholder.typicode.com/todos/1', 'https://jsonplaceholder.typicode.com/todos/2', 'https://jsonplaceholder.typicode.com/todos/3'];async function getTodos() &#123; await urls.forEach(async (url, idx) =&gt; &#123; console.log(`Received Todo $&#123;idx+1&#125;:`, await fetch(url)); &#125;); console.log('Finished!');&#125;getTodos(); 雖然程式碼都沒有任何錯誤，也不會噴錯跑不成功，但是相信眼尖的你一定會注意 Finished! 居然在 await urls.forEach 之前就執行了！不是說好的 async 要 await 嗎？誰跟你說好～如以下的結果所示： 123456// Promise &#123;&lt;resolved&gt;: undefined&#125;Finished!Received Todo 1, Response: &#123; type: "cors", url: "https://jsonplaceholder.typicode.com/todos/1", redirected: false, status: 200, ok: true, … &#125;Received Todo 3, Response: &#123; type: "cors", url: "https://jsonplaceholder.typicode.com/todos/3", redirected: false, status: 200, ok: true, … &#125;Received Todo 2, Response: &#123; type: "cors", url: "https://jsonplaceholder.typicode.com/todos/2", redirected: false, status: 200, ok: true, … &#125; 那不能用 ForEach 我們該如何解決呢？來看看底下的兩種方式吧！ Map + Promise.allPromise.all()</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx36.jpeg" alt="J 筆記 - Clone an Object"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">5</span> <span class="date__month">5月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/05/05/zyx0505/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/05/05/zyx0505/" title="J 筆記 - Clone an Object">J 筆記 - Clone an Object</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Clone an Object雖然在 JavaScript 裡的物件型別是屬於 Passing by sharing，但正常來說如果沒有傳遞到另一物件的話，正常為 Passing by Address，因此沒有辦法直接用等號 = 來更改值、而會改到址。 3 Ways to Clone Objects12345678910111213const Array = &#123; old: 'ES5', new: 'ES6' &#125;;// "Spread"&#123; ...Array &#125;;// "Object.assign"Object.assign(&#123;&#125;, Array);// "JSON"JSON.parse(JSON.stringify(Array));// RESULT:// &#123; old: 'ES5', new: 'ES6'&#125;; Passing by Address還記得 重新認識 JavaScript: Day 05 JavaScript 是「傳值」或「傳址」？ 吧？基本型別的更新與傳遞會以 Passing by Value，兩者是個是各自獨立的，而物件型別則是如同開頭所述，會更改到原本的實體，因為兩者根本是指向同一個實體的！ 123456789var coin1 = &#123; value: 10 &#125;;var coin2 = coin1;coin1.value = 100;console.log( coin1.value );// 100console.log( coin2.value );// 100 Passing by sharing「Pass by sharing」的特點在於，當 function 的參數，如 function changeValue(obj){ ... } 中的 obj 被重新賦值的時候，外部變數的內容是不會被影響的。 12345678910var coin1 = &#123; value: 10 &#125;;function changeValue(obj) &#123; obj = &#123; value: 123 &#125;; // Assignment&#125;changeValue(coin1);console.log(coin1); // &#123; value: 10 &#125;</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx35.jpeg" alt="J 筆記 - Object to Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">4</span> <span class="date__month">5月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/05/04/zyx0504/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/05/04/zyx0504/" title="J 筆記 - Object to Array">J 筆記 - Object to Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Object to Array繼之前的 String to Array 後，我們已經會了許多種將字串轉成陣列的方法。這篇將介紹如何將 Object 轉成 Array … Ancient在 ES6 以前，我們想將 Object 變成 Array 常常會這樣來使用，但其實這種方法真的不太好用！而且跟 Ruby 超級不合適的，宣告一個空的陣列，然後塞東西進去，通常都可以有更好的方法可以取代掉這種寫法… 123456789101112131415var ancientObjects = &#123; obj1: 'ancient1', obj2: 'ancient2'&#125;;var emptyArray = [];for (var ancientObject in ancientObjects) &#123; if (ancientObjects.hasOwnProperty(ancientObject)) &#123; emptyArray.push(ancientObjects); &#125;&#125;emptyArray; // [ 'ancient1', 'ancient2' ] Object.prototype.hasOwnProperty() ES6 - Object.keys()ES6後，有了 Object.keys() 這個新方法，不過很奇怪的居然只有提供 key，卻沒有 value，意外覺得特別的詭異… 1234567let ES6Objects = &#123; ES6Obj1: 'ES6-1', ES6Obj2: 'ES6-2'&#125;;Object.keys(ES6Objects);// [ 'ES6Obj1', 'ES6Obj2' ] ES7 - Object.values() / Object.entries()</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx34.jpeg" alt="J 筆記 - Append Item to Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">30</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/30/zyx0430/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/30/zyx0430/" title="J 筆記 - Append Item to Array">J 筆記 - Append Item to Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Append Item to Array在之前一系列有關 Array 的文章當中，有看到各種 clone Array 後，將新元素推進陣列會造成的結果，都直接以 push 來簡單舉例而已。 這篇將舉例 易變的 (mutable)、不易變的 (inmutable) 的五種方式，雖然實務上都會直接用 inmutable 的方法，但還是舉例 mutable，來增加自己印象，就算看到這樣的程式碼的時候，也會知道會造成的結果… 易變的 (mutable)透過 push、splice、.length 這三種方式的塞元素，會影響原始的陣列。 12345678const array = ['ES5'];array.push('ES6');array.splice(array.length, 0, 'ES6');array[array.length] = 'ES6';console.log(array);// ['ES5', 'ES6'] 不易變的 (inmutable)透過 spread、concat 兩種方式，會額外新增一個陣列，並且保持原本的陣列不受到更動。 12345678910const original = ['ES5'];let newArray;newArray = original.concat('ES6');newArray = [...original, 'ES6'];console.log(newArray);// ['ES5', 'ES6']console.log(original);// ['ES5']</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx33.jpeg" alt="J 筆記 - Deep Clone Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">29</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/29/zyx0429/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/29/zyx0429/" title="J 筆記 - Deep Clone Array">J 筆記 - Deep Clone Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Deep Clone Array之前有介紹過如何 Clone an Array，但可以知道的問題是，如果今天是 Array 裡面又有更深層的 Array 的話（Deep Array），再複製陣列上就會有點問題，也如同上篇的 Only one level 的結論。因此，這篇就來介紹兩種 Deep Clone Array 的方法吧！ 1234567891011const nestedArray = ['ES5', ['ES6', ['ES7']], ['ES8']];// Using JavaScriptJSON.parse(JSON.stringify(nestedArray));// Using Lodash_.cloneDeep(nestedArray);// Using Recursionconst clone = (items) =&gt; items.map(item =&gt; Array.isArray(item) ? clone(item) : item);clone(nestedArray); Copying a Value type先來個最基本的數組，這部分應該很好理解，宣告一個 value。而且如果我們更改 valueCopy，不會影響原本的 value。 1234567891011121314let value = 9527;let cloneValue = value; // clone valueconsole.log(cloneValue); // 9527cloneValue = 100;// Change cloneValueconsole.log(cloneValue);// 100console.log(value); // 3 Copying a Reference type如果上篇所述，為什麼原始陣列也會受到影響？那是因為複製的不是數組本身，而是指向數組的記憶體位址。 1234567891011const initarray = ['ES5', 'ES6', 'ES7'];const initarray2 = initarray;initarray2.push('❌');console.log(initarray2);// ["ES5", "ES6", "ES7", "❌"]console.log(initarray);// ["ES5", "ES6", "ES7", "❌"] 因此，有了上篇的解決方案：</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx32.jpeg" alt="J 筆記 - Remove Array Dup"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">19</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/19/zyx0419/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/19/zyx0419/" title="J 筆記 - Remove Array Dup">J 筆記 - Remove Array Dup</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - ES6 Remove Array Duplicates在 Ruby 裡面要做這件事情真的方便許多直接 uniq 就可以完成，但常常被寫好的 method 慣壞了卻想不太到 JS 裡頭該怎麼實作，所以整理一些 Remove Array Duplicates 的方法… 3 ways in ES6總共在 ES6 裡面有 3 種方法可以實作，而我最喜歡的莫過於 Set，又短又不用想到底裡面做了什麼，不像 filter、reduce，另外也覺得有點像 Ruby 的 uniq，所以寫起來快速又實用～ 1234567891011121314const array = ['Remove', 'Remove', 'ES5', 'ES6', 'Remove', 'ES7'];// 1: "Set"[...new Set(array)];// 2: "Filter"array.filter((item, index) =&gt; array.indexOf(item) === index);// 3: "Reduce"array.reduce((uniq, item) =&gt; uniq.includes(item) ? uniq : [...uniq, item], []);// RESULT:// ['Remove', 'ES5', 'ES6', 'ES7'] 1. Set The Set object lets you store unique values of any type, whether primitive values or object references. ES6 提供了新的數據結構 Set。它類似於數組，但值都是唯一的，没有重複的值。 因此我們來看看到底做了什麼… 1234567const array = ['Remove', 'Remove', 'ES5', 'ES6', 'Remove', 'ES7'];const newarray = new Set(array); console.log(newarray);// RESULT:// Set(4) &#123;"Remove", "ES5", "ES6", "ES7"&#125;</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx31.jpeg" alt="J 筆記 - Clone an Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">18</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/18/zyx0418/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/18/zyx0418/" title="J 筆記 - Clone an Array">J 筆記 - Clone an Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Clone an Array複製陣列及資料，不管在什麼語言當中，都是很常用到的方式，在了解如何複製之前，應該對所謂的「傳值」、「傳址」大概的了解，才知道為什麼這樣能複製一個新的陣列出來，而不是改到之前的陣列… 重新認識 JavaScript: Day 05 JavaScript 是「傳值」或「傳址」？ ES6 Way to Clone an Array舊有的複製陣列通常都以 slice 來達成，不過 ES6 後，有些其他的方法可以快速複製，就來看看吧… 12345678const initarray = ['ES5', 'ES6', 'ES7'];// Old wayconst oldarray = initarray.slice();// ES6 wayconst spreadoperator = [...initarray];const Arrayfrom = Array.from(initarray); 還記得上次的 String to Array 也有用到 spread operator、Array.from 兩者用法，如果忘記得可以再去看看 Call by value / Call by addressJS 中的數組是 Call by value，因此如果嘗試使用 = 進行複制時，只會複製到原始宣告的那組數組，而不是數組的值。要真正複製一個全新數組，需要在新的 value 下複製數組的值，這樣就不會引用內存中的舊 address。 12345678910const initarray = ['ES5', 'ES6', 'ES7'];const errormethod = initarray;const spreadoperator = [...initarray];console.log(initarray === errormethod);// true --&gt; same memory space (Call by value)console.log(initarray === spreadoperator);// false --&gt; new memory space(Call by address)</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx30.jpeg" alt="HTML5 筆記 - :empty Selector"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">17</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/17/zyx0417/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/17/zyx0417/" title="HTML5 筆記 - :empty Selector">HTML5 筆記 - :empty Selector</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">HTML5 筆記 - :empty Selector通常，在我們的元素裡面，大多都會有文本以及子元素，然而假設今天是完全沒有的，但又想要選取該怎麼辦？這時候就可以使用 :empty 選取器 12345&lt;div&gt; &lt;/div&gt;&lt;!-- Not Empty --&gt;&lt;div&gt;&lt;/div&gt;&lt;!-- Empty --&gt; 123456789101112131415div::before &#123; content: "not empty";&#125;div:empty::before &#123; content: "empty";&#125;div &#123; color: silver;&#125;div:empty &#123; color: red;&#125; https://codepen.io/BeastRush/pen/QWjNqBW 如何定義 empty？當我第一是看到有人這樣用的時候，其實有點看不太懂是什麼，所以我相信如果你沒看過也還搞不太清楚是如何定義 :empty，先來看看 MDN 的定義： The :empty CSS pseudo-class represents any element that has no children. Children can be either element nodes or text (including whitespace). Comments, processing instructions, and CSS content do not affect whether an element is considered empty. Only in Firefox空白會被視為 empty，:-moz-only-whitespace，但基本上是完全可以忽略的東西，除非真的像工作上遇到 FireFox bug with: rowspan + border-collapse + border 裡面少了 table 的底線，又或者是 Windows APP Outlook 多了 td，但是其他瀏覽器、手機 APP 開通通都正常的情況…</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/HTML5/">HTML5</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx29.jpeg" alt="J 筆記 - String to Array"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">13</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/13/zyx0413/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/13/zyx0413/" title="J 筆記 - String to Array">J 筆記 - String to Array</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">J 筆記 - Convert String to Character Array在處理資料不管是在 Ruby、JS 當中，常常需要把一整坨的資料做切開後，再來做應用，而在 JS 中實作的方式有好幾種，但這些方法之中的差異在哪邊，就來實作幾個範例吧！ 12const Chester = 'Chester'// ['C', 'h', 'e', 's', 't', 'e', 'r'] 四種 String -&gt; Character Array 方法將資料拆開的方法共有四種，隨著 ES6 的廣泛應用，除了常見的 split 還有許多其他的寫法可以解決這個問題，雖然可能有些不太常用到，但至少別人的程式碼當中如果出現，你可以馬上理解這段 code 在幹嘛… 1234567891011121314const Chester = 'Chester'// ['C', 'h', 'e', 's', 't', 'e', 'r']// 選項1 Chester.split(''); // 選項2 [... Chester]; // 選項3 Array.from(Chester); // 選項4 Object.assign([]，Chester); // 結果：// ['C', 'h', 'e', 's', 't', 'e', 'r'] 情況一：切割每個字12345678const Chester = '查斯特';const usingSplit = Chester.split('');const usingSpread = [... Chester];const usingArrayFrom = Array.from(Chester);const usingObjectAssign = Object.assign([], Chester);// 結果：// ['查', '斯', '特'] 情況二：特定符號如果是要把逗號、分號這類型的資料分開，那 split 會是最好的辦法（這也是最常用的方式）！</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/JavaScript/">JavaScript</a></li></ul></div></div></article></div><div class="page__post"><article itemscope itemtype="http://schema.org/Article" class="page__mini-article"><div class="mini-article__cover"><img itemprop="image" src="/img/zyx27.jpeg" alt="R 筆記 - Cancancan"><div itemprop="datePublished" content class="mini-article__date"><span class="date__day">9</span> <span class="date__month">4月</span></div><a itemprop="url" class="iconfont icon-enter" href="/2020/04/09/zyx0409/"></a></div><div class="mini-article__info"><h3 itemprop="name" class="mini-article__title"><a itemprop="url" href="/2020/04/09/zyx0409/" title="R 筆記 - Cancancan">R 筆記 - Cancancan</a></h3><p class="mini-article__author">by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><a itemprop="url" href="https://github.com/BeastRush1231" target="_blank"><span itemprop="name">查斯特</span></a></span></p><p itemprop="articleSection" class="min-article__desc">之前的 DemoProject 中，架構都沒有大到需要用到角色來管理權限（可見多廢xd），所以就算知道可以用什麼來管，但也沒有直接的來寫過或接觸到，這幾天剛好有空就來好好研究，也順手記錄一下一些觀念。 先講個這個 gem 是幹嘛的： 定義不同使用者有不同角色，每個角色有不同權限 簡化 controller 的 code CancancanDefine Abilities12rails generate cancan:ability#create app/models/ability.rb ability.rb 定義每個角色擁有哪些權限，並在 view 或 controller 設定條件時，查看是否符合條件 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# app &gt; models &gt; ability.rbclass Ability include CanCan::Ability def initialize(user, staff = nil) alias_action :read, :update, to: :use # alias if user.present? # additional permissions for logged in users (they can read their own posts) can [:new, :create], Forum cannot [:new], Comment basic_read_only else if user.admin? # additional permissions for administrators can :manage, :all elsif staff &amp;&amp; staff.role eval("#&#123;staff.class.name.underscore&#125;_ability(staff)") # eval 去 call 底下的方法 else can :read, Post end end end protected def basic_read_only can :read, Forum end # 定義 Teacher 所擁有的權限 def teacher_ability(teacher) ... end # 定義 Student 所擁有的權限 def student_ability(student) ... endend # can : 定義被允許的權限，後面接兩個參數，第一個是被允許的 action ，第二個是被允許的 object # cannot : 同上，反之 # :manage : 指 所有的 action 方法，:all 表示所有的 object # :read : 指 :index 和 :show # :update : 指 :edit 和 :update # :destroy : 指 :destroy # :create : 指 :new 和 :crate object 後可以設定有權限的其他情況(database columns) 12345can :update, Reseller do |reseller| (reseller.id == user.id)endcan :update, Reseller, id: user.id</p><div class="min-article__tags"><i class="iconfont icon-tab"></i><ul class="tags__list clearfix"><li class="tags__item"><a href="/tags/Rails/">Rails</a></li><li class="tags__item"><a href="/tags/Ruby/">Ruby</a></li></ul></div></div></article></div></div><nav class="page__paginator"><ul class="paginator__list clearfix"><li class="paginator__item"><a href="/archives/2020/page/3/" title="上一页"><i class="iconfont icon-prev"></i></a></li><li class="paginator__item"><a href="/archives/2020/">1</a></li><li class="paginator__item"><a href="/archives/2020/page/2/">2</a></li><li class="paginator__item"><a href="/archives/2020/page/3/">3</a></li><li class="paginator__item"><span>4</span></li><li class="paginator__item"><a href="/archives/2020/page/5/">5</a></li><li class="paginator__item"><a href="/archives/2020/page/6/">6</a></li><li class="paginator__item"><a href="/archives/2020/page/7/">7</a></li><li class="paginator__item"><a href="/archives/2020/page/5/" title="下一页"><i class="iconfont icon-next"></i></a></li></ul></nav></div><aside class="page__sidebar"><form id="page-search-from" class="page__search-from" action="/search/"><label class="search-form__item"><input class="input" type="text" name="search" placeholder="Search..."> <i class="iconfont icon-search"></i></label></form><div class="sidebar__block"><h3 class="block__title">簡介</h3><p class="block__text">沒有半路出家，但像半路出家</p></div><div class="sidebar__block"><h3 class="block__title">文章分類</h3><ul class="block-list"><li class="block-list-item"><a class="block-list-link" href="/categories/面試分享/">面試分享</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/環境架設macOS/">環境架設macOS</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Ruby/">Ruby</a><span class="block-list-count">1</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Rails/">Rails</a><span class="block-list-count">3</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Markup-Language/">Markup Language</a><span class="block-list-count">2</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/JavaScript/">JavaScript</a><span class="block-list-count">10</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/HTML5/">HTML5</a><span class="block-list-count">2</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Docker/">Docker</a><span class="block-list-count">4</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/CodeWar/">CodeWar</a><span class="block-list-count">3</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/Amazon-Web-Services/">Amazon Web Services</a><span class="block-list-count">10</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/12th鐵人賽/">12th鐵人賽</a><span class="block-list-count">29</span></li><li class="block-list-item"><a class="block-list-link" href="/categories/11th鐵人賽/">11th鐵人賽</a><span class="block-list-count">30</span></li></ul></div><div class="sidebar__block"><h3 class="block__title">最新文章</h3><ul class="block-list latest-post-list"><li class="latest-post-item"><a href="/2020/10/14/codewars29/" title="29 - Sum of Intervals"><div class="item__cover"><img src="/img/header29.jpeg" alt="29 - Sum of Intervals"></div><div class="item__info"><h3 class="item__title">29 - Sum of Intervals</h3><span class="item__text">2020-10-14</span></div></a></li><li class="latest-post-item"><a href="/2020/10/13/codewars28/" title="28 - Find the missing letter"><div class="item__cover"><img src="/img/header28.jpeg" alt="28 - Find the missing letter"></div><div class="item__info"><h3 class="item__title">28 - Find the missing letter</h3><span class="item__text">2020-10-13</span></div></a></li><li class="latest-post-item"><a href="/2020/10/12/codewars27/" title="27 - First non-repeating character"><div class="item__cover"><img src="/img/header27.jpeg" alt="27 - First non-repeating character"></div><div class="item__info"><h3 class="item__title">27 - First non-repeating character</h3><span class="item__text">2020-10-12</span></div></a></li><li class="latest-post-item"><a href="/2020/10/11/codewars26/" title="26 - Tongues"><div class="item__cover"><img src="/img/header26.jpeg" alt="26 - Tongues"></div><div class="item__info"><h3 class="item__title">26 - Tongues</h3><span class="item__text">2020-10-11</span></div></a></li></ul></div><div class="sidebar__block"><h3 class="block__title">文章標籤</h3><ul class="block-list tag-list clearfix"><li class="tag-item"><a class="tag-link" href="/tags/11th鐵人賽/">11th鐵人賽</a></li><li class="tag-item"><a class="tag-link" href="/tags/12th鐵人賽/">12th鐵人賽</a></li><li class="tag-item"><a class="tag-link" href="/tags/2019-面試/">2019 面試</a></li><li class="tag-item"><a class="tag-link" href="/tags/6kyu/">6kyu</a></li><li class="tag-item"><a class="tag-link" href="/tags/AWS/">AWS</a></li><li class="tag-item"><a class="tag-link" href="/tags/Backend/">Backend</a></li><li class="tag-item"><a class="tag-link" href="/tags/Billing/">Billing</a></li><li class="tag-item"><a class="tag-link" href="/tags/CloudFront-Distribution/">CloudFront Distribution</a></li><li class="tag-item"><a class="tag-link" href="/tags/CodeWar/">CodeWar</a></li><li class="tag-item"><a class="tag-link" href="/tags/CodeWars/">CodeWars</a></li><li class="tag-item"><a class="tag-link" href="/tags/CoffeeScript/">CoffeeScript</a></li><li class="tag-item"><a class="tag-link" href="/tags/Docker/">Docker</a></li><li class="tag-item"><a class="tag-link" href="/tags/Frontend/">Frontend</a></li><li class="tag-item"><a class="tag-link" href="/tags/Fullstack/">Fullstack</a></li><li class="tag-item"><a class="tag-link" href="/tags/HTML5/">HTML5</a></li><li class="tag-item"><a class="tag-link" href="/tags/Haml/">Haml</a></li><li class="tag-item"><a class="tag-link" href="/tags/IAM/">IAM</a></li><li class="tag-item"><a class="tag-link" href="/tags/Iaas/">Iaas</a></li><li class="tag-item"><a class="tag-link" href="/tags/JavaScript/">JavaScript</a></li><li class="tag-item"><a class="tag-link" href="/tags/Oh-my-zsh/">Oh-my-zsh</a></li><li class="tag-item"><a class="tag-link" href="/tags/Paas/">Paas</a></li><li class="tag-item"><a class="tag-link" href="/tags/Rails/">Rails</a></li><li class="tag-item"><a class="tag-link" href="/tags/React/">React</a></li><li class="tag-item"><a class="tag-link" href="/tags/Ruby/">Ruby</a></li><li class="tag-item"><a class="tag-link" href="/tags/Ruby-on-Rails/">Ruby on Rails</a></li><li class="tag-item"><a class="tag-link" href="/tags/S3-Bucket/">S3 Bucket</a></li><li class="tag-item"><a class="tag-link" href="/tags/S3-Cross-Region-Replication/">S3 Cross Region Replication</a></li><li class="tag-item"><a class="tag-link" href="/tags/S3-Cross-Account-Access/">S3 Cross-Account Access</a></li><li class="tag-item"><a class="tag-link" href="/tags/S3-Lifecycle-Management/">S3 Lifecycle Management</a></li><li class="tag-item"><a class="tag-link" href="/tags/S3-Versioning/">S3 Versioning</a></li><li class="tag-item"><a class="tag-link" href="/tags/Saas/">Saas</a></li><li class="tag-item"><a class="tag-link" href="/tags/SnowBall/">SnowBall</a></li><li class="tag-item"><a class="tag-link" href="/tags/css/">css</a></li><li class="tag-item"><a class="tag-link" href="/tags/eRuby/">eRuby</a></li><li class="tag-item"><a class="tag-link" href="/tags/erb/">erb</a></li><li class="tag-item"><a class="tag-link" href="/tags/gem/">gem</a></li><li class="tag-item"><a class="tag-link" href="/tags/html/">html</a></li><li class="tag-item"><a class="tag-link" href="/tags/iTrem2/">iTrem2</a></li><li class="tag-item"><a class="tag-link" href="/tags/javascript/">javascript</a></li><li class="tag-item"><a class="tag-link" href="/tags/macOS/">macOS</a></li><li class="tag-item"><a class="tag-link" href="/tags/note/">note</a></li><li class="tag-item"><a class="tag-link" href="/tags/rbenv/">rbenv</a></li><li class="tag-item"><a class="tag-link" href="/tags/rvm/">rvm</a></li><li class="tag-item"><a class="tag-link" href="/tags/zsh/">zsh</a></li><li class="tag-item"><a class="tag-link" href="/tags/刷題見習村/">刷題見習村</a></li><li class="tag-item"><a class="tag-link" href="/tags/前端新手村/">前端新手村</a></li></ul></div></aside></main><footer class="page__footer"><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">© 2019 powered by <a href="https://github.com/BeastRush1231" target="_blank">Chester Tang</a></p><ul class="footer__social-network clearfix"></ul></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script></body></html>