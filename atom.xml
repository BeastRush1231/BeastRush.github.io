<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æŸ¥æ–¯ç‰¹éƒ¨è½æ ¼ | The Blog Of Chester Tang</title>
  
  <subtitle>æŸ¥æ–¯ç‰¹ Chester Tang</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://chestertang.site/"/>
  <updated>2020-07-27T14:45:42.296Z</updated>
  <id>http://chestertang.site/</id>
  
  <author>
    <name>[object Object]</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>J ç­†è¨˜ - Spread with Array</title>
    <link href="http://chestertang.site/2020/07/20/zyx0720/"/>
    <id>http://chestertang.site/2020/07/20/zyx0720/</id>
    <published>2020-07-20T04:00:00.000Z</published>
    <updated>2020-07-27T14:45:42.296Z</updated>
    
    <content type="html"><![CDATA[<h1 id="5-Use-Case-of-Spread-with-Array"><a href="#5-Use-Case-of-Spread-with-Array" class="headerlink" title="5 Use Case of Spread with Array"></a>5 Use Case of Spread with Array</h1><p>é€™ç¯‡å°‡ä»‹ç´¹ï¼Œå¸¸ç”¨çš„ <code>Spread</code> åœ¨é™£åˆ—ä¸­çš„äº”ç¨®æƒ…æ³ï¼Œå¯ä»¥æ‹¿ä¾†è¤‡è£½ã€åˆä½µæˆ–è€…æ˜¯ä½œè½‰æ›ç‚ºé™£åˆ—ã€‚é¦–å…ˆï¼Œç•¶ç„¶è¦å…ˆä¾†äº†è§£ ES6 çš„ <code>...</code> Spread ä»£è¡¨æ˜¯ä»€éº¼ï¼Ÿé‚„æœ‰å®ƒçš„ç‰¹æ€§ã€‚</p><h2 id="Understanding-Spread"><a href="#Understanding-Spread" class="headerlink" title="Understanding Spread"></a>Understanding Spread</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">x, y, z</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y + z;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum(...numbers));</span><br><span class="line"><span class="comment">// expected output: 6</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(sum.apply(<span class="literal">null</span>, numbers));</span><br><span class="line"><span class="comment">// expected output: 6</span></span><br></pre></td></tr></table></figure><blockquote><p>MDN: Spread syntax allows an iterable such as an array expression or string to be expanded in places where zero or more arguments (for function calls) or elements (for array literals) are expected, or an object expression to be expanded in places where zero or more key-value pairs (for object literals) are expected.</p></blockquote><h2 id="Spread-Destructuring-assignment"><a href="#Spread-Destructuring-assignment" class="headerlink" title="Spread = Destructuring assignment?"></a>Spread = Destructuring assignment?</h2><p>ä»€éº¼æ„æ€å‘¢ï¼Ÿå…¶å¯¦ï¼Œé™¤äº†è§£æ§‹è³¦å€¼ä¹‹å¤–ï¼Œèˆ‰å€‹ä¾‹å­åƒæ˜¯ï¼Œ Spread æœƒæŠŠç¾åœ¨ Array æ‹¿æ‰ï¼Œç„¶å¾Œå†æŠŠè£¡é¢åŒ…ä½çš„æ±è¥¿æ”¾åˆ°å¦ä¸€å€‹ Array ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  ...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="comment">// ... &gt; []</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/*  æ‹¿æ‰åŒ…ä½ [1, 2, 3] çš„ Array */</span></span><br><span class="line">[</span><br><span class="line">  <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="Array-Manipulation"><a href="#Array-Manipulation" class="headerlink" title="Array Manipulation"></a>Array Manipulation</h2><ol><li>Use Spread for Merging Array</li></ol><p>å¦‚æœæœ‰å…©å€‹é™£åˆ—éœ€è¦æŠŠä»–åˆæˆä¸€å€‹ï¼Œæˆ–è¨±ä¹‹å‰æœƒæ˜¯é€™æ¨£å­åšï¼Œä½†æœƒæœ‰ä¸€é»ç‘•ç–µâ€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> merge = [array1, array2];</span><br><span class="line"><span class="comment">// [ [1, 2, 3], [4, 5, 6] ]</span></span><br></pre></td></tr></table></figure><p>ç”¨ <code>Spread</code> ä¾†åšçš„è©±</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> spread_merge = [</span><br><span class="line">  ...array1,</span><br><span class="line">  ...array2</span><br><span class="line">];</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><ol start="2"><li>Clone Array</li></ol><p>é€™éƒ¨åˆ†åœ¨ä¹‹å‰çš„ç³»åˆ—ç­†è¨˜ä¸­å…¶å¯¦å·²ç¶“å¤§è‡´ä¸Šéƒ½æœ‰èªªåˆ°éï¼Œå¦‚æœé‚„æ²’æœ‰çœ‹éçš„å¯ä»¥å»çœ‹ä¸€ä¸‹ <a href="https://chestertang.site/2020/04/18/zyx0418/">Clone an Array</a>ã€‚å¦å¤–ï¼Œé‚„æœ‰é€™ä¸€ç¯‡å°±åœ¨æ›´è¤‡é›œä¸€äº› <a href="https://chestertang.site/2020/04/29/zyx0429/">Deep Clone Array</a></p><p>å…¶ä¸­çš„è§€å¿µåœ¨ï¼Œæœƒä¸æœƒå½±éŸ¿åˆ°åŸæœ¬è¢«è¤‡è£½çš„é™£åˆ—ï¼Œä»€éº¼æ™‚å€™æ˜¯ Pass by referenceã€ä»€éº¼æ™‚å€™æ˜¯ Pass by value è€Œä»€éº¼æƒ…æ³ä¸‹åˆæœƒå‡ºç¾ JS ç¨æœ‰çš„ Pass by sharing å‘¢ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = [<span class="string">'zero'</span>, <span class="string">'one'</span>];</span><br><span class="line"><span class="keyword">const</span> newArray = original;</span><br><span class="line"></span><br><span class="line">original; <span class="comment">// ['zero', 'one']</span></span><br><span class="line">newArray; <span class="comment">// ['zero', 'one']</span></span><br></pre></td></tr></table></figure><p>çœ‹èµ·ä¾†æ²’ä»€éº¼å•é¡Œï¼Œä½†å¦‚æœåªè¦æ”¹æ–°é™£åˆ—è£¡é¢çš„å…ƒç´ æ™‚ï¼ŒåŸæœ¬çš„é™£åˆ—ä¹Ÿæœƒè¢«æ›´å‹•äº†â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">newArray[<span class="number">1</span>] = <span class="string">'ğŸ’©'</span>;</span><br><span class="line"></span><br><span class="line">newArray;</span><br><span class="line"><span class="comment">// ['zero', 'ğŸ’©']</span></span><br><span class="line"></span><br><span class="line">original;</span><br><span class="line"><span class="comment">// ['zero', 'ğŸ’©']...</span></span><br></pre></td></tr></table></figure><h3 id="Cloning-Array-the-Right-Way"><a href="#Cloning-Array-the-Right-Way" class="headerlink" title="Cloning Array the Right Way"></a>Cloning Array the Right Way</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = [<span class="string">'zero'</span>, <span class="string">'one'</span>];</span><br><span class="line"><span class="keyword">const</span> newArray = [...original];</span><br><span class="line"></span><br><span class="line">newArray[<span class="number">1</span>] = <span class="string">'ğŸ’©'</span>;</span><br><span class="line"></span><br><span class="line">newArray;</span><br><span class="line"><span class="comment">// ['zero', 'ğŸ’©']</span></span><br><span class="line">original;</span><br><span class="line"><span class="comment">// ['zero', 'one']</span></span><br></pre></td></tr></table></figure><ol start="3"><li>Iterables to Array</li></ol><p>å­—ä¸²çš„éƒ¨åˆ†å°±å¾ˆå¥½ç†è§£ï¼Œä¹Ÿæ²’æœ‰ä»€éº¼å…¶ä»–å¤šè®Šçš„æƒ…æ³â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> string = <span class="string">'hi'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array = [...string];</span><br><span class="line"></span><br><span class="line">array;</span><br><span class="line"><span class="comment">// [ 'h' , 'i' ]</span></span><br></pre></td></tr></table></figure><ol start="4"><li>Set to Array</li></ol><p>The Set object lets you store unique values of any type, whether primitive values or object references.</p><blockquote><p>Set objects are collections of values. You can iterate through the elements of a set in insertion order. A value in the Set may only occur once; it is unique in the Setâ€™s collection.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">set</span> = new Set([1, 2, 3]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span>;</span><br><span class="line">// Set(3) &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array = [...set];</span><br><span class="line"></span><br><span class="line">array;</span><br><span class="line"><span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure><ol start="5"><li>Node List to Array</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">'p'</span>);</span><br><span class="line"></span><br><span class="line">nodeList;</span><br><span class="line"><span class="comment">// [p, p, p]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array = [...nodeList];</span><br><span class="line"></span><br><span class="line">array;</span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener">MDN: Spread syntax (â€¦)</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank" rel="noopener">MDN: Set</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;5-Use-Case-of-Spread-with-Array&quot;&gt;&lt;a href=&quot;#5-Use-Case-of-Spread-with-Array&quot; class=&quot;headerlink&quot; title=&quot;5 Use Case of Spread with Array&quot;&gt;&lt;/a&gt;5 Use Case of Spread with Array&lt;/h1&gt;&lt;p&gt;é€™ç¯‡å°‡ä»‹ç´¹ï¼Œå¸¸ç”¨çš„ &lt;code&gt;Spread&lt;/code&gt; åœ¨é™£åˆ—ä¸­çš„äº”ç¨®æƒ…æ³ï¼Œå¯ä»¥æ‹¿ä¾†è¤‡è£½ã€åˆä½µæˆ–è€…æ˜¯ä½œè½‰æ›ç‚ºé™£åˆ—ã€‚é¦–å…ˆï¼Œç•¶ç„¶è¦å…ˆä¾†äº†è§£ ES6 çš„ &lt;code&gt;...&lt;/code&gt; Spread ä»£è¡¨æ˜¯ä»€éº¼ï¼Ÿé‚„æœ‰å®ƒçš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&quot;Understanding-Spread&quot;&gt;&lt;a href=&quot;#Understanding-Spread&quot; class=&quot;headerlink&quot; title=&quot;Understanding Spread&quot;&gt;&lt;/a&gt;Understanding Spread&lt;/h2&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x, y, z&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; x + y + z;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; numbers = [&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(sum(...numbers));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// expected output: 6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(sum.apply(&lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;, numbers));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// expected output: 6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;MDN: Spread syntax allows an iterable such as an array expression or string to be expanded in places where zero or more arguments (for function calls) or elements (for array literals) are expected, or an object expression to be expanded in places where zero or more key-value pairs (for object literals) are expected.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Spread-Destructuring-assignment&quot;&gt;&lt;a href=&quot;#Spread-Destructuring-assignment&quot; class=&quot;headerlink&quot; title=&quot;Spread = Destructuring assignment?&quot;&gt;&lt;/a&gt;Spread = Destructuring assignment?&lt;/h2&gt;&lt;p&gt;ä»€éº¼æ„æ€å‘¢ï¼Ÿå…¶å¯¦ï¼Œé™¤äº†è§£æ§‹è³¦å€¼ä¹‹å¤–ï¼Œèˆ‰å€‹ä¾‹å­åƒæ˜¯ï¼Œ Spread æœƒæŠŠç¾åœ¨ Array æ‹¿æ‰ï¼Œç„¶å¾Œå†æŠŠè£¡é¢åŒ…ä½çš„æ±è¥¿æ”¾åˆ°å¦ä¸€å€‹ Array ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;[&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ...[&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;] &lt;span class=&quot;comment&quot;&gt;// ... &amp;gt; []&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/*  æ‹¿æ‰åŒ…ä½ [1, 2, 3] çš„ Array */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Array-Manipulation&quot;&gt;&lt;a href=&quot;#Array-Manipulation&quot; class=&quot;headerlink&quot; title=&quot;Array Manipulation&quot;&gt;&lt;/a&gt;Array Manipulation&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Use Spread for Merging Array&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Async/Await in Array</title>
    <link href="http://chestertang.site/2020/05/22/zyx0522/"/>
    <id>http://chestertang.site/2020/05/22/zyx0522/</id>
    <published>2020-05-22T04:00:00.000Z</published>
    <updated>2020-06-09T09:45:01.900Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Async-Await-in-Array-Loops"><a href="#Async-Await-in-Array-Loops" class="headerlink" title="Async/Await in Array Loops"></a>Async/Await in Array Loops</h1><p>éš¨è‘— <code>ES6</code> çš„ <code>Promise</code> è§£æ±º callbacks hell çš„å•é¡Œå¾Œï¼Œå–å¾—ä»£ä¹‹çš„å°±æ˜¯ <code>Es7</code> çš„ <code>Async/Await</code>ï¼Œéƒ½æ˜¯ç‚ºäº†é”æˆ AJAX ç²å¾—æ›´å¥½çš„é«”é©—ã€‚é€™ç¯‡ç°¡å–®ç´€éŒ„ä¸€ä¸‹ä½¿ç”¨ <code>Async/Await</code> åœ¨è¿´åœˆè£¡é¢é‡åˆ°çš„å•é¡Œï¼Œä»¥åŠè©²å¦‚ä½•è§£æ±ºï¼Œä»¥ä¸‹å°±ä»¥ä¸‰å€‹ä¾‹å­ä¾†èˆ‰ä¾‹ï¼š</p><h2 id="ForEach"><a href="#ForEach" class="headerlink" title="ForEach"></a>ForEach</h2><p>å¦‚æœæ˜¯ <code>ForEach</code> æ­é… <code>Async/Await</code> çš„æ™‚å€™ï¼Œæœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å‘¢ï¼Ÿæˆ‘å€‘ç›´æ¥ä¾†æ·±å…¥äº†è§£å§ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> urls = [</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/1'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/2'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/3'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getTodos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> urls.forEach(<span class="keyword">async</span> (url, idx) =&gt; &#123; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Received Todo <span class="subst">$&#123;idx+<span class="number">1</span>&#125;</span>:`</span>, <span class="keyword">await</span> fetch(url));</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Finished!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getTodos();</span><br></pre></td></tr></table></figure><p>é›–ç„¶ç¨‹å¼ç¢¼éƒ½æ²’æœ‰ä»»ä½•éŒ¯èª¤ï¼Œä¹Ÿä¸æœƒå™´éŒ¯è·‘ä¸æˆåŠŸï¼Œä½†æ˜¯ç›¸ä¿¡çœ¼å°–çš„ä½ ä¸€å®šæœƒæ³¨æ„ <code>Finished!</code> å±…ç„¶åœ¨ <code>await urls.forEach</code> ä¹‹å‰å°±åŸ·è¡Œäº†ï¼ä¸æ˜¯èªªå¥½çš„ <code>async</code> è¦ <code>await</code> å—ï¼Ÿèª°è·Ÿä½ èªªå¥½ï½å¦‚ä»¥ä¸‹çš„çµæœæ‰€ç¤ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Promise &#123;&lt;resolved&gt;: undefined&#125;</span></span><br><span class="line"></span><br><span class="line">Finished!</span><br><span class="line">Received Todo <span class="number">1</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/1"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br><span class="line">Received Todo <span class="number">3</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/3"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br><span class="line">Received Todo <span class="number">2</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/2"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br></pre></td></tr></table></figure><p>é‚£ä¸èƒ½ç”¨ <code>ForEach</code> æˆ‘å€‘è©²å¦‚ä½•è§£æ±ºå‘¢ï¼Ÿä¾†çœ‹çœ‹åº•ä¸‹çš„å…©ç¨®æ–¹å¼å§ï¼</p><h2 id="Map-Promise-all"><a href="#Map-Promise-all" class="headerlink" title="Map + Promise.all"></a>Map + Promise.all</h2><h3 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all()"></a><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" rel="noopener">Promise.all()</a></h3><blockquote><p>Promise.all() æ–¹æ³•å›å‚³ä¸€å€‹ Promise ç‰©ä»¶ï¼Œç•¶å¼•æ•¸ iterable ä¸­æ‰€æœ‰çš„ promises éƒ½è¢«å¯¦ç¾ï¼ˆresolvedï¼‰ï¼Œæˆ–å¼•æ•¸ iterable ä¸å«ä»»ä½• promise æ™‚ï¼Œè¢«å¯¦ç¾ã€‚æˆ–ä»¥ç¬¬ä¸€å€‹è¢«æ‹’çµ•çš„ promise çš„åŸå› è¢«æ‹’çµ•ã€‚</p></blockquote><ul><li>ä¸€å€‹å·²è¢«å¯¦ç¾ï¼ˆalready resolvedï¼‰çš„ <code>Promise</code>ï¼Œè‹¥å‚³å…¥çš„ iterable ç‚ºç©ºã€‚</li><li>ä¸€å€‹éåŒæ­¥åœ°è¢«å¯¦ç¾ï¼ˆasynchronously resolvedï¼‰çš„ Promise è‹¥å‚³å…¥çš„ iterable ä¸å« promiseã€‚æ³¨æ„ï¼ŒGoogle Chrome 58 å°æ­¤æƒ…å½¢å›å‚³ä¸€å€‹å·²è¢«è§£æ±ºçš„ promiseã€‚</li><li>ä¸€å€‹æ“±ç½®ï¼ˆpendingï¼‰çš„ Promiseï¼Œå°æ‰€æœ‰å‰©é¤˜æƒ…å½¢ã€‚æ­¤ promise æ¥è‘—è¢«éåŒæ­¥åœ°è¢« resolved/rejectedï¼ˆåªè¦å †ç–Šç‚ºç©ºï¼‰ç•¶ iterable ä¸­æ‰€æœ‰çš„ promises éƒ½è¢«å¯¦ç¾ï¼Œæˆ–å…¶ä¸­ä¸€å€‹è¢«æ‹’çµ•ã€‚åƒè¦‹ä¸‹æ–¹é—œæ–¼â€Promise.all çš„éåŒæ­¥èˆ‡åŒæ­¥æ€§è³ªâ€çš„ä¾‹å­ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> urls = [</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/1'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/2'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/3'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getTodos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> promises = urls.map(<span class="keyword">async</span> (url, idx) =&gt; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Received Todo <span class="subst">$&#123;idx+<span class="number">1</span>&#125;</span>:`</span>, <span class="keyword">await</span> fetch(url))</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">await</span> <span class="built_in">Promise</span>.all(promises);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Finished!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getTodos();</span><br></pre></td></tr></table></figure><h2 id="Forâ€¦of"><a href="#Forâ€¦of" class="headerlink" title="Forâ€¦of"></a>Forâ€¦of</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> urls = [</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/1'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/2'</span>,</span><br><span class="line">  <span class="string">'https://jsonplaceholder.typicode.com/todos/3'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">getTodos</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> [idx, url] <span class="keyword">of</span> urls.entries()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Received Todo <span class="subst">$&#123;idx+<span class="number">1</span>&#125;</span>:`</span>, <span class="keyword">await</span> fetch(url));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Finished!'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getTodos();</span><br></pre></td></tr></table></figure><p>ä¸Šé¢å…©ç¨®æ–¹æ³•éƒ½å¯ä»¥å¾—åˆ°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Received Todo <span class="number">1</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/1"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br><span class="line">Received Todo <span class="number">2</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/2"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br><span class="line">Received Todo <span class="number">3</span>, <span class="attr">Response</span>: &#123; <span class="attr">type</span>: <span class="string">"cors"</span>, <span class="attr">url</span>: <span class="string">"https://jsonplaceholder.typicode.com/todos/3"</span>, <span class="attr">redirected</span>: <span class="literal">false</span>, <span class="attr">status</span>: <span class="number">200</span>, <span class="attr">ok</span>: <span class="literal">true</span>, â€¦ &#125;</span><br><span class="line">Finished!</span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all" target="_blank" rel="noopener">Promise.all()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank" rel="noopener">async function</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" target="_blank" rel="noopener">await</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" target="_blank" rel="noopener">Array.prototype.forEach()</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Async-Await-in-Array-Loops&quot;&gt;&lt;a href=&quot;#Async-Await-in-Array-Loops&quot; class=&quot;headerlink&quot; title=&quot;Async/Await in Array Loops&quot;&gt;&lt;/a&gt;Async/Await in Array Loops&lt;/h1&gt;&lt;p&gt;éš¨è‘— &lt;code&gt;ES6&lt;/code&gt; çš„ &lt;code&gt;Promise&lt;/code&gt; è§£æ±º callbacks hell çš„å•é¡Œå¾Œï¼Œå–å¾—ä»£ä¹‹çš„å°±æ˜¯ &lt;code&gt;Es7&lt;/code&gt; çš„ &lt;code&gt;Async/Await&lt;/code&gt;ï¼Œéƒ½æ˜¯ç‚ºäº†é”æˆ AJAX ç²å¾—æ›´å¥½çš„é«”é©—ã€‚é€™ç¯‡ç°¡å–®ç´€éŒ„ä¸€ä¸‹ä½¿ç”¨ &lt;code&gt;Async/Await&lt;/code&gt; åœ¨è¿´åœˆè£¡é¢é‡åˆ°çš„å•é¡Œï¼Œä»¥åŠè©²å¦‚ä½•è§£æ±ºï¼Œä»¥ä¸‹å°±ä»¥ä¸‰å€‹ä¾‹å­ä¾†èˆ‰ä¾‹ï¼š&lt;/p&gt;
&lt;h2 id=&quot;ForEach&quot;&gt;&lt;a href=&quot;#ForEach&quot; class=&quot;headerlink&quot; title=&quot;ForEach&quot;&gt;&lt;/a&gt;ForEach&lt;/h2&gt;&lt;p&gt;å¦‚æœæ˜¯ &lt;code&gt;ForEach&lt;/code&gt; æ­é… &lt;code&gt;Async/Await&lt;/code&gt; çš„æ™‚å€™ï¼Œæœƒç™¼ç”Ÿä»€éº¼äº‹æƒ…å‘¢ï¼Ÿæˆ‘å€‘ç›´æ¥ä¾†æ·±å…¥äº†è§£å§ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; urls = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;https://jsonplaceholder.typicode.com/todos/1&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;https://jsonplaceholder.typicode.com/todos/2&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;string&quot;&gt;&#39;https://jsonplaceholder.typicode.com/todos/3&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getTodos&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; urls.forEach(&lt;span class=&quot;keyword&quot;&gt;async&lt;/span&gt; (url, idx) =&amp;gt; &amp;#123; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;`Received Todo &lt;span class=&quot;subst&quot;&gt;$&amp;#123;idx+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;&amp;#125;&lt;/span&gt;:`&lt;/span&gt;, &lt;span class=&quot;keyword&quot;&gt;await&lt;/span&gt; fetch(url));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&#39;Finished!&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;getTodos();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é›–ç„¶ç¨‹å¼ç¢¼éƒ½æ²’æœ‰ä»»ä½•éŒ¯èª¤ï¼Œä¹Ÿä¸æœƒå™´éŒ¯è·‘ä¸æˆåŠŸï¼Œä½†æ˜¯ç›¸ä¿¡çœ¼å°–çš„ä½ ä¸€å®šæœƒæ³¨æ„ &lt;code&gt;Finished!&lt;/code&gt; å±…ç„¶åœ¨ &lt;code&gt;await urls.forEach&lt;/code&gt; ä¹‹å‰å°±åŸ·è¡Œäº†ï¼ä¸æ˜¯èªªå¥½çš„ &lt;code&gt;async&lt;/code&gt; è¦ &lt;code&gt;await&lt;/code&gt; å—ï¼Ÿèª°è·Ÿä½ èªªå¥½ï½å¦‚ä»¥ä¸‹çš„çµæœæ‰€ç¤ºï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Promise &amp;#123;&amp;lt;resolved&amp;gt;: undefined&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Finished!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Received Todo &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;Response&lt;/span&gt;: &amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;cors&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;https://jsonplaceholder.typicode.com/todos/1&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;redirected&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;status&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;ok&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, â€¦ &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Received Todo &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;Response&lt;/span&gt;: &amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;cors&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;https://jsonplaceholder.typicode.com/todos/3&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;redirected&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;status&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;ok&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, â€¦ &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Received Todo &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;Response&lt;/span&gt;: &amp;#123; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;cors&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;url&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;https://jsonplaceholder.typicode.com/todos/2&quot;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;redirected&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;status&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;ok&lt;/span&gt;: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;, â€¦ &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é‚£ä¸èƒ½ç”¨ &lt;code&gt;ForEach&lt;/code&gt; æˆ‘å€‘è©²å¦‚ä½•è§£æ±ºå‘¢ï¼Ÿä¾†çœ‹çœ‹åº•ä¸‹çš„å…©ç¨®æ–¹å¼å§ï¼&lt;/p&gt;
&lt;h2 id=&quot;Map-Promise-all&quot;&gt;&lt;a href=&quot;#Map-Promise-all&quot; class=&quot;headerlink&quot; title=&quot;Map + Promise.all&quot;&gt;&lt;/a&gt;Map + Promise.all&lt;/h2&gt;&lt;h3 id=&quot;Promise-all&quot;&gt;&lt;a href=&quot;#Promise-all&quot; class=&quot;headerlink&quot; title=&quot;Promise.all()&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Promise/all&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Promise.all()&lt;/a&gt;&lt;/h3&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Clone an Object</title>
    <link href="http://chestertang.site/2020/05/05/zyx0505/"/>
    <id>http://chestertang.site/2020/05/05/zyx0505/</id>
    <published>2020-05-05T03:00:00.000Z</published>
    <updated>2020-06-29T14:33:14.619Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Clone-an-Object"><a href="#J-ç­†è¨˜-Clone-an-Object" class="headerlink" title="J ç­†è¨˜ - Clone an Object"></a>J ç­†è¨˜ - Clone an Object</h1><p>é›–ç„¶åœ¨ JavaScript è£¡çš„ç‰©ä»¶å‹åˆ¥æ˜¯å±¬æ–¼ Passing by sharingï¼Œä½†æ­£å¸¸ä¾†èªªå¦‚æœæ²’æœ‰å‚³éåˆ°å¦ä¸€ç‰©ä»¶çš„è©±ï¼Œæ­£å¸¸ç‚º Passing by Addressï¼Œå› æ­¤æ²’æœ‰è¾¦æ³•ç›´æ¥ç”¨ç­‰è™Ÿ <code>=</code> ä¾†æ›´æ”¹å€¼ã€è€Œæœƒæ”¹åˆ°å€ã€‚</p><h2 id="3-Ways-to-Clone-Objects"><a href="#3-Ways-to-Clone-Objects" class="headerlink" title="3 Ways to Clone Objects"></a>3 Ways to Clone Objects</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">Array</span> = &#123; <span class="attr">old</span>: <span class="string">'ES5'</span>, <span class="attr">new</span>: <span class="string">'ES6'</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// "Spread"</span></span><br><span class="line">&#123; ...Array &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// "Object.assign"</span></span><br><span class="line"><span class="built_in">Object</span>.assign(&#123;&#125;, <span class="built_in">Array</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// "JSON"</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(<span class="built_in">Array</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// RESULT:</span></span><br><span class="line"><span class="comment">// &#123; old: 'ES5', new: 'ES6'&#125;;</span></span><br></pre></td></tr></table></figure><h2 id="Passing-by-Address"><a href="#Passing-by-Address" class="headerlink" title="Passing by Address"></a>Passing by Address</h2><p>é‚„è¨˜å¾— <a href="https://ithelp.ithome.com.tw/articles/10191057" target="_blank" rel="noopener">é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ</a> å§ï¼ŸåŸºæœ¬å‹åˆ¥çš„æ›´æ–°èˆ‡å‚³éæœƒä»¥ <code>Passing by Value</code>ï¼Œå…©è€…æ˜¯å€‹æ˜¯å„è‡ªç¨ç«‹çš„ï¼Œè€Œç‰©ä»¶å‹åˆ¥å‰‡æ˜¯å¦‚åŒé–‹é ­æ‰€è¿°ï¼Œæœƒæ›´æ”¹åˆ°åŸæœ¬çš„å¯¦é«”ï¼Œå› ç‚ºå…©è€…æ ¹æœ¬æ˜¯æŒ‡å‘åŒä¸€å€‹å¯¦é«”çš„ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> coin1 = &#123; <span class="attr">value</span>: <span class="number">10</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> coin2 = coin1;</span><br><span class="line"></span><br><span class="line">coin1.value = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log( coin1.value );</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"><span class="built_in">console</span>.log( coin2.value );</span><br><span class="line"><span class="comment">// 100</span></span><br></pre></td></tr></table></figure><h2 id="Passing-by-sharing"><a href="#Passing-by-sharing" class="headerlink" title="Passing by sharing"></a>Passing by sharing</h2><p>ã€ŒPass by sharingã€çš„ç‰¹é»åœ¨æ–¼ï¼Œç•¶ function çš„åƒæ•¸ï¼Œå¦‚ <code>function changeValue(obj){ ... }</code> ä¸­çš„ obj è¢«é‡æ–°è³¦å€¼çš„æ™‚å€™ï¼Œå¤–éƒ¨è®Šæ•¸çš„å…§å®¹æ˜¯ä¸æœƒè¢«å½±éŸ¿çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> coin1 = &#123; <span class="attr">value</span>: <span class="number">10</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">changeValue</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  obj = &#123; <span class="attr">value</span>: <span class="number">123</span> &#125;; <span class="comment">// Assignment</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">changeValue(coin1);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(coin1);   </span><br><span class="line"><span class="comment">// &#123; value: 10 &#125;</span></span><br></pre></td></tr></table></figure><p>èªªäº†é€™éº¼å¤šä¹ŸçŸ¥é“äº†åŸå› ä¹‹å¾Œï¼Œä»¥ä¸‹å°±ä¾†ä»‹ç´¹ä¸‰ç¨®è¤‡è£½ç‰©ä»¶çš„æ–¹æ³•ã€‚æ³¨æ„çš„æ˜¯ï¼ŒArray çš„è¤‡è£½ä¹Ÿæœ‰æ¢è¨åˆ° <code>æ·±å±¤</code>ã€<code>æ·ºå±¤</code> çš„å•é¡Œï¼Œå¦‚åŒ <a href="https://chestertang.site/2020/04/29/zyx0429/">Deep Clone Array</a> ã„§æ¨£ï¼ŒJSON çš„æ–¹å¼æ˜¯å¯ä»¥è¤‡è£½åˆ° <code>æ·±å±¤</code> çš„ï¼Œè€Œå…¶ä»–å…©ç¨®æ²’æœ‰è¾¦æ³•ï¼</p><ol><li>Using Spread</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">Array</span> = &#123; <span class="attr">old</span>: <span class="string">'ES5'</span>, <span class="attr">new</span>: <span class="string">'ES6'</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> SpreadCloneArray = &#123; ...Array &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(SpreadCloneArray);</span><br><span class="line"><span class="comment">// &#123; old: 'ES5', new: 'ES6' &#125;</span></span><br></pre></td></tr></table></figure><ol start="2"><li>Using Object.assign</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">Array</span> = &#123; <span class="attr">old</span>: <span class="string">'ES5'</span>, <span class="attr">new</span>: <span class="string">'ES6'</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Object_AssignCloneArray = <span class="built_in">Object</span>.assign(&#123;&#125;, <span class="built_in">Array</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Object_AssignCloneArray);</span><br><span class="line"><span class="comment">// &#123; old: 'ES5', new: 'ES6' &#125;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>Using JSON</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">Array</span> = &#123; <span class="attr">old</span>: <span class="string">'ES5'</span>, <span class="attr">new</span>: <span class="string">'ES6'</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> JSONArray = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(<span class="built_in">Array</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(JSONArray);</span><br><span class="line"><span class="comment">// &#123; old: 'ES5', new: 'ES6' &#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>Lodash åœ¨ deep clone ä¸åªæ˜¯é©ç”¨æ–¼ Array ä¹ŸåŒæ¨£é©ç”¨æ–¼ Object </p></blockquote><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">Object.assign()</a></li><li><a href="https://stackoverflow.com/questions/122102/what-is-the-most-efficient-way-to-deep-clone-an-object-in-javascript" target="_blank" rel="noopener">What is the most efficient way to deep clone an object in JavaScript?</a></li><li><a href="https://ithelp.ithome.com.tw/articles/10191057" target="_blank" rel="noopener">é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Clone-an-Object&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Clone-an-Object&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Clone an Object&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Clone an Object&lt;/h1&gt;&lt;p&gt;é›–ç„¶åœ¨ JavaScript è£¡çš„ç‰©ä»¶å‹åˆ¥æ˜¯å±¬æ–¼ Passing by sharingï¼Œä½†æ­£å¸¸ä¾†èªªå¦‚æœæ²’æœ‰å‚³éåˆ°å¦ä¸€ç‰©ä»¶çš„è©±ï¼Œæ­£å¸¸ç‚º Passing by Addressï¼Œå› æ­¤æ²’æœ‰è¾¦æ³•ç›´æ¥ç”¨ç­‰è™Ÿ &lt;code&gt;=&lt;/code&gt; ä¾†æ›´æ”¹å€¼ã€è€Œæœƒæ”¹åˆ°å€ã€‚&lt;/p&gt;
&lt;h2 id=&quot;3-Ways-to-Clone-Objects&quot;&gt;&lt;a href=&quot;#3-Ways-to-Clone-Objects&quot; class=&quot;headerlink&quot; title=&quot;3 Ways to Clone Objects&quot;&gt;&lt;/a&gt;3 Ways to Clone Objects&lt;/h2&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt; = &amp;#123; &lt;span class=&quot;attr&quot;&gt;old&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;attr&quot;&gt;new&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;Spread&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123; ...Array &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;Object.assign&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign(&amp;#123;&amp;#125;, &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &quot;JSON&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;JSON&lt;/span&gt;.parse(&lt;span class=&quot;built_in&quot;&gt;JSON&lt;/span&gt;.stringify(&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// RESULT:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; old: &#39;ES5&#39;, new: &#39;ES6&#39;&amp;#125;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Passing-by-Address&quot;&gt;&lt;a href=&quot;#Passing-by-Address&quot; class=&quot;headerlink&quot; title=&quot;Passing by Address&quot;&gt;&lt;/a&gt;Passing by Address&lt;/h2&gt;&lt;p&gt;é‚„è¨˜å¾— &lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10191057&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ&lt;/a&gt; å§ï¼ŸåŸºæœ¬å‹åˆ¥çš„æ›´æ–°èˆ‡å‚³éæœƒä»¥ &lt;code&gt;Passing by Value&lt;/code&gt;ï¼Œå…©è€…æ˜¯å€‹æ˜¯å„è‡ªç¨ç«‹çš„ï¼Œè€Œç‰©ä»¶å‹åˆ¥å‰‡æ˜¯å¦‚åŒé–‹é ­æ‰€è¿°ï¼Œæœƒæ›´æ”¹åˆ°åŸæœ¬çš„å¯¦é«”ï¼Œå› ç‚ºå…©è€…æ ¹æœ¬æ˜¯æŒ‡å‘åŒä¸€å€‹å¯¦é«”çš„ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; coin1 = &amp;#123; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; coin2 = coin1;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;coin1.value = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log( coin1.value );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log( coin2.value );&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Passing-by-sharing&quot;&gt;&lt;a href=&quot;#Passing-by-sharing&quot; class=&quot;headerlink&quot; title=&quot;Passing by sharing&quot;&gt;&lt;/a&gt;Passing by sharing&lt;/h2&gt;&lt;p&gt;ã€ŒPass by sharingã€çš„ç‰¹é»åœ¨æ–¼ï¼Œç•¶ function çš„åƒæ•¸ï¼Œå¦‚ &lt;code&gt;function changeValue(obj){ ... }&lt;/code&gt; ä¸­çš„ obj è¢«é‡æ–°è³¦å€¼çš„æ™‚å€™ï¼Œå¤–éƒ¨è®Šæ•¸çš„å…§å®¹æ˜¯ä¸æœƒè¢«å½±éŸ¿çš„ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; coin1 = &amp;#123; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;10&lt;/span&gt; &amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;changeValue&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;obj&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj = &amp;#123; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;123&lt;/span&gt; &amp;#125;; &lt;span class=&quot;comment&quot;&gt;// Assignment&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;changeValue(coin1);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(coin1);   &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// &amp;#123; value: 10 &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Object to Array</title>
    <link href="http://chestertang.site/2020/05/04/zyx0504/"/>
    <id>http://chestertang.site/2020/05/04/zyx0504/</id>
    <published>2020-05-03T16:00:00.000Z</published>
    <updated>2020-05-04T09:47:18.327Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Object-to-Array"><a href="#J-ç­†è¨˜-Object-to-Array" class="headerlink" title="J ç­†è¨˜ - Object to Array"></a>J ç­†è¨˜ - Object to Array</h1><p>ç¹¼ä¹‹å‰çš„ <a href="https://chestertang.site/2020/04/13/zyx0413/">String to Array</a> å¾Œï¼Œæˆ‘å€‘å·²ç¶“æœƒäº†è¨±å¤šç¨®å°‡å­—ä¸²è½‰æˆé™£åˆ—çš„æ–¹æ³•ã€‚é€™ç¯‡å°‡ä»‹ç´¹å¦‚ä½•å°‡ Object è½‰æˆ Array â€¦</p><h2 id="Ancient"><a href="#Ancient" class="headerlink" title="Ancient"></a>Ancient</h2><p>åœ¨ ES6 ä»¥å‰ï¼Œæˆ‘å€‘æƒ³å°‡ Object è®Šæˆ Array å¸¸å¸¸æœƒé€™æ¨£ä¾†ä½¿ç”¨ï¼Œä½†å…¶å¯¦é€™ç¨®æ–¹æ³•çœŸçš„ä¸å¤ªå¥½ç”¨ï¼è€Œä¸”è·Ÿ Ruby è¶…ç´šä¸åˆé©çš„ï¼Œå®£å‘Šä¸€å€‹ç©ºçš„é™£åˆ—ï¼Œç„¶å¾Œå¡æ±è¥¿é€²å»ï¼Œé€šå¸¸éƒ½å¯ä»¥æœ‰æ›´å¥½çš„æ–¹æ³•å¯ä»¥å–ä»£æ‰é€™ç¨®å¯«æ³•â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ancientObjects = &#123;</span><br><span class="line">  obj1: <span class="string">'ancient1'</span>,</span><br><span class="line">  obj2: <span class="string">'ancient2'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emptyArray = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> ancientObject <span class="keyword">in</span> ancientObjects) &#123;</span><br><span class="line">  <span class="keyword">if</span> (ancientObjects.hasOwnProperty(ancientObject)) &#123;</span><br><span class="line">    emptyArray.push(ancientObjects);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">emptyArray; </span><br><span class="line"><span class="comment">// [ 'ancient1', 'ancient2' ]</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="noopener">Object.prototype.hasOwnProperty()</a></p></blockquote><h2 id="ES6-Object-keys"><a href="#ES6-Object-keys" class="headerlink" title="ES6 - Object.keys()"></a>ES6 - Object.keys()</h2><p>ES6å¾Œï¼Œæœ‰äº† <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener">Object.keys()</a> é€™å€‹æ–°æ–¹æ³•ï¼Œä¸éå¾ˆå¥‡æ€ªçš„å±…ç„¶åªæœ‰æä¾› <code>key</code>ï¼Œå»æ²’æœ‰ <code>value</code>ï¼Œæ„å¤–è¦ºå¾—ç‰¹åˆ¥çš„è©­ç•°â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ES6Objects = &#123;</span><br><span class="line">  ES6Obj1: <span class="string">'ES6-1'</span>,</span><br><span class="line">  ES6Obj2: <span class="string">'ES6-2'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.keys(ES6Objects);</span><br><span class="line"><span class="comment">// [ 'ES6Obj1', 'ES6Obj2' ]</span></span><br></pre></td></tr></table></figure><h2 id="ES7-Object-values-Object-entries"><a href="#ES7-Object-values-Object-entries" class="headerlink" title="ES7 - Object.values() / Object.entries()"></a>ES7 - Object.values() / Object.entries()</h2><p>æ‰€ä»¥ ES7 å°±ç”Ÿå‡º <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values" target="_blank" rel="noopener">Object.values()</a> äº†ï¼Œä¸åªå¦‚æ­¤ï¼Œé‚„é€£ key + value åŒæ™‚è¦å°çš„ <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" rel="noopener">Object.entries()</a> éƒ½æœ‰ï¼ˆé€™æ¨£æ‰åˆç†é˜¿ï¼ï¼ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">let</span> ES7Objects = &#123;</span><br><span class="line">    ES7Obj1: <span class="string">'ES7-1'</span>,</span><br><span class="line">    ES7Obj2: <span class="string">'ES7-2'</span></span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">Object</span>.values(ES6Objects);</span><br><span class="line">  <span class="comment">// [ 'ES6-1', 'ES6-2' ]</span></span><br><span class="line">  <span class="built_in">Object</span>.entries(ES7Objects);</span><br><span class="line"><span class="comment">// [ ['ES7Obj1', 'ES7-1'], ['ES7Obj2', 'ES7-2'] ]</span></span><br></pre></td></tr></table></figure><h2 id="Object-entries-Destructuring"><a href="#Object-entries-Destructuring" class="headerlink" title="Object.entries + Destructuring"></a>Object.entries + Destructuring</h2><p>è§£æ§‹é–‹ä¾†å…¶å¯¦å°±åªæ˜¯é•·é€™æ¨£å­è€Œå·²ï¼Œæ‡‰è©²æ·ºé¡¯æ˜“æ‡‚å§ï½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ES7Objects = &#123;</span><br><span class="line">  ES7Obj1: <span class="string">'ES7-1'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objectArray = <span class="built_in">Object</span>.entries(ES7Objects);</span><br><span class="line"></span><br><span class="line">objectArray.forEach(<span class="function">(<span class="params">[key, value]</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key); </span><br><span class="line">  <span class="comment">// 'ES7Obj1'</span></span><br><span class="line">  <span class="built_in">console</span>.log(value); </span><br><span class="line">  <span class="comment">// 'ES7-1'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries"></a>Object.fromEntries</h2><p>è€Œæœ¬è³ªä¸Šèˆ‡ <code>Object.entries</code> ç›¸åï¼Œæˆ‘å€‘ä»Šå¤©æƒ³è¦å¾ Array å†è¿”å›å» Objectï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>Object.fromEntries</code> é€™å€‹æ–¹æ³•â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ES7Array = [</span><br><span class="line">  [<span class="string">'ES7Obj1'</span>, <span class="string">'ES7-1'</span>],</span><br><span class="line">  [<span class="string">'ES7Obj2'</span>, <span class="string">'ES7-2'</span>],</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.fromEntries(ES7Array);</span><br><span class="line"><span class="comment">// &#123; ES7Obj1: 'ES7-1', ES7Obj2: 'ES7-2' &#125;</span></span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener">Object.keys()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_objects/Object/values" target="_blank" rel="noopener">Object.values()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" rel="noopener">Object.entries()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/fromEntries" target="_blank" rel="noopener">Object.fromEntries()</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Object-to-Array&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Object-to-Array&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Object to Array&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Object to Array&lt;/h1&gt;&lt;p&gt;ç¹¼ä¹‹å‰çš„ &lt;a href=&quot;https://chestertang.site/2020/04/13/zyx0413/&quot;&gt;String to Array&lt;/a&gt; å¾Œï¼Œæˆ‘å€‘å·²ç¶“æœƒäº†è¨±å¤šç¨®å°‡å­—ä¸²è½‰æˆé™£åˆ—çš„æ–¹æ³•ã€‚é€™ç¯‡å°‡ä»‹ç´¹å¦‚ä½•å°‡ Object è½‰æˆ Array â€¦&lt;/p&gt;
&lt;h2 id=&quot;Ancient&quot;&gt;&lt;a href=&quot;#Ancient&quot; class=&quot;headerlink&quot; title=&quot;Ancient&quot;&gt;&lt;/a&gt;Ancient&lt;/h2&gt;&lt;p&gt;åœ¨ ES6 ä»¥å‰ï¼Œæˆ‘å€‘æƒ³å°‡ Object è®Šæˆ Array å¸¸å¸¸æœƒé€™æ¨£ä¾†ä½¿ç”¨ï¼Œä½†å…¶å¯¦é€™ç¨®æ–¹æ³•çœŸçš„ä¸å¤ªå¥½ç”¨ï¼è€Œä¸”è·Ÿ Ruby è¶…ç´šä¸åˆé©çš„ï¼Œå®£å‘Šä¸€å€‹ç©ºçš„é™£åˆ—ï¼Œç„¶å¾Œå¡æ±è¥¿é€²å»ï¼Œé€šå¸¸éƒ½å¯ä»¥æœ‰æ›´å¥½çš„æ–¹æ³•å¯ä»¥å–ä»£æ‰é€™ç¨®å¯«æ³•â€¦&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ancientObjects = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj1: &lt;span class=&quot;string&quot;&gt;&#39;ancient1&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  obj2: &lt;span class=&quot;string&quot;&gt;&#39;ancient2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; emptyArray = [];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; ancientObject &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; ancientObjects) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (ancientObjects.hasOwnProperty(ancientObject)) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    emptyArray.push(ancientObjects);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;emptyArray; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [ &#39;ancient1&#39;, &#39;ancient2&#39; ]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Object.prototype.hasOwnProperty()&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ES6-Object-keys&quot;&gt;&lt;a href=&quot;#ES6-Object-keys&quot; class=&quot;headerlink&quot; title=&quot;ES6 - Object.keys()&quot;&gt;&lt;/a&gt;ES6 - Object.keys()&lt;/h2&gt;&lt;p&gt;ES6å¾Œï¼Œæœ‰äº† &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Object.keys()&lt;/a&gt; é€™å€‹æ–°æ–¹æ³•ï¼Œä¸éå¾ˆå¥‡æ€ªçš„å±…ç„¶åªæœ‰æä¾› &lt;code&gt;key&lt;/code&gt;ï¼Œå»æ²’æœ‰ &lt;code&gt;value&lt;/code&gt;ï¼Œæ„å¤–è¦ºå¾—ç‰¹åˆ¥çš„è©­ç•°â€¦&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; ES6Objects = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ES6Obj1: &lt;span class=&quot;string&quot;&gt;&#39;ES6-1&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  ES6Obj2: &lt;span class=&quot;string&quot;&gt;&#39;ES6-2&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.keys(ES6Objects);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [ &#39;ES6Obj1&#39;, &#39;ES6Obj2&#39; ]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;ES7-Object-values-Object-entries&quot;&gt;&lt;a href=&quot;#ES7-Object-values-Object-entries&quot; class=&quot;headerlink&quot; title=&quot;ES7 - Object.values() / Object.entries()&quot;&gt;&lt;/a&gt;ES7 - Object.values() / Object.entries()&lt;/h2&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Append Item to Array</title>
    <link href="http://chestertang.site/2020/04/30/zyx0430/"/>
    <id>http://chestertang.site/2020/04/30/zyx0430/</id>
    <published>2020-04-29T16:00:00.000Z</published>
    <updated>2020-05-03T14:34:26.123Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Append-Item-to-Array"><a href="#J-ç­†è¨˜-Append-Item-to-Array" class="headerlink" title="J ç­†è¨˜ - Append Item to Array"></a>J ç­†è¨˜ - Append Item to Array</h1><p>åœ¨ä¹‹å‰ä¸€ç³»åˆ—æœ‰é—œ <a href="https://chestertang.site/categories/JavaScript/">Array</a> çš„æ–‡ç« ç•¶ä¸­ï¼Œæœ‰çœ‹åˆ°å„ç¨® clone Array å¾Œï¼Œå°‡æ–°å…ƒç´ æ¨é€²é™£åˆ—æœƒé€ æˆçš„çµæœï¼Œéƒ½ç›´æ¥ä»¥ <code>push</code> ä¾†ç°¡å–®èˆ‰ä¾‹è€Œå·²ã€‚</p><p>é€™ç¯‡å°‡èˆ‰ä¾‹ <code>æ˜“è®Šçš„</code> (mutable)ã€<code>ä¸æ˜“è®Šçš„</code> (inmutable) çš„äº”ç¨®æ–¹å¼ï¼Œé›–ç„¶å¯¦å‹™ä¸Šéƒ½æœƒç›´æ¥ç”¨ <code>inmutable</code> çš„æ–¹æ³•ï¼Œä½†é‚„æ˜¯èˆ‰ä¾‹ <code>mutable</code>ï¼Œä¾†å¢åŠ è‡ªå·±å°è±¡ï¼Œå°±ç®—çœ‹åˆ°é€™æ¨£çš„ç¨‹å¼ç¢¼çš„æ™‚å€™ï¼Œä¹ŸæœƒçŸ¥é“æœƒé€ æˆçš„çµæœâ€¦ </p><h2 id="æ˜“è®Šçš„-mutable"><a href="#æ˜“è®Šçš„-mutable" class="headerlink" title="æ˜“è®Šçš„ (mutable)"></a><code>æ˜“è®Šçš„</code> (mutable)</h2><p>é€é <code>push</code>ã€<code>splice</code>ã€<code>.length</code> é€™ä¸‰ç¨®æ–¹å¼çš„å¡å…ƒç´ ï¼Œæœƒå½±éŸ¿åŸå§‹çš„é™£åˆ—ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>];</span><br><span class="line"></span><br><span class="line">array.push(<span class="string">'ES6'</span>);</span><br><span class="line">array.splice(array.length, <span class="number">0</span>, <span class="string">'ES6'</span>);</span><br><span class="line">array[array.length] = <span class="string">'ES6'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6']</span></span><br></pre></td></tr></table></figure><h2 id="ä¸æ˜“è®Šçš„-inmutable"><a href="#ä¸æ˜“è®Šçš„-inmutable" class="headerlink" title="ä¸æ˜“è®Šçš„ (inmutable)"></a><code>ä¸æ˜“è®Šçš„</code> (inmutable)</h2><p>é€é <code>spread</code>ã€<code>concat</code> å…©ç¨®æ–¹å¼ï¼Œæœƒé¡å¤–æ–°å¢ä¸€å€‹é™£åˆ—ï¼Œä¸¦ä¸”ä¿æŒåŸæœ¬çš„é™£åˆ—ä¸å—åˆ°æ›´å‹•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> original = [<span class="string">'ES5'</span>];</span><br><span class="line"><span class="keyword">let</span> newArray;</span><br><span class="line"></span><br><span class="line">newArray = original.concat(<span class="string">'ES6'</span>);</span><br><span class="line">newArray = [...original, <span class="string">'ES6'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(newArray);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6']</span></span><br><span class="line"><span class="built_in">console</span>.log(original);</span><br><span class="line"><span class="comment">// ['ES5']</span></span><br></pre></td></tr></table></figure><hr><h2 id="3-Ways-to-Append-Item-to-Array-mutable"><a href="#3-Ways-to-Append-Item-to-Array-mutable" class="headerlink" title="3 Ways to Append Item to Array (mutable)"></a>3 Ways to Append Item to Array (mutable)</h2><p>æ¥ä¸‹ä¾†å°±ä¾†çœ‹ä¸€ä¸‹å°‡å…ƒç´ å¡é€²é™£åˆ—çš„ 3 ç¨®è®Šå‹•çš„æ–¹å¼ã€‚</p><h3 id="Array-prototype-push"><a href="#Array-prototype-push" class="headerlink" title="Array.prototype.push()"></a>Array.prototype.push()</h3><p>å°‡å…ƒç´ æ·»åŠ åˆ°æ•¸çµ„é™£åˆ—æœ€å¾Œçš„æœ€ç°¡å–®æ–¹æ³•æ˜¯ä½¿ç”¨ <code>push</code></p><blockquote><p>The push() method adds one or more elements to the end of an array and returns the new length of the array.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>];</span><br><span class="line"><span class="keyword">const</span> pushedArray = [<span class="string">'ES7'</span>, <span class="string">'ES8'</span>, <span class="string">'ES9'</span>];</span><br><span class="line"></span><br><span class="line">array.push(<span class="string">'ES7'</span>, <span class="string">'ES8'</span>, <span class="string">'ES9'</span>);</span><br><span class="line"><span class="comment">// ES6</span></span><br><span class="line">array.push(...pushedArray);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array); </span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7', 'ES8', 'ES9'];</span></span><br></pre></td></tr></table></figure><h3 id="Array-prototype-splice"><a href="#Array-prototype-splice" class="headerlink" title="Array.prototype.splice()"></a>Array.prototype.splice()</h3><blockquote><p>The splice() method changes the contents of an array by removing or replacing existing elements and/or adding new elements in place.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>];</span><br><span class="line"></span><br><span class="line">array.splice(</span><br><span class="line">  array.length, <span class="comment">// é™£åˆ—çš„æœ€å¾Œ</span></span><br><span class="line">  <span class="number">0</span>,            <span class="comment">// ä¸æ›´æ”¹åŸæœ¬é™£åˆ—è£¡çš„å…ƒç´  </span></span><br><span class="line">  <span class="string">'ES7'</span>, <span class="string">'ES8'</span>, <span class="string">'ES9'</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array); </span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7', 'ES8', 'ES9'];</span></span><br></pre></td></tr></table></figure><h3 id="Array-length"><a href="#Array-length" class="headerlink" title="Array.length"></a>Array.length</h3><blockquote><p>The length property of an object which is an instance of type Array sets or returns the number of elements in that array. The value is an unsigned, 32-bit integer that is always numerically greater than the highest index in the array.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>];</span><br><span class="line"><span class="keyword">const</span> length = array.length; <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">array[length] = <span class="string">'ES7'</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(zoo); </span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7'];</span></span><br></pre></td></tr></table></figure><h2 id="2-Ways-to-Append-Item-to-Array-inmutable"><a href="#2-Ways-to-Append-Item-to-Array-inmutable" class="headerlink" title="2 Ways to Append Item to Array (inmutable)"></a>2 Ways to Append Item to Array (inmutable)</h2><p>2 ç¨®ä¸è®Šå‹•å°‡å…ƒç´ å¡é€²é™£åˆ—çš„æ–¹å¼ã€‚</p><h3 id="Array-prototype-concat"><a href="#Array-prototype-concat" class="headerlink" title="Array.prototype.concat()"></a>Array.prototype.concat()</h3><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ <code>concat</code> æ–¹æ³•ï¼Œé€éæ¥å—å€¼ã€é™£åˆ—ä¾†æ·»åŠ å¤šå€‹å…ƒç´ ã€‚</p><blockquote><p>The concat() method is used to merge two or more arrays. This method does not change the existing arrays, but instead returns a new array.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="string">'ES7'</span>, <span class="string">'ES8'</span>, <span class="string">'ES9'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> concatArray   = array.concat(<span class="string">'ES7'</span>);</span><br><span class="line"><span class="keyword">const</span> concatArray2  = array.concat(array2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(concatArray);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7']</span></span><br><span class="line"><span class="built_in">console</span>.log(concatArray2);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7', 'ES8', 'ES9']</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array); </span><br><span class="line"><span class="comment">// ['ES5', 'ES6']</span></span><br></pre></td></tr></table></figure><h3 id="Spread-syntax"><a href="#Spread-syntax" class="headerlink" title="Spread syntax"></a>Spread syntax</h3><p>æˆ‘å€‘å¯ä»¥ä½¿ç”¨ <code>Spread</code> æ–¹æ³•ï¼Œå°‡æ¯å€‹é™£åˆ—å…ƒç´ è®Šæˆç‚ºå–®å€‹å…ƒç´ ï¼Œé€™é¡ä¼¼æ–¼çš„æ•ˆæœä¸Šæ–¹çš„ <code>concat</code></p><blockquote><p>Spread syntax allows an iterable such as an array expression or string to be expanded in places where zero or more arguments (for function calls) or elements (for array literals) are expected, or an object expression to be expanded in places where zero or more key-value pairs (for object literals) are expected.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>];</span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'XXX'</span>, <span class="string">'XXX'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// const XXX = [array, array1];</span></span><br><span class="line"><span class="comment">// [ ['ES5', 'ES6'], ['XXX', 'XXX'] ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> array2 = [...array, <span class="string">'ES7'</span>];</span><br><span class="line"><span class="keyword">const</span> array3 = [...array, <span class="string">'ES7'</span>, <span class="string">'ES8'</span>, <span class="string">'ES9'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array2);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7']</span></span><br><span class="line"> <span class="built_in">console</span>.log(array3);</span><br><span class="line"><span class="comment">// ['ES5', 'ES6', 'ES7', 'ES8', 'ES9']</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(array); </span><br><span class="line"><span class="comment">// ['ES5', 'ES6'];</span></span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/push" target="_blank" rel="noopener">Array.prototype.push()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice" target="_blank" rel="noopener">Array.prototype.splice()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/length" target="_blank" rel="noopener">Array.length</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat" target="_blank" rel="noopener">Array.prototype.concat()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener">Spread syntax</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Append-Item-to-Array&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Append-Item-to-Array&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Append Item to Array&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Append Item to Array&lt;/h1&gt;&lt;p&gt;åœ¨ä¹‹å‰ä¸€ç³»åˆ—æœ‰é—œ &lt;a href=&quot;https://chestertang.site/categories/JavaScript/&quot;&gt;Array&lt;/a&gt; çš„æ–‡ç« ç•¶ä¸­ï¼Œæœ‰çœ‹åˆ°å„ç¨® clone Array å¾Œï¼Œå°‡æ–°å…ƒç´ æ¨é€²é™£åˆ—æœƒé€ æˆçš„çµæœï¼Œéƒ½ç›´æ¥ä»¥ &lt;code&gt;push&lt;/code&gt; ä¾†ç°¡å–®èˆ‰ä¾‹è€Œå·²ã€‚&lt;/p&gt;
&lt;p&gt;é€™ç¯‡å°‡èˆ‰ä¾‹ &lt;code&gt;æ˜“è®Šçš„&lt;/code&gt; (mutable)ã€&lt;code&gt;ä¸æ˜“è®Šçš„&lt;/code&gt; (inmutable) çš„äº”ç¨®æ–¹å¼ï¼Œé›–ç„¶å¯¦å‹™ä¸Šéƒ½æœƒç›´æ¥ç”¨ &lt;code&gt;inmutable&lt;/code&gt; çš„æ–¹æ³•ï¼Œä½†é‚„æ˜¯èˆ‰ä¾‹ &lt;code&gt;mutable&lt;/code&gt;ï¼Œä¾†å¢åŠ è‡ªå·±å°è±¡ï¼Œå°±ç®—çœ‹åˆ°é€™æ¨£çš„ç¨‹å¼ç¢¼çš„æ™‚å€™ï¼Œä¹ŸæœƒçŸ¥é“æœƒé€ æˆçš„çµæœâ€¦ &lt;/p&gt;
&lt;h2 id=&quot;æ˜“è®Šçš„-mutable&quot;&gt;&lt;a href=&quot;#æ˜“è®Šçš„-mutable&quot; class=&quot;headerlink&quot; title=&quot;æ˜“è®Šçš„ (mutable)&quot;&gt;&lt;/a&gt;&lt;code&gt;æ˜“è®Šçš„&lt;/code&gt; (mutable)&lt;/h2&gt;&lt;p&gt;é€é &lt;code&gt;push&lt;/code&gt;ã€&lt;code&gt;splice&lt;/code&gt;ã€&lt;code&gt;.length&lt;/code&gt; é€™ä¸‰ç¨®æ–¹å¼çš„å¡å…ƒç´ ï¼Œæœƒå½±éŸ¿åŸå§‹çš„é™£åˆ—ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; array = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;array.push(&lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;array.splice(array.length, &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;array[array.length] = &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(array);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;ES5&#39;, &#39;ES6&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;ä¸æ˜“è®Šçš„-inmutable&quot;&gt;&lt;a href=&quot;#ä¸æ˜“è®Šçš„-inmutable&quot; class=&quot;headerlink&quot; title=&quot;ä¸æ˜“è®Šçš„ (inmutable)&quot;&gt;&lt;/a&gt;&lt;code&gt;ä¸æ˜“è®Šçš„&lt;/code&gt; (inmutable)&lt;/h2&gt;&lt;p&gt;é€é &lt;code&gt;spread&lt;/code&gt;ã€&lt;code&gt;concat&lt;/code&gt; å…©ç¨®æ–¹å¼ï¼Œæœƒé¡å¤–æ–°å¢ä¸€å€‹é™£åˆ—ï¼Œä¸¦ä¸”ä¿æŒåŸæœ¬çš„é™£åˆ—ä¸å—åˆ°æ›´å‹•ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; original = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; newArray;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;newArray = original.concat(&lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;newArray = [...original, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(newArray);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;ES5&#39;, &#39;ES6&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(original);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;ES5&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Deep Clone Array</title>
    <link href="http://chestertang.site/2020/04/29/zyx0429/"/>
    <id>http://chestertang.site/2020/04/29/zyx0429/</id>
    <published>2020-04-28T16:00:00.000Z</published>
    <updated>2020-04-29T04:32:47.954Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Deep-Clone-Array"><a href="#J-ç­†è¨˜-Deep-Clone-Array" class="headerlink" title="J ç­†è¨˜ - Deep Clone Array"></a>J ç­†è¨˜ - Deep Clone Array</h1><p>ä¹‹å‰æœ‰ä»‹ç´¹éå¦‚ä½• <a href="https://chestertang.site/2020/04/18/zyx0418/">Clone an Array</a>ï¼Œä½†å¯ä»¥çŸ¥é“çš„å•é¡Œæ˜¯ï¼Œå¦‚æœä»Šå¤©æ˜¯ Array è£¡é¢åˆæœ‰æ›´æ·±å±¤çš„ Array çš„è©±ï¼ˆDeep Arrayï¼‰ï¼Œå†è¤‡è£½é™£åˆ—ä¸Šå°±æœƒæœ‰é»å•é¡Œï¼Œä¹Ÿå¦‚åŒä¸Šç¯‡çš„ Only one level çš„çµè«–ã€‚å› æ­¤ï¼Œé€™ç¯‡å°±ä¾†ä»‹ç´¹å…©ç¨® Deep Clone Array çš„æ–¹æ³•å§ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedArray = [<span class="string">'ES5'</span>, [<span class="string">'ES6'</span>, [<span class="string">'ES7'</span>]], [<span class="string">'ES8'</span>]];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Using JavaScript</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(nestedArray));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Using Lodash</span></span><br><span class="line">_.cloneDeep(nestedArray);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Using Recursion</span></span><br><span class="line"><span class="keyword">const</span> clone = <span class="function">(<span class="params">items</span>) =&gt;</span> items.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item) ? clone(item) : item);</span><br><span class="line">clone(nestedArray);</span><br></pre></td></tr></table></figure><h2 id="Copying-a-Value-type"><a href="#Copying-a-Value-type" class="headerlink" title="Copying a Value type"></a>Copying a Value type</h2><p>å…ˆä¾†å€‹æœ€åŸºæœ¬çš„æ•¸çµ„ï¼Œé€™éƒ¨åˆ†æ‡‰è©²å¾ˆå¥½ç†è§£ï¼Œå®£å‘Šä¸€å€‹ <code>value</code>ã€‚è€Œä¸”å¦‚æœæˆ‘å€‘æ›´æ”¹ <code>valueCopy</code>ï¼Œä¸æœƒå½±éŸ¿åŸæœ¬çš„ <code>value</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="number">9527</span>;</span><br><span class="line"><span class="keyword">let</span> cloneValue = value; </span><br><span class="line"><span class="comment">// clone value</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(cloneValue); </span><br><span class="line"><span class="comment">// 9527</span></span><br><span class="line"></span><br><span class="line">cloneValue = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// Change cloneValue</span></span><br><span class="line"><span class="built_in">console</span>.log(cloneValue);</span><br><span class="line"><span class="comment">// 100</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(value); </span><br><span class="line"><span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h2 id="Copying-a-Reference-type"><a href="#Copying-a-Reference-type" class="headerlink" title="Copying a Reference type"></a>Copying a Reference type</h2><p>å¦‚æœä¸Šç¯‡æ‰€è¿°ï¼Œç‚ºä»€éº¼åŸå§‹é™£åˆ—ä¹Ÿæœƒå—åˆ°å½±éŸ¿ï¼Ÿé‚£æ˜¯å› ç‚ºè¤‡è£½çš„ä¸æ˜¯æ•¸çµ„æœ¬èº«ï¼Œè€Œæ˜¯æŒ‡å‘æ•¸çµ„çš„è¨˜æ†¶é«”ä½å€ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initarray2 = initarray;</span><br><span class="line"></span><br><span class="line">initarray2.push(<span class="string">'âŒ'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray2);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âŒ"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âŒ"]</span></span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œæœ‰äº†ä¸Šç¯‡çš„è§£æ±ºæ–¹æ¡ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initarray2 = [...initarray];</span><br><span class="line"></span><br><span class="line">initarray2.push(<span class="string">'âœ”ï¸'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray2);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âœ”ï¸"];</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7"];</span></span><br></pre></td></tr></table></figure><h2 id="Deep-Clone"><a href="#Deep-Clone" class="headerlink" title="Deep Clone"></a>Deep Clone</h2><p>çŸ¥é“äº†ä¸Šé¢çš„æ–¹æ³•å¾Œï¼Œè®“æˆ‘å€‘ç¾åœ¨ä¾†çœ‹çœ‹é€é <code>Spread ...</code> èˆ‡ <code>Array.from</code> é›–ç„¶å¯ä»¥è¤‡è£½é™£åˆ—ï¼Œä½†åªèƒ½è¤‡è£½ Only one level çš„å•é¡Œï¼Œè€Œç„¡æ³•è§£æ±ºå·¢ç‹€äº¦åˆæˆ–è€…æ˜¯ <code>Deep Clone</code>ã€‚</p><p>å¯ä»¥ç™¼ç¾ï¼ŒåŸæœ¬çš„ <code>nestedArray</code> çš„é™£åˆ—ä¸€ä¸¦æ²’æœ‰æ”¹è®Š <code>ES5</code>ï¼Œé€™å¾ˆç¬¦åˆæˆ‘å€‘ä¸Šé‚Šæ•˜è¿°è¤‡è£½ Only one Level çš„æ–¹æ³•ï¼Œä¸éå¾Œé¢çš„ <code>ES6</code> å°±è¢«æ”¹ç‚º <code>Deep!!!</code> äº†ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedArray = [<span class="string">'ES5'</span>, [<span class="string">'ES6'</span>, [<span class="string">'ES7'</span>]], [<span class="string">'ES8'</span>]];</span><br><span class="line"><span class="keyword">const</span> copynestedArray = [...nestedArray];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make some changes</span></span><br><span class="line">copynestedArray[<span class="number">0</span>] = <span class="string">'ES0'</span>;</span><br><span class="line">copynestedArray[<span class="number">1</span>][<span class="number">0</span>] = <span class="string">'Deep!!!'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(copynestedArray); <span class="comment">// ['ES0', ['Deep!!!', ['ES7']], ['ES8']]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(nestedArray);</span><br><span class="line"><span class="comment">// ['ES5', ['Deep!!!', ['ES7']], ['ES8']]</span></span><br></pre></td></tr></table></figure><h2 id="JSON-amp-Recursion-amp-lodash"><a href="#JSON-amp-Recursion-amp-lodash" class="headerlink" title="JSON &amp; Recursion &amp; lodash"></a>JSON &amp; Recursion &amp; lodash</h2><p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†çœ‹çœ‹é€é <code>JSON</code> çš„å¯¦ä½œçµæœï¼Œå¦‚æœæœ‰èˆˆè¶£çœ‹ <code>lodash</code> çš„æ–¹æ³•ä¹Ÿå¯ä»¥å»å®˜ç¶²æŸ¥çœ‹ï¼Œé€™æ˜¯ä¸€å¥—æ»¿å¤šäººåœ¨ä½¿ç”¨ï¼Œå¯ä»¥æ›´ç°¡æ½”å¯« code çš„ js å¥—ä»¶ã€‚</p><blockquote><p><a href="https://lodash.com/docs/" target="_blank" rel="noopener">https://lodash.com/docs/</a></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedArray = [<span class="string">'ES5'</span>, [<span class="string">'ES6'</span>, [<span class="string">'ES7'</span>]], [<span class="string">'ES8'</span>]];</span><br><span class="line"><span class="keyword">let</span> JSONcopynestedArray = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(nestedArray)); </span><br><span class="line"></span><br><span class="line"><span class="comment">// Make some changes</span></span><br><span class="line">JSONcopynestedArray[<span class="number">0</span>] = <span class="string">'ES0'</span>;</span><br><span class="line">JSONcopynestedArray[<span class="number">1</span>][<span class="number">0</span>] = <span class="string">'Deep!!!'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(JSONcopynestedArray); <span class="comment">// ['ES0', ['Deep!!!', ['ES7']], ['ES8']]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ”ï¸ Nested array NOT affected</span></span><br><span class="line"><span class="built_in">console</span>.log(nestedArray); <span class="comment">// ['ES5', ['ES6', ['ES7']], ['ES8']]</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>Recursion éè¿´</code> ä¾†å®Œæˆè¤‡è£½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> clone = <span class="function">(<span class="params">items</span>) =&gt;</span> items.map(<span class="function"><span class="params">item</span> =&gt;</span> <span class="built_in">Array</span>.isArray(item) ? clone(item) : item);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> nestedArray = [<span class="string">'ES5'</span>, [<span class="string">'ES6'</span>, [<span class="string">'ES7'</span>]], [<span class="string">'ES8'</span>]];</span><br><span class="line"><span class="keyword">var</span> RecursionArray = clone(nestedArray)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Make some changes</span></span><br><span class="line">RecursionArray[<span class="number">0</span>] = <span class="string">'ES0'</span>;</span><br><span class="line">RecursionArray[<span class="number">1</span>][<span class="number">0</span>] = <span class="string">'Deep!!!'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(RecursionArray); <span class="comment">// [ 'ES0', [ 'Deep!!!', ['ES7'] ], ['ES8'] ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ”ï¸ Nested array NOT affected</span></span><br><span class="line"><span class="built_in">console</span>.log(nestedArray); <span class="comment">// ['ES5', ['ES6', ['ES7']], ['ES8']];</span></span><br></pre></td></tr></table></figure><h2 id="Values-Not-Compatible-with-JSON"><a href="#Values-Not-Compatible-with-JSON" class="headerlink" title="Values Not Compatible with JSON"></a>Values Not Compatible with JSON</h2><blockquote><p>Note!!! å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ•¸å€¼èˆ‡ JSON ä¸å…¼å®¹ï¼Œè½‰è­¯çš„æ™‚å€™æœƒå‡ºç¾éŒ¯èª¤</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">copynestedArray</span>(<span class="params">array</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(array));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">copynestedArray([<span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">2</span>]) <span class="comment">// [1, null, 2]</span></span><br><span class="line">copynestedArray([<span class="built_in">document</span>.body, <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>)]) <span class="comment">// [&#123;&#125;, &#123;&#125;]</span></span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify" target="_blank" rel="noopener">JSON.stringify()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse" target="_blank" rel="noopener">JSON.parse()</a></li><li><a href="https://lodash.com/docs/4.17.15#cloneDeep" target="_blank" rel="noopener">_.cloneDeep(value)</a></li><li><a href="https://stackoverflow.com/questions/597588/how-do-you-clone-an-array-of-objects-in-javascript" target="_blank" rel="noopener">How do you clone an Array of Objects in Javascript?</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Deep-Clone-Array&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Deep-Clone-Array&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Deep Clone Array&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Deep Clone Array&lt;/h1&gt;&lt;p&gt;ä¹‹å‰æœ‰ä»‹ç´¹éå¦‚ä½• &lt;a href=&quot;https://chestertang.site/2020/04/18/zyx0418/&quot;&gt;Clone an Array&lt;/a&gt;ï¼Œä½†å¯ä»¥çŸ¥é“çš„å•é¡Œæ˜¯ï¼Œå¦‚æœä»Šå¤©æ˜¯ Array è£¡é¢åˆæœ‰æ›´æ·±å±¤çš„ Array çš„è©±ï¼ˆDeep Arrayï¼‰ï¼Œå†è¤‡è£½é™£åˆ—ä¸Šå°±æœƒæœ‰é»å•é¡Œï¼Œä¹Ÿå¦‚åŒä¸Šç¯‡çš„ Only one level çš„çµè«–ã€‚å› æ­¤ï¼Œé€™ç¯‡å°±ä¾†ä»‹ç´¹å…©ç¨® Deep Clone Array çš„æ–¹æ³•å§ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; nestedArray = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, [&lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, [&lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;]], [&lt;span class=&quot;string&quot;&gt;&#39;ES8&#39;&lt;/span&gt;]];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Using JavaScript&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;JSON&lt;/span&gt;.parse(&lt;span class=&quot;built_in&quot;&gt;JSON&lt;/span&gt;.stringify(nestedArray));&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Using Lodash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_.cloneDeep(nestedArray);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Using Recursion&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; clone = &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;items&lt;/span&gt;) =&amp;gt;&lt;/span&gt; items.map(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;item&lt;/span&gt; =&amp;gt;&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.isArray(item) ? clone(item) : item);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;clone(nestedArray);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Copying-a-Value-type&quot;&gt;&lt;a href=&quot;#Copying-a-Value-type&quot; class=&quot;headerlink&quot; title=&quot;Copying a Value type&quot;&gt;&lt;/a&gt;Copying a Value type&lt;/h2&gt;&lt;p&gt;å…ˆä¾†å€‹æœ€åŸºæœ¬çš„æ•¸çµ„ï¼Œé€™éƒ¨åˆ†æ‡‰è©²å¾ˆå¥½ç†è§£ï¼Œå®£å‘Šä¸€å€‹ &lt;code&gt;value&lt;/code&gt;ã€‚è€Œä¸”å¦‚æœæˆ‘å€‘æ›´æ”¹ &lt;code&gt;valueCopy&lt;/code&gt;ï¼Œä¸æœƒå½±éŸ¿åŸæœ¬çš„ &lt;code&gt;value&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; value = &lt;span class=&quot;number&quot;&gt;9527&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; cloneValue = value; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// clone value&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(cloneValue); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 9527&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;cloneValue = &lt;span class=&quot;number&quot;&gt;100&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Change cloneValue&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(cloneValue);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(value); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;Copying-a-Reference-type&quot;&gt;&lt;a href=&quot;#Copying-a-Reference-type&quot; class=&quot;headerlink&quot; title=&quot;Copying a Reference type&quot;&gt;&lt;/a&gt;Copying a Reference type&lt;/h2&gt;&lt;p&gt;å¦‚æœä¸Šç¯‡æ‰€è¿°ï¼Œç‚ºä»€éº¼åŸå§‹é™£åˆ—ä¹Ÿæœƒå—åˆ°å½±éŸ¿ï¼Ÿé‚£æ˜¯å› ç‚ºè¤‡è£½çš„ä¸æ˜¯æ•¸çµ„æœ¬èº«ï¼Œè€Œæ˜¯æŒ‡å‘æ•¸çµ„çš„è¨˜æ†¶é«”ä½å€ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; initarray = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; initarray2 = initarray;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;initarray2.push(&lt;span class=&quot;string&quot;&gt;&#39;âŒ&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(initarray2);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&quot;ES5&quot;, &quot;ES6&quot;, &quot;ES7&quot;, &quot;âŒ&quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(initarray);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&quot;ES5&quot;, &quot;ES6&quot;, &quot;ES7&quot;, &quot;âŒ&quot;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å› æ­¤ï¼Œæœ‰äº†ä¸Šç¯‡çš„è§£æ±ºæ–¹æ¡ˆï¼š&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Remove Array Dup</title>
    <link href="http://chestertang.site/2020/04/19/zyx0419/"/>
    <id>http://chestertang.site/2020/04/19/zyx0419/</id>
    <published>2020-04-18T16:00:00.000Z</published>
    <updated>2020-04-29T03:09:29.541Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-ES6-Remove-Array-Duplicates"><a href="#J-ç­†è¨˜-ES6-Remove-Array-Duplicates" class="headerlink" title="J ç­†è¨˜ - ES6 Remove Array Duplicates"></a>J ç­†è¨˜ - ES6 Remove Array Duplicates</h1><p>åœ¨ Ruby è£¡é¢è¦åšé€™ä»¶äº‹æƒ…çœŸçš„æ–¹ä¾¿è¨±å¤šç›´æ¥ <code>uniq</code> å°±å¯ä»¥å®Œæˆï¼Œä½†å¸¸å¸¸è¢«å¯«å¥½çš„ <code>method</code> æ…£å£äº†å»æƒ³ä¸å¤ªåˆ° JS è£¡é ­è©²æ€éº¼å¯¦ä½œï¼Œæ‰€ä»¥æ•´ç†ä¸€äº› <code>Remove Array Duplicates</code> çš„æ–¹æ³•â€¦</p><h2 id="3-ways-in-ES6"><a href="#3-ways-in-ES6" class="headerlink" title="3 ways in ES6"></a>3 ways in ES6</h2><p>ç¸½å…±åœ¨ ES6 è£¡é¢æœ‰ 3 ç¨®æ–¹æ³•å¯ä»¥å¯¦ä½œï¼Œè€Œæˆ‘æœ€å–œæ­¡çš„è«éæ–¼ <code>Set</code>ï¼ŒåˆçŸ­åˆä¸ç”¨æƒ³åˆ°åº•è£¡é¢åšäº†ä»€éº¼ï¼Œä¸åƒ <code>filter</code>ã€<code>reduce</code>ï¼Œå¦å¤–ä¹Ÿè¦ºå¾—æœ‰é»åƒ Ruby çš„ <code>uniq</code>ï¼Œæ‰€ä»¥å¯«èµ·ä¾†å¿«é€Ÿåˆå¯¦ç”¨ï½</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1: "Set"</span></span><br><span class="line">[...new <span class="built_in">Set</span>(array)];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2: "Filter"</span></span><br><span class="line">array.filter(<span class="function">(<span class="params">item, index</span>) =&gt;</span> array.indexOf(item) === index);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3: "Reduce"</span></span><br><span class="line">array.reduce(<span class="function">(<span class="params">uniq, item</span>) =&gt;</span> </span><br><span class="line">  uniq.includes(item) ? uniq : [...uniq, item], []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// RESULT:</span></span><br><span class="line"><span class="comment">// ['Remove', 'ES5', 'ES6', 'ES7']</span></span><br></pre></td></tr></table></figure><h3 id="1-Set"><a href="#1-Set" class="headerlink" title="1. Set"></a>1. <code>Set</code></h3><blockquote><p>The Set object lets you store unique values of any type, whether primitive values or object references.</p></blockquote><p>ES6 æä¾›äº†æ–°çš„æ•¸æ“šçµæ§‹ <code>Set</code>ã€‚å®ƒé¡ä¼¼æ–¼æ•¸çµ„ï¼Œä½†å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡è¤‡çš„å€¼ã€‚</p><p>å› æ­¤æˆ‘å€‘ä¾†çœ‹çœ‹åˆ°åº•åšäº†ä»€éº¼â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newarray = <span class="keyword">new</span> <span class="built_in">Set</span>(array);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">console</span>.log(newarray);</span><br><span class="line"><span class="comment">// RESULT:</span></span><br><span class="line"><span class="comment">// Set(4) &#123;"Remove", "ES5", "ES6", "ES7"&#125;</span></span><br></pre></td></tr></table></figure><p>åœ¨çµåˆä¹‹å‰å‰å¹¾ç¯‡çš„ <a href="https://chestertang.site/2020/04/13/zyx0413/">spread operator</a>ã€<a href="https://chestertang.site/2020/04/18/zyx0418/">Array.from</a> å°‡å®ƒè®Šæˆé™£åˆ—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newarray = <span class="keyword">new</span> <span class="built_in">Set</span>(array);</span><br><span class="line"><span class="keyword">const</span> backToArray = [...newarray];</span><br><span class="line"><span class="keyword">const</span> ArrayfromtoArray = <span class="built_in">Array</span>.from(newarray);</span><br><span class="line"><span class="comment">// RESULT:</span></span><br><span class="line"><span class="comment">// Set(4) ["Remove", "ES5", "ES6", "ES7"]</span></span><br></pre></td></tr></table></figure><h3 id="2-filter"><a href="#2-filter" class="headerlink" title="2. filter"></a>2. <code>filter</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2: "Filter"</span></span><br><span class="line">  array.filter(<span class="function">(<span class="params">item, index</span>) =&gt;</span> array.indexOf(item) === index);</span><br></pre></td></tr></table></figure><p>é›–ç„¶é€™æ¨£å­å°±èƒ½å‡ºç¾ç­”æ¡ˆï¼Œä½†ä¸­é–“ <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener">Array.prototype.indexOf()</a> æ˜¯åšäº†ä»€éº¼äº‹æƒ…å‘¢ï¼Ÿ</p><blockquote><p>The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line">array.filter(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    item,</span><br><span class="line">    index,</span><br><span class="line">    array.indexOf(item),</span><br><span class="line">    array.indexOf(item) === index,</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> array.indexOf(item) === index</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><table><thead><tr><th>item</th><th>index</th><th>indexOf</th><th>condition</th></tr></thead><tbody><tr><td>Remove</td><td>0</td><td>0</td><td>True</td></tr><tr><td>Remove</td><td>1</td><td>0</td><td>False</td></tr><tr><td>ES5</td><td>2</td><td>2</td><td>True</td></tr><tr><td>ES6</td><td>3</td><td>3</td><td>True</td></tr><tr><td>Remove</td><td>4</td><td>0</td><td>False</td></tr><tr><td>ES7</td><td>5</td><td>5</td><td>True</td></tr></tbody></table><h3 id="2-x-ç›¸å"><a href="#2-x-ç›¸å" class="headerlink" title="2.x ç›¸å"></a>2.x ç›¸å</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line">array.filter(<span class="function">(<span class="params">item, index</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    item,</span><br><span class="line">    index,</span><br><span class="line">    array.indexOf(item),</span><br><span class="line">    array.indexOf(item) === index,</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> array.indexOf(item) !== index</span><br><span class="line">  <span class="comment">// ['Remove', 'Remove']</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><table><thead><tr><th>item</th><th>index</th><th>indexOf</th><th>condition</th></tr></thead><tbody><tr><td>Remove</td><td>0</td><td>0</td><td>False</td></tr><tr><td>Remove</td><td>1</td><td>0</td><td>True</td></tr><tr><td>ES5</td><td>2</td><td>2</td><td>False</td></tr><tr><td>ES6</td><td>3</td><td>3</td><td>False</td></tr><tr><td>Remove</td><td>4</td><td>0</td><td>True</td></tr><tr><td>ES7</td><td>5</td><td>5</td><td>False</td></tr></tbody></table><h3 id="3-reduce"><a href="#3-reduce" class="headerlink" title="3. reduce"></a>3. <code>reduce</code></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3: "Reduce"</span></span><br><span class="line">array.reduce(<span class="function">(<span class="params">uniq, item</span>) =&gt;</span> </span><br><span class="line">  uniq.includes(item) ? uniq : [...uniq, item], []);</span><br></pre></td></tr></table></figure><p>åŒä¸Šï¼Œé›–ç„¶é€™æ¨£å­å°±èƒ½å‡ºç¾ç­”æ¡ˆï¼Œä½†ä¸­é–“ <a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">Array.prototype.reduce()</a> æ˜¯åšäº†ä»€éº¼äº‹æƒ…å‘¢ï¼Ÿ</p><blockquote><p>The reduce() method executes a reducer function (that you provide) on each element of the array, resulting in a single output value.</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="string">'Remove'</span>, <span class="string">'Remove'</span>, <span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'Remove'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line">array.reduce(<span class="function">(<span class="params">uniq, item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(</span><br><span class="line">    item,</span><br><span class="line">    uniq,</span><br><span class="line">    uniq.includes(item),</span><br><span class="line">    uniq.includes(item) ? uniq : [...uniq, item],</span><br><span class="line">  );</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> uniq.includes(item) ? uniq : [...uniq, item]</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure><table><thead><tr><th>item</th><th>Accumulator (BEFORE Reducer Function)</th><th>Push to Accumulator?</th><th>Accumulator (AFTER Reducer Function)</th></tr></thead><tbody><tr><td>Remove</td><td>[]</td><td>Yes</td><td>[â€˜Removeâ€™]</td></tr><tr><td>Remove</td><td>[â€˜Removeâ€™]</td><td>NO</td><td>[â€˜Removeâ€™]</td></tr><tr><td>ES5</td><td>[â€˜Removeâ€™]</td><td>Yes</td><td>[â€˜Removeâ€™, â€˜ES5â€™]</td></tr><tr><td>ES6</td><td>[â€˜Removeâ€™, â€˜ES5â€™]</td><td>Yes</td><td>[â€˜Removeâ€™, â€˜ES5â€™, â€˜ES6â€™]</td></tr><tr><td>Remove</td><td>[â€˜Removeâ€™, â€˜ES5â€™, â€˜ES6â€™]</td><td>No</td><td>[â€˜Removeâ€™, â€˜ES5â€™, â€˜ES6â€™]</td></tr><tr><td>ES7</td><td>[â€˜Removeâ€™, â€˜ES5â€™, â€˜ES6â€™]</td><td>Yes</td><td>[â€˜Removeâ€™, â€˜ES5â€™, â€˜ES6â€™, â€˜ES7â€™]</td></tr></tbody></table><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank" rel="noopener">MDN web docs Set</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" target="_blank" rel="noopener">MDN web docs Array.prototype.filter()</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce" target="_blank" rel="noopener">MDN web docs Array.prototype.reduce()</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-ES6-Remove-Array-Duplicates&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-ES6-Remove-Array-Duplicates&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - ES6 Remove Array Duplicates&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - ES6 Remove Array Duplicates&lt;/h1&gt;&lt;p&gt;åœ¨ Ruby è£¡é¢è¦åšé€™ä»¶äº‹æƒ…çœŸçš„æ–¹ä¾¿è¨±å¤šç›´æ¥ &lt;code&gt;uniq&lt;/code&gt; å°±å¯ä»¥å®Œæˆï¼Œä½†å¸¸å¸¸è¢«å¯«å¥½çš„ &lt;code&gt;method&lt;/code&gt; æ…£å£äº†å»æƒ³ä¸å¤ªåˆ° JS è£¡é ­è©²æ€éº¼å¯¦ä½œï¼Œæ‰€ä»¥æ•´ç†ä¸€äº› &lt;code&gt;Remove Array Duplicates&lt;/code&gt; çš„æ–¹æ³•â€¦&lt;/p&gt;
&lt;h2 id=&quot;3-ways-in-ES6&quot;&gt;&lt;a href=&quot;#3-ways-in-ES6&quot; class=&quot;headerlink&quot; title=&quot;3 ways in ES6&quot;&gt;&lt;/a&gt;3 ways in ES6&lt;/h2&gt;&lt;p&gt;ç¸½å…±åœ¨ ES6 è£¡é¢æœ‰ 3 ç¨®æ–¹æ³•å¯ä»¥å¯¦ä½œï¼Œè€Œæˆ‘æœ€å–œæ­¡çš„è«éæ–¼ &lt;code&gt;Set&lt;/code&gt;ï¼ŒåˆçŸ­åˆä¸ç”¨æƒ³åˆ°åº•è£¡é¢åšäº†ä»€éº¼ï¼Œä¸åƒ &lt;code&gt;filter&lt;/code&gt;ã€&lt;code&gt;reduce&lt;/code&gt;ï¼Œå¦å¤–ä¹Ÿè¦ºå¾—æœ‰é»åƒ Ruby çš„ &lt;code&gt;uniq&lt;/code&gt;ï¼Œæ‰€ä»¥å¯«èµ·ä¾†å¿«é€Ÿåˆå¯¦ç”¨ï½&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; array = [&lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 1: &quot;Set&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[...new &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;(array)];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 2: &quot;Filter&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;array.filter(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;item, index&lt;/span&gt;) =&amp;gt;&lt;/span&gt; array.indexOf(item) === index);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 3: &quot;Reduce&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;array.reduce(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;uniq, item&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  uniq.includes(item) ? uniq : [...uniq, item], []);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// RESULT:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;Remove&#39;, &#39;ES5&#39;, &#39;ES6&#39;, &#39;ES7&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;1-Set&quot;&gt;&lt;a href=&quot;#1-Set&quot; class=&quot;headerlink&quot; title=&quot;1. Set&quot;&gt;&lt;/a&gt;1. &lt;code&gt;Set&lt;/code&gt;&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;The Set object lets you store unique values of any type, whether primitive values or object references.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ES6 æä¾›äº†æ–°çš„æ•¸æ“šçµæ§‹ &lt;code&gt;Set&lt;/code&gt;ã€‚å®ƒé¡ä¼¼æ–¼æ•¸çµ„ï¼Œä½†å€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæ²¡æœ‰é‡è¤‡çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤æˆ‘å€‘ä¾†çœ‹çœ‹åˆ°åº•åšäº†ä»€éº¼â€¦&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; array = [&lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;Remove&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; newarray = &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Set&lt;/span&gt;(array);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(newarray);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// RESULT:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Set(4) &amp;#123;&quot;Remove&quot;, &quot;ES5&quot;, &quot;ES6&quot;, &quot;ES7&quot;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - Clone an Array</title>
    <link href="http://chestertang.site/2020/04/18/zyx0418/"/>
    <id>http://chestertang.site/2020/04/18/zyx0418/</id>
    <published>2020-04-18T10:00:00.000Z</published>
    <updated>2020-04-25T08:11:11.929Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Clone-an-Array"><a href="#J-ç­†è¨˜-Clone-an-Array" class="headerlink" title="J ç­†è¨˜ - Clone an Array"></a>J ç­†è¨˜ - Clone an Array</h1><p>è¤‡è£½é™£åˆ—åŠè³‡æ–™ï¼Œä¸ç®¡åœ¨ä»€éº¼èªè¨€ç•¶ä¸­ï¼Œéƒ½æ˜¯å¾ˆå¸¸ç”¨åˆ°çš„æ–¹å¼ï¼Œåœ¨äº†è§£å¦‚ä½•è¤‡è£½ä¹‹å‰ï¼Œæ‡‰è©²å°æ‰€è¬‚çš„ã€Œå‚³å€¼ã€ã€ã€Œå‚³å€ã€å¤§æ¦‚çš„äº†è§£ï¼Œæ‰çŸ¥é“ç‚ºä»€éº¼é€™æ¨£èƒ½è¤‡è£½ä¸€å€‹æ–°çš„é™£åˆ—å‡ºä¾†ï¼Œè€Œä¸æ˜¯æ”¹åˆ°ä¹‹å‰çš„é™£åˆ—â€¦</p><blockquote><p><a href="https://ithelp.ithome.com.tw/articles/10191057" target="_blank" rel="noopener">é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ</a></p></blockquote><h2 id="ES6-Way-to-Clone-an-Array"><a href="#ES6-Way-to-Clone-an-Array" class="headerlink" title="ES6 Way to Clone an Array"></a>ES6 Way to Clone an Array</h2><p>èˆŠæœ‰çš„è¤‡è£½é™£åˆ—é€šå¸¸éƒ½ä»¥ <code>slice</code> ä¾†é”æˆï¼Œä¸é ES6 å¾Œï¼Œæœ‰äº›å…¶ä»–çš„æ–¹æ³•å¯ä»¥å¿«é€Ÿè¤‡è£½ï¼Œå°±ä¾†çœ‹çœ‹å§â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// Old way</span></span><br><span class="line"><span class="keyword">const</span> oldarray = initarray.slice();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6 way</span></span><br><span class="line"><span class="keyword">const</span> spreadoperator = [...initarray];</span><br><span class="line"><span class="keyword">const</span> Arrayfrom = <span class="built_in">Array</span>.from(initarray);</span><br></pre></td></tr></table></figure><p>é‚„è¨˜å¾—ä¸Šæ¬¡çš„ <a href="https://chestertang.site/2020/04/13/zyx0413/">String to Array</a> ä¹Ÿæœ‰ç”¨åˆ° <code>spread operator</code>ã€<code>Array.from</code> å…©è€…ç”¨æ³•ï¼Œå¦‚æœå¿˜è¨˜å¾—å¯ä»¥å†å»çœ‹çœ‹</p><h2 id="Call-by-value-Call-by-address"><a href="#Call-by-value-Call-by-address" class="headerlink" title="Call by value / Call by address"></a>Call by value / Call by address</h2><p>JS ä¸­çš„æ•¸çµ„æ˜¯ <code>Call by value</code>ï¼Œå› æ­¤å¦‚æœå˜—è©¦ä½¿ç”¨ <code>=</code> é€²è¡Œè¤‡åˆ¶æ™‚ï¼Œåªæœƒè¤‡è£½åˆ°åŸå§‹å®£å‘Šçš„é‚£çµ„æ•¸çµ„ï¼Œè€Œä¸æ˜¯æ•¸çµ„çš„å€¼ã€‚è¦çœŸæ­£è¤‡è£½ä¸€å€‹å…¨æ–°æ•¸çµ„ï¼Œéœ€è¦åœ¨æ–°çš„ value ä¸‹è¤‡è£½æ•¸çµ„çš„å€¼ï¼Œé€™æ¨£å°±ä¸æœƒå¼•ç”¨å…§å­˜ä¸­çš„èˆŠ addressã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> errormethod = initarray;</span><br><span class="line"><span class="keyword">const</span> spreadoperator = [...initarray];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray === errormethod);</span><br><span class="line"><span class="comment">//  true --&gt; same memory space (Call by value)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray === spreadoperator);</span><br><span class="line"><span class="comment">// false --&gt; new memory space(Call by address)</span></span><br></pre></td></tr></table></figure><h2 id="initarray-Problem"><a href="#initarray-Problem" class="headerlink" title="initarray Problem"></a>initarray Problem</h2><p>çœ‹å®Œäº†ä¸Šé¢çš„ä¾‹å­ï¼Œå¯èƒ½é‚„æ˜¯æä¸å¤ªæ‡‚ true / false å¸¶ä¾†çš„å½±éŸ¿ï¼Œæˆ–è¨±çŸ¥é“äº†å°±æ˜¯åœ¨ä¸åŒçš„ <code>memory space</code>ï¼Œä¸”æ…¢çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­: </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initarray2 = initarray;</span><br><span class="line"></span><br><span class="line">initarray2.push(<span class="string">'âŒ'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray2);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âŒ"]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âŒ"]</span></span><br></pre></td></tr></table></figure><p>æœ‰ç™¼ç¾æœ€åˆçš„é™£åˆ—ä¹Ÿè¢«æ”¹æ‰äº†å—ï¼Ÿæ˜æ˜æ˜¯è¦è¤‡è£½å…¨æ–°çš„é™£åˆ—ç„¶å¾Œ <code>push</code> æ±è¥¿é€²å»ï¼Œä½†ç‚ºä»€éº¼åŸæœ¬çš„é™£åˆ—ä¹Ÿè¢«æ”¹æ‰äº†ï¼</p><p>é€™å°±æ˜¯ã€Œå‚³å€¼ã€ã€ã€Œå‚³å€ã€çš„å·®åˆ¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [<span class="string">'ES5'</span>, <span class="string">'ES6'</span>, <span class="string">'ES7'</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> initarray2 = [...initarray];</span><br><span class="line"></span><br><span class="line">initarray2.push(<span class="string">'âœ”ï¸'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray2);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7", "âœ”ï¸"];</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray);</span><br><span class="line"><span class="comment">// ["ES5", "ES6", "ES7"];</span></span><br></pre></td></tr></table></figure><h2 id="Only-one-level"><a href="#Only-one-level" class="headerlink" title="Only one level"></a>Only one level</h2><blockquote><p>Note!!! è¨˜å¾— <code>Spread operator</code>ã€<code>Array.from()</code> å…©è€…è¤‡è£½é™£åˆ—æ™‚åªèƒ½æ·±å…¥ä¸€å±¤ï¼Œå¦‚æœè¦æ›´æ·±å…¥ï¼Œå¿…é ˆè¦ç”¨å…¶ä»–æ–¹æ³•æ‰èƒ½é”æˆï¼</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> initarray = [[<span class="string">'ES5'</span>, <span class="string">'ES6'</span>], [<span class="string">'ES7'</span>]];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> spread_operator_array = [...initarray];</span><br><span class="line"><span class="keyword">const</span> Array_from_array = <span class="built_in">Array</span>.from(initarray);</span><br><span class="line"></span><br><span class="line">spread_operator_array[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">"âŒ"</span>;</span><br><span class="line">Array_from_array[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">"âŒ"</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(spread_operator_array);</span><br><span class="line"><span class="built_in">console</span>.log(Array_from_array);</span><br><span class="line"><span class="comment">// [["âŒ", "ES6"], ["ES7"]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(initarray);</span><br><span class="line"><span class="comment">// [["âŒ", "ES6"], ["ES7"]]</span></span><br></pre></td></tr></table></figure><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener">MDN web docs Spread syntax</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice" target="_blank" rel="noopener">MDN web docs Array.prototype.slice()</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Clone-an-Array&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Clone-an-Array&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Clone an Array&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Clone an Array&lt;/h1&gt;&lt;p&gt;è¤‡è£½é™£åˆ—åŠè³‡æ–™ï¼Œä¸ç®¡åœ¨ä»€éº¼èªè¨€ç•¶ä¸­ï¼Œéƒ½æ˜¯å¾ˆå¸¸ç”¨åˆ°çš„æ–¹å¼ï¼Œåœ¨äº†è§£å¦‚ä½•è¤‡è£½ä¹‹å‰ï¼Œæ‡‰è©²å°æ‰€è¬‚çš„ã€Œå‚³å€¼ã€ã€ã€Œå‚³å€ã€å¤§æ¦‚çš„äº†è§£ï¼Œæ‰çŸ¥é“ç‚ºä»€éº¼é€™æ¨£èƒ½è¤‡è£½ä¸€å€‹æ–°çš„é™£åˆ—å‡ºä¾†ï¼Œè€Œä¸æ˜¯æ”¹åˆ°ä¹‹å‰çš„é™£åˆ—â€¦&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://ithelp.ithome.com.tw/articles/10191057&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é‡æ–°èªè­˜ JavaScript: Day 05 JavaScript æ˜¯ã€Œå‚³å€¼ã€æˆ–ã€Œå‚³å€ã€ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ES6-Way-to-Clone-an-Array&quot;&gt;&lt;a href=&quot;#ES6-Way-to-Clone-an-Array&quot; class=&quot;headerlink&quot; title=&quot;ES6 Way to Clone an Array&quot;&gt;&lt;/a&gt;ES6 Way to Clone an Array&lt;/h2&gt;&lt;p&gt;èˆŠæœ‰çš„è¤‡è£½é™£åˆ—é€šå¸¸éƒ½ä»¥ &lt;code&gt;slice&lt;/code&gt; ä¾†é”æˆï¼Œä¸é ES6 å¾Œï¼Œæœ‰äº›å…¶ä»–çš„æ–¹æ³•å¯ä»¥å¿«é€Ÿè¤‡è£½ï¼Œå°±ä¾†çœ‹çœ‹å§â€¦&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; initarray = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// Old way&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; oldarray = initarray.slice();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ES6 way&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; spreadoperator = [...initarray];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Arrayfrom = &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(initarray);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é‚„è¨˜å¾—ä¸Šæ¬¡çš„ &lt;a href=&quot;https://chestertang.site/2020/04/13/zyx0413/&quot;&gt;String to Array&lt;/a&gt; ä¹Ÿæœ‰ç”¨åˆ° &lt;code&gt;spread operator&lt;/code&gt;ã€&lt;code&gt;Array.from&lt;/code&gt; å…©è€…ç”¨æ³•ï¼Œå¦‚æœå¿˜è¨˜å¾—å¯ä»¥å†å»çœ‹çœ‹&lt;/p&gt;
&lt;h2 id=&quot;Call-by-value-Call-by-address&quot;&gt;&lt;a href=&quot;#Call-by-value-Call-by-address&quot; class=&quot;headerlink&quot; title=&quot;Call by value / Call by address&quot;&gt;&lt;/a&gt;Call by value / Call by address&lt;/h2&gt;&lt;p&gt;JS ä¸­çš„æ•¸çµ„æ˜¯ &lt;code&gt;Call by value&lt;/code&gt;ï¼Œå› æ­¤å¦‚æœå˜—è©¦ä½¿ç”¨ &lt;code&gt;=&lt;/code&gt; é€²è¡Œè¤‡åˆ¶æ™‚ï¼Œåªæœƒè¤‡è£½åˆ°åŸå§‹å®£å‘Šçš„é‚£çµ„æ•¸çµ„ï¼Œè€Œä¸æ˜¯æ•¸çµ„çš„å€¼ã€‚è¦çœŸæ­£è¤‡è£½ä¸€å€‹å…¨æ–°æ•¸çµ„ï¼Œéœ€è¦åœ¨æ–°çš„ value ä¸‹è¤‡è£½æ•¸çµ„çš„å€¼ï¼Œé€™æ¨£å°±ä¸æœƒå¼•ç”¨å…§å­˜ä¸­çš„èˆŠ addressã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; initarray = [&lt;span class=&quot;string&quot;&gt;&#39;ES5&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES6&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;ES7&#39;&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; errormethod = initarray;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; spreadoperator = [...initarray];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(initarray === errormethod);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;//  true --&amp;gt; same memory space (Call by value)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(initarray === spreadoperator);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// false --&amp;gt; new memory space(Call by address)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>HTML5 ç­†è¨˜ - :empty Selector</title>
    <link href="http://chestertang.site/2020/04/17/zyx0417/"/>
    <id>http://chestertang.site/2020/04/17/zyx0417/</id>
    <published>2020-04-17T03:30:00.000Z</published>
    <updated>2020-04-17T03:48:28.365Z</updated>
    
    <content type="html"><![CDATA[<h1 id="HTML5-ç­†è¨˜-empty-Selector"><a href="#HTML5-ç­†è¨˜-empty-Selector" class="headerlink" title="HTML5 ç­†è¨˜ - :empty Selector"></a>HTML5 ç­†è¨˜ - :empty Selector</h1><p>é€šå¸¸ï¼Œåœ¨æˆ‘å€‘çš„å…ƒç´ è£¡é¢ï¼Œå¤§å¤šéƒ½æœƒæœ‰æ–‡æœ¬ä»¥åŠå­å…ƒç´ ï¼Œç„¶è€Œå‡è¨­ä»Šå¤©æ˜¯å®Œå…¨æ²’æœ‰çš„ï¼Œä½†åˆæƒ³è¦é¸å–è©²æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™å°±å¯ä»¥ä½¿ç”¨ <code>:empty</code> é¸å–å™¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Not Empty --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Empty --&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"not empty"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:empty</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"empty"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: silver;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:empty</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://codepen.io/BeastRush/pen/QWjNqBW" target="_blank" rel="noopener">https://codepen.io/BeastRush/pen/QWjNqBW</a></p></blockquote><h2 id="å¦‚ä½•å®šç¾©-emptyï¼Ÿ"><a href="#å¦‚ä½•å®šç¾©-emptyï¼Ÿ" class="headerlink" title="å¦‚ä½•å®šç¾© emptyï¼Ÿ"></a>å¦‚ä½•å®šç¾© emptyï¼Ÿ</h2><p>ç•¶æˆ‘ç¬¬ä¸€æ˜¯çœ‹åˆ°æœ‰äººé€™æ¨£ç”¨çš„æ™‚å€™ï¼Œå…¶å¯¦æœ‰é»çœ‹ä¸å¤ªæ‡‚æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥æˆ‘ç›¸ä¿¡å¦‚æœä½ æ²’çœ‹éä¹Ÿé‚„æä¸å¤ªæ¸…æ¥šæ˜¯å¦‚ä½•å®šç¾© <code>:empty</code>ï¼Œå…ˆä¾†çœ‹çœ‹ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:empty" target="_blank" rel="noopener">MDN</a> çš„å®šç¾©ï¼š</p><blockquote><p>The :empty CSS pseudo-class represents any element that has no children. Children can be either element nodes or text (including whitespace). Comments, processing instructions, and CSS content do not affect whether an element is considered empty.</p></blockquote><h3 id="Only-in-Firefox"><a href="#Only-in-Firefox" class="headerlink" title="Only in Firefox"></a>Only in Firefox</h3><p>ç©ºç™½æœƒè¢«è¦–ç‚º emptyï¼Œ<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:-moz-only-whitespace" target="_blank" rel="noopener">:-moz-only-whitespace</a>ï¼Œä½†åŸºæœ¬ä¸Šæ˜¯å®Œå…¨å¯ä»¥å¿½ç•¥çš„æ±è¥¿ï¼Œé™¤éçœŸçš„åƒå·¥ä½œä¸Šé‡åˆ° <a href="https://stackoverflow.com/questions/11753523/firefox-bug-with-rowspan-border-collapse-border" target="_blank" rel="noopener">FireFox bug with: rowspan + border-collapse + border</a> è£¡é¢å°‘äº† table çš„åº•ç·šï¼Œåˆæˆ–è€…æ˜¯ Windows APP Outlook å¤šäº† tdï¼Œä½†æ˜¯å…¶ä»–ç€è¦½å™¨ã€æ‰‹æ©Ÿ APP é–‹é€šé€šéƒ½æ­£å¸¸çš„æƒ…æ³â€¦</p><blockquote><p>Note: In Selectors Level 4 the :empty pseudo-class was changed to act like :-moz-only-whitespace, but no browser currently supports this yet.</p></blockquote><h2 id="Not-Empty"><a href="#Not-Empty" class="headerlink" title="Not Empty"></a>Not Empty</h2><p>å¦‚åŒé–‹é ­çš„ä¾‹å­åŠå®šç¾©ï¼Œæœ‰æ–‡æœ¬ã€ç©ºç™½ã€å­å…ƒç´ </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- Comment with whitespace--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Chester<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Empty"><a href="#Empty" class="headerlink" title="Empty"></a>Empty</h2><p>æ¨™ç±¤è£¡é¢æ²’æœ‰æ±è¥¿ï¼ˆåŒ…å«ç©ºç™½ï¼‰åŠè£¡é¢æ˜¯è¨»è§£</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="comment">&lt;!-- Comment but Empty--&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="å¯¦ä¾‹"><a href="#å¯¦ä¾‹" class="headerlink" title="å¯¦ä¾‹"></a>å¯¦ä¾‹</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- No error message --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"error"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Yes error message --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"error"</span>&gt;</span> Missing Email<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.error</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">"\02716"</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.error</span><span class="selector-pseudo">:empty</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><a href="https://codepen.io/BeastRush/pen/QWjNqBW" target="_blank" rel="noopener">https://codepen.io/BeastRush/pen/QWjNqBW</a></p></blockquote><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:empty" target="_blank" rel="noopener">MDN web Docs :empty</a></li><li><a href="https://css-tricks.com/almanac/selectors/e/empty/" target="_blank" rel="noopener">Css trick</a></li><li><a href="http://thenewcode.com/692/Vanishing-Acts-The-CSS-empty-Selector" target="_blank" rel="noopener">Vanishing-Acts</a></li><li><a href="https://codepen.io/katydecorah/post/a-case-for-empty" target="_blank" rel="noopener">A case for :empty</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;HTML5-ç­†è¨˜-empty-Selector&quot;&gt;&lt;a href=&quot;#HTML5-ç­†è¨˜-empty-Selector&quot; class=&quot;headerlink&quot; title=&quot;HTML5 ç­†è¨˜ - :empty Selector&quot;&gt;&lt;/a&gt;HTML5 ç­†è¨˜ - :empty Selector&lt;/h1&gt;&lt;p&gt;é€šå¸¸ï¼Œåœ¨æˆ‘å€‘çš„å…ƒç´ è£¡é¢ï¼Œå¤§å¤šéƒ½æœƒæœ‰æ–‡æœ¬ä»¥åŠå­å…ƒç´ ï¼Œç„¶è€Œå‡è¨­ä»Šå¤©æ˜¯å®Œå…¨æ²’æœ‰çš„ï¼Œä½†åˆæƒ³è¦é¸å–è©²æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™å°±å¯ä»¥ä½¿ç”¨ &lt;code&gt;:empty&lt;/code&gt; é¸å–å™¨&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Not Empty --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;&amp;lt;!-- Empty --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;::before&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;not empty&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:empty&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;::before&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;content&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;empty&quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: silver;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt;&lt;span class=&quot;selector-pseudo&quot;&gt;:empty&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;color&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/BeastRush/pen/QWjNqBW&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://codepen.io/BeastRush/pen/QWjNqBW&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å¦‚ä½•å®šç¾©-emptyï¼Ÿ&quot;&gt;&lt;a href=&quot;#å¦‚ä½•å®šç¾©-emptyï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•å®šç¾© emptyï¼Ÿ&quot;&gt;&lt;/a&gt;å¦‚ä½•å®šç¾© emptyï¼Ÿ&lt;/h2&gt;&lt;p&gt;ç•¶æˆ‘ç¬¬ä¸€æ˜¯çœ‹åˆ°æœ‰äººé€™æ¨£ç”¨çš„æ™‚å€™ï¼Œå…¶å¯¦æœ‰é»çœ‹ä¸å¤ªæ‡‚æ˜¯ä»€éº¼ï¼Œæ‰€ä»¥æˆ‘ç›¸ä¿¡å¦‚æœä½ æ²’çœ‹éä¹Ÿé‚„æä¸å¤ªæ¸…æ¥šæ˜¯å¦‚ä½•å®šç¾© &lt;code&gt;:empty&lt;/code&gt;ï¼Œå…ˆä¾†çœ‹çœ‹ &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:empty&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MDN&lt;/a&gt; çš„å®šç¾©ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The :empty CSS pseudo-class represents any element that has no children. Children can be either element nodes or text (including whitespace). Comments, processing instructions, and CSS content do not affect whether an element is considered empty.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Only-in-Firefox&quot;&gt;&lt;a href=&quot;#Only-in-Firefox&quot; class=&quot;headerlink&quot; title=&quot;Only in Firefox&quot;&gt;&lt;/a&gt;Only in Firefox&lt;/h3&gt;&lt;p&gt;ç©ºç™½æœƒè¢«è¦–ç‚º emptyï¼Œ&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/:-moz-only-whitespace&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;:-moz-only-whitespace&lt;/a&gt;ï¼Œä½†åŸºæœ¬ä¸Šæ˜¯å®Œå…¨å¯ä»¥å¿½ç•¥çš„æ±è¥¿ï¼Œé™¤éçœŸçš„åƒå·¥ä½œä¸Šé‡åˆ° &lt;a href=&quot;https://stackoverflow.com/questions/11753523/firefox-bug-with-rowspan-border-collapse-border&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;FireFox bug with: rowspan + border-collapse + border&lt;/a&gt; è£¡é¢å°‘äº† table çš„åº•ç·šï¼Œåˆæˆ–è€…æ˜¯ Windows APP Outlook å¤šäº† tdï¼Œä½†æ˜¯å…¶ä»–ç€è¦½å™¨ã€æ‰‹æ©Ÿ APP é–‹é€šé€šéƒ½æ­£å¸¸çš„æƒ…æ³â€¦&lt;/p&gt;
    
    </summary>
    
    
      <category term="HTML5" scheme="http://chestertang.site/categories/HTML5/"/>
    
    
      <category term="HTML5" scheme="http://chestertang.site/tags/HTML5/"/>
    
  </entry>
  
  <entry>
    <title>J ç­†è¨˜ - String to Array</title>
    <link href="http://chestertang.site/2020/04/13/zyx0413/"/>
    <id>http://chestertang.site/2020/04/13/zyx0413/</id>
    <published>2020-04-13T08:00:00.000Z</published>
    <updated>2020-04-16T10:03:11.443Z</updated>
    
    <content type="html"><![CDATA[<h1 id="J-ç­†è¨˜-Convert-String-to-Character-Array"><a href="#J-ç­†è¨˜-Convert-String-to-Character-Array" class="headerlink" title="J ç­†è¨˜ - Convert String to Character Array"></a>J ç­†è¨˜ - Convert String to Character Array</h1><p>åœ¨è™•ç†è³‡æ–™ä¸ç®¡æ˜¯åœ¨ Rubyã€JS ç•¶ä¸­ï¼Œå¸¸å¸¸éœ€è¦æŠŠä¸€æ•´å¨çš„è³‡æ–™åšåˆ‡é–‹å¾Œï¼Œå†ä¾†åšæ‡‰ç”¨ï¼Œè€Œåœ¨ JS ä¸­å¯¦ä½œçš„æ–¹å¼æœ‰å¥½å¹¾ç¨®ï¼Œä½†é€™äº›æ–¹æ³•ä¹‹ä¸­çš„å·®ç•°åœ¨å“ªé‚Šï¼Œå°±ä¾†å¯¦ä½œå¹¾å€‹ç¯„ä¾‹å§ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'Chester'</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r']</span></span><br></pre></td></tr></table></figure><h2 id="å››ç¨®-String-gt-Character-Array-æ–¹æ³•"><a href="#å››ç¨®-String-gt-Character-Array-æ–¹æ³•" class="headerlink" title="å››ç¨® String -&gt; Character Array æ–¹æ³•"></a>å››ç¨® String -&gt; Character Array æ–¹æ³•</h2><p>å°‡è³‡æ–™æ‹†é–‹çš„æ–¹æ³•å…±æœ‰å››ç¨®ï¼Œéš¨è‘— ES6 çš„å»£æ³›æ‡‰ç”¨ï¼Œé™¤äº†å¸¸è¦‹çš„ <code>split</code> é‚„æœ‰è¨±å¤šå…¶ä»–çš„å¯«æ³•å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œï¼Œé›–ç„¶å¯èƒ½æœ‰äº›ä¸å¤ªå¸¸ç”¨åˆ°ï¼Œä½†è‡³å°‘åˆ¥äººçš„ç¨‹å¼ç¢¼ç•¶ä¸­å¦‚æœå‡ºç¾ï¼Œä½ å¯ä»¥é¦¬ä¸Šç†è§£é€™æ®µ code åœ¨å¹¹å˜›â€¦</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'Chester'</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é¸é …1 </span></span><br><span class="line">Chester.split(<span class="string">''</span>); </span><br><span class="line"><span class="comment">// é¸é …2 </span></span><br><span class="line">[... Chester]; </span><br><span class="line"><span class="comment">// é¸é …3 </span></span><br><span class="line"><span class="built_in">Array</span>.from(Chester); </span><br><span class="line"><span class="comment">// é¸é …4 </span></span><br><span class="line"><span class="built_in">Object</span>.assign([]ï¼ŒChester); </span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r']</span></span><br></pre></td></tr></table></figure><h3 id="æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—"><a href="#æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—" class="headerlink" title="æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—"></a>æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'æŸ¥æ–¯ç‰¹'</span>;</span><br><span class="line"><span class="keyword">const</span> usingSplit = Chester.split(<span class="string">''</span>);</span><br><span class="line"><span class="keyword">const</span> usingSpread = [... Chester];</span><br><span class="line"><span class="keyword">const</span> usingArrayFrom = <span class="built_in">Array</span>.from(Chester);</span><br><span class="line"><span class="keyword">const</span> usingObjectAssign = <span class="built_in">Object</span>.assign([], Chester);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['æŸ¥', 'æ–¯', 'ç‰¹']</span></span><br></pre></td></tr></table></figure><h3 id="æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ"><a href="#æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ" class="headerlink" title="æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ"></a>æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ</h3><p>å¦‚æœæ˜¯è¦æŠŠé€—è™Ÿã€åˆ†è™Ÿé€™é¡å‹çš„è³‡æ–™åˆ†é–‹ï¼Œé‚£ <code>split</code> æœƒæ˜¯æœ€å¥½çš„è¾¦æ³•ï¼ˆé€™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼‰ï¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'Chester-Tang'</span>;</span><br><span class="line"><span class="keyword">const</span> usingSplit = Chester.split(<span class="string">'-'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['Chester', 'Tang']</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–çš„æ–¹æ³•è·Ÿæƒ…æ³ä¸€å¾—åˆ°çš„ç­”æ¡ˆæ˜¯ç›¸åŒçš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'Chester-Tang'</span>;</span><br><span class="line"><span class="keyword">const</span> usingSpread = [... Chester];</span><br><span class="line"><span class="keyword">const</span> usingArrayFrom = <span class="built_in">Array</span>.from(Chester);</span><br><span class="line"><span class="keyword">const</span> usingObjectAssign = <span class="built_in">Object</span>.assign([], Chester);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r', '-', 'T', 'a', 'n', 'g']</span></span><br></pre></td></tr></table></figure><h3 id="æƒ…æ³ä¸‰ï¼šEmojis"><a href="#æƒ…æ³ä¸‰ï¼šEmojis" class="headerlink" title="æƒ…æ³ä¸‰ï¼šEmojis"></a>æƒ…æ³ä¸‰ï¼šEmojis</h3><p>å¦‚æœå«æœ‰ Emojis çš„è©±ï¼Œ<code>Spread</code>ã€<code>ArrayFrom</code> æ˜¯æ¯”è¼ƒå¥½çš„åšæ³•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'ChesterğŸ˜‹'</span>;</span><br><span class="line"><span class="keyword">const</span> usingSpread = [... Chester];</span><br><span class="line"><span class="keyword">const</span> usingArrayFrom = <span class="built_in">Array</span>.from(Chester);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r', 'ğŸ˜‹']</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨ <code>split</code>ã€<code>Object.assign</code> æœƒç™¼ç”Ÿä»¥ä¸‹éŒ¯èª¤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Chester = <span class="string">'ChesterğŸ˜‹'</span>;</span><br><span class="line"><span class="keyword">const</span> usingSplit = Chester.split(<span class="string">''</span>);</span><br><span class="line"><span class="keyword">const</span> usingObjectAssign = <span class="built_in">Object</span>.assign([], Chester);</span><br><span class="line"></span><br><span class="line"><span class="comment">// çµæœï¼š</span></span><br><span class="line"><span class="comment">// ['C', 'h', 'e', 's', 't', 'e', 'r', 'ï¿½', 'ï¿½']</span></span><br></pre></td></tr></table></figure><p>é€™æ˜¯å› ç‚º <a href="https://github.com/orling/grapheme-splitter" target="_blank" rel="noopener">grapheme-splitter</a> <code>UTF-8</code> å’Œ <code>UTF-16</code> ä¸åŒçš„é—œä¿‚æ‰€é€ æˆçš„ã€‚â€™ğŸ˜‹â€™ å®ƒå¯¦éš›ä¸Šæ˜¯ç”± 2 å€‹å­—çµ„æˆï¼Œè€Œä¸æ˜¯æˆ‘å€‘èªç‚ºçš„ 1 å€‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'ğŸ˜‹'</span>.length; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>TypeScript ä¸­çš„ <code>Object.assign([], Chester)</code>ï¼Œåœ¨é€™é‚Šå…¶å¯¦é‚„æœ‰å…¶ä»–çš„é›·ï¼Œä½†å‰ææ˜¯ä½ æœ‰åœ¨å¯« TS</p></blockquote><h1 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h1><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split" target="_blank" rel="noopener">MDN Web Docs: split</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank" rel="noopener">MDN Web Docs: spread</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from" target="_blank" rel="noopener">MDN Web Docs: Array.from</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign" target="_blank" rel="noopener">MDN Web Docs: Object.assign</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;J-ç­†è¨˜-Convert-String-to-Character-Array&quot;&gt;&lt;a href=&quot;#J-ç­†è¨˜-Convert-String-to-Character-Array&quot; class=&quot;headerlink&quot; title=&quot;J ç­†è¨˜ - Convert String to Character Array&quot;&gt;&lt;/a&gt;J ç­†è¨˜ - Convert String to Character Array&lt;/h1&gt;&lt;p&gt;åœ¨è™•ç†è³‡æ–™ä¸ç®¡æ˜¯åœ¨ Rubyã€JS ç•¶ä¸­ï¼Œå¸¸å¸¸éœ€è¦æŠŠä¸€æ•´å¨çš„è³‡æ–™åšåˆ‡é–‹å¾Œï¼Œå†ä¾†åšæ‡‰ç”¨ï¼Œè€Œåœ¨ JS ä¸­å¯¦ä½œçš„æ–¹å¼æœ‰å¥½å¹¾ç¨®ï¼Œä½†é€™äº›æ–¹æ³•ä¹‹ä¸­çš„å·®ç•°åœ¨å“ªé‚Šï¼Œå°±ä¾†å¯¦ä½œå¹¾å€‹ç¯„ä¾‹å§ï¼&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Chester = &lt;span class=&quot;string&quot;&gt;&#39;Chester&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;C&#39;, &#39;h&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39;, &#39;e&#39;, &#39;r&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&quot;å››ç¨®-String-gt-Character-Array-æ–¹æ³•&quot;&gt;&lt;a href=&quot;#å››ç¨®-String-gt-Character-Array-æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;å››ç¨® String -&amp;gt; Character Array æ–¹æ³•&quot;&gt;&lt;/a&gt;å››ç¨® String -&amp;gt; Character Array æ–¹æ³•&lt;/h2&gt;&lt;p&gt;å°‡è³‡æ–™æ‹†é–‹çš„æ–¹æ³•å…±æœ‰å››ç¨®ï¼Œéš¨è‘— ES6 çš„å»£æ³›æ‡‰ç”¨ï¼Œé™¤äº†å¸¸è¦‹çš„ &lt;code&gt;split&lt;/code&gt; é‚„æœ‰è¨±å¤šå…¶ä»–çš„å¯«æ³•å¯ä»¥è§£æ±ºé€™å€‹å•é¡Œï¼Œé›–ç„¶å¯èƒ½æœ‰äº›ä¸å¤ªå¸¸ç”¨åˆ°ï¼Œä½†è‡³å°‘åˆ¥äººçš„ç¨‹å¼ç¢¼ç•¶ä¸­å¦‚æœå‡ºç¾ï¼Œä½ å¯ä»¥é¦¬ä¸Šç†è§£é€™æ®µ code åœ¨å¹¹å˜›â€¦&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Chester = &lt;span class=&quot;string&quot;&gt;&#39;Chester&#39;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;C&#39;, &#39;h&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39;, &#39;e&#39;, &#39;r&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// é¸é …1 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Chester.split(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// é¸é …2 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;[... Chester]; &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// é¸é …3 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(Chester); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// é¸é …4 &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign([]ï¼ŒChester); &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// çµæœï¼š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;C&#39;, &#39;h&#39;, &#39;e&#39;, &#39;s&#39;, &#39;t&#39;, &#39;e&#39;, &#39;r&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—&quot;&gt;&lt;a href=&quot;#æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—&quot; class=&quot;headerlink&quot; title=&quot;æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—&quot;&gt;&lt;/a&gt;æƒ…æ³ä¸€ï¼šåˆ‡å‰²æ¯å€‹å­—&lt;/h3&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; Chester = &lt;span class=&quot;string&quot;&gt;&#39;æŸ¥æ–¯ç‰¹&#39;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; usingSplit = Chester.split(&lt;span class=&quot;string&quot;&gt;&#39;&#39;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; usingSpread = [... Chester];&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; usingArrayFrom = &lt;span class=&quot;built_in&quot;&gt;Array&lt;/span&gt;.from(Chester);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; usingObjectAssign = &lt;span class=&quot;built_in&quot;&gt;Object&lt;/span&gt;.assign([], Chester);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// çµæœï¼š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// [&#39;æŸ¥&#39;, &#39;æ–¯&#39;, &#39;ç‰¹&#39;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ&quot;&gt;&lt;a href=&quot;#æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ&quot;&gt;&lt;/a&gt;æƒ…æ³äºŒï¼šç‰¹å®šç¬¦è™Ÿ&lt;/h3&gt;&lt;p&gt;å¦‚æœæ˜¯è¦æŠŠé€—è™Ÿã€åˆ†è™Ÿé€™é¡å‹çš„è³‡æ–™åˆ†é–‹ï¼Œé‚£ &lt;code&gt;split&lt;/code&gt; æœƒæ˜¯æœ€å¥½çš„è¾¦æ³•ï¼ˆé€™ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼‰ï¼&lt;/p&gt;
    
    </summary>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="http://chestertang.site/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>R ç­†è¨˜ - Cancancan</title>
    <link href="http://chestertang.site/2020/04/09/zyx0409/"/>
    <id>http://chestertang.site/2020/04/09/zyx0409/</id>
    <published>2020-04-09T06:00:00.000Z</published>
    <updated>2020-04-09T06:01:34.831Z</updated>
    
    <content type="html"><![CDATA[<p>ä¹‹å‰çš„ DemoProject ä¸­ï¼Œæ¶æ§‹éƒ½æ²’æœ‰å¤§åˆ°éœ€è¦ç”¨åˆ°è§’è‰²ä¾†ç®¡ç†æ¬Šé™ï¼ˆå¯è¦‹å¤šå»¢xdï¼‰ï¼Œæ‰€ä»¥å°±ç®—çŸ¥é“å¯ä»¥ç”¨ä»€éº¼ä¾†ç®¡ï¼Œä½†ä¹Ÿæ²’æœ‰ç›´æ¥çš„ä¾†å¯«éæˆ–æ¥è§¸åˆ°ï¼Œé€™å¹¾å¤©å‰›å¥½æœ‰ç©ºå°±ä¾†å¥½å¥½ç ”ç©¶ï¼Œä¹Ÿé †æ‰‹è¨˜éŒ„ä¸€ä¸‹ä¸€äº›è§€å¿µã€‚</p><p>å…ˆè¬›å€‹é€™å€‹ gem æ˜¯å¹¹å˜›çš„ï¼š</p><ol><li>å®šç¾©ä¸åŒä½¿ç”¨è€…æœ‰ä¸åŒè§’è‰²ï¼Œæ¯å€‹è§’è‰²æœ‰ä¸åŒæ¬Šé™</li><li>ç°¡åŒ– controller çš„ code</li></ol><h1 id="Cancancan"><a href="#Cancancan" class="headerlink" title="Cancancan"></a>Cancancan</h1><h2 id="Define-Abilities"><a href="#Define-Abilities" class="headerlink" title="Define Abilities"></a>Define Abilities</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rails generate <span class="symbol">cancan:</span>ability</span><br><span class="line"><span class="comment">#create  app/models/ability.rb</span></span><br></pre></td></tr></table></figure><p>ability.rb å®šç¾©æ¯å€‹è§’è‰²æ“æœ‰å“ªäº›æ¬Šé™ï¼Œä¸¦åœ¨ view æˆ– controller  è¨­å®šæ¢ä»¶æ™‚ï¼ŒæŸ¥çœ‹æ˜¯å¦ç¬¦åˆæ¢ä»¶</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># app &gt; models &gt; ability.rb</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Ability</span></span></span><br><span class="line">  <span class="keyword">include</span> CanCan::Ability</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">initialize</span><span class="params">(user, staff = <span class="literal">nil</span>)</span></span></span><br><span class="line">    alias_action <span class="symbol">:read</span>, <span class="symbol">:update</span>, <span class="symbol">to:</span> <span class="symbol">:use</span> <span class="comment"># alias</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> user.present?  <span class="comment"># additional permissions for logged in users (they can read their own posts)</span></span><br><span class="line">      can [<span class="symbol">:new</span>, <span class="symbol">:create</span>], Forum</span><br><span class="line">      cannot [<span class="symbol">:new</span>], Comment</span><br><span class="line">      basic_read_only</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">if</span> user.admin?  <span class="comment"># additional permissions for administrators</span></span><br><span class="line">        can <span class="symbol">:manage</span>, <span class="symbol">:all</span></span><br><span class="line">      <span class="keyword">elsif</span> staff &amp;&amp; staff.role</span><br><span class="line">        eval(<span class="string">"<span class="subst">#&#123;staff.<span class="keyword">class</span>.name.underscore&#125;</span>_ability(staff)"</span>)</span><br><span class="line">        <span class="comment"># eval å» call åº•ä¸‹çš„æ–¹æ³•</span></span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">        can <span class="symbol">:read</span>, Post</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  protected</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">basic_read_only</span></span></span><br><span class="line">    can <span class="symbol">:read</span>, Forum</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># å®šç¾© Teacher æ‰€æ“æœ‰çš„æ¬Šé™</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">teacher_ability</span><span class="params">(teacher)</span></span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment"># å®šç¾© Student æ‰€æ“æœ‰çš„æ¬Šé™</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">student_ability</span><span class="params">(student)</span></span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># can      : å®šç¾©è¢«å…è¨±çš„æ¬Šé™ï¼Œå¾Œé¢æ¥å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹æ˜¯è¢«å…è¨±çš„ action ï¼Œç¬¬äºŒå€‹æ˜¯è¢«å…è¨±çš„ object</span></span><br><span class="line">  <span class="comment"># cannot   : åŒä¸Šï¼Œåä¹‹</span></span><br><span class="line">  <span class="comment"># :manage  : æŒ‡ æ‰€æœ‰çš„ action æ–¹æ³•ï¼Œ:all è¡¨ç¤ºæ‰€æœ‰çš„ object</span></span><br><span class="line">  <span class="comment"># :read    : æŒ‡ :index å’Œ :show</span></span><br><span class="line">  <span class="comment"># :update  : æŒ‡ :edit  å’Œ :update</span></span><br><span class="line">  <span class="comment"># :destroy : æŒ‡ :destroy</span></span><br><span class="line">  <span class="comment"># :create  : æŒ‡ :new   å’Œ :crate</span></span><br></pre></td></tr></table></figure><p>object å¾Œå¯ä»¥è¨­å®šæœ‰æ¬Šé™çš„å…¶ä»–æƒ…æ³(database columns)</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">can <span class="symbol">:update</span>, Reseller <span class="keyword">do</span> <span class="params">|reseller|</span></span><br><span class="line">  (reseller.id == user.id)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">can <span class="symbol">:update</span>, Reseller, <span class="symbol">id:</span> user.id</span><br></pre></td></tr></table></figure><p>è‡ªè¨‚ Alias action</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alias_action <span class="symbol">:index</span>, <span class="symbol">:show</span>, <span class="symbol">:to</span> =&gt; <span class="symbol">:read</span></span><br><span class="line">alias_action <span class="symbol">:new</span>, <span class="symbol">:to</span> =&gt; <span class="symbol">:create</span></span><br><span class="line">alias_action <span class="symbol">:edit</span>, <span class="symbol">:to</span> =&gt; <span class="symbol">:update</span></span><br></pre></td></tr></table></figure><p>è‡ªè¨‚ method</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">protected</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">basic_read_only</span></span></span><br><span class="line">  can <span class="symbol">:read</span>, Forum</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Authorizing-controller-actions"><a href="#Authorizing-controller-actions" class="headerlink" title="Authorizing controller actions"></a>Authorizing controller actions</h2><h3 id="load-and-authorized-resource"><a href="#load-and-authorized-resource" class="headerlink" title="load_and_authorized_resource"></a>load_and_authorized_resource</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductsController</span> &lt; ActionController::Base</span></span><br><span class="line">  load_and_authorize_resource</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">discontinue</span></span></span><br><span class="line">    <span class="comment"># Automatically does the following:</span></span><br><span class="line">    <span class="comment"># <span class="doctag">@product</span> = Product.find(params[:id])</span></span><br><span class="line">    <span class="comment"># authorize! :discontinue, <span class="doctag">@product</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#æŒ‡å®š action</span></span><br><span class="line"><span class="comment">#load_and_authorize_resource :only =&gt; [:index, :show]</span></span><br></pre></td></tr></table></figure><p>ç­‰æ–¼ä»¥ä¸‹å…©å€‹æ–¹æ³•ï¼š</p><ul><li>load_resource</li><li>authorize_resource</li></ul><h3 id="load-resource"><a href="#load-resource" class="headerlink" title="load_resource"></a>load_resource</h3><p><code>load_resource</code> è‡ªå‹•åŠ å…¥ @instanceï¼Œé è¨­è·Ÿ Class åç¨±ç›¸åŒï¼ŒArticle =&gt; @article</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ArticlesController</span> <span class="title">&lt;</span> <span class="title">ApplicationController</span></span></span><br><span class="line">  load_resource</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">new</span></span></span><br><span class="line">    <span class="comment"># <span class="doctag">@article</span> = Article.new</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></span><br><span class="line">    <span class="comment"># <span class="doctag">@article</span> = Article.find(params[:id])</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h3 id="authorize-resource"><a href="#authorize-resource" class="headerlink" title="authorize_resource"></a>authorize_resource</h3><p>å°‡é€™å€‹ Controller åŠ å…¥æ¬Šé™çš„æ§åˆ¶ï¼Œä¸¦å» model è£¡åˆ¤æ–·æ¬Šé™æ˜¯å¦æœ‰æ•ˆ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TopicController</span> &lt; ApplicationController</span></span><br><span class="line">  authorize_resource <span class="symbol">:post</span> <span class="comment">#ä¸‹æ–¹ index action ä¸­çš„è®Šæ•¸åç¨±</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">index</span></span></span><br><span class="line">    @post = Topic.all</span><br><span class="line">    <span class="comment">#é è¨­ç‚º <span class="doctag">@topic</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><h2 id="Exception-Handling"><a href="#Exception-Handling" class="headerlink" title="Exception-Handling"></a>Exception-Handling</h2><p>è‹¥ user ç„¡æ¬Šé™é€²å…¥ï¼Œcancancan æœƒå™´å‡ºä¸€å€‹ CanCan::AccessDenied exception</p><blockquote><p>authorize_resource or authorize! æœƒä¸Ÿä¾‹å¤–</p></blockquote><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#application_controller.rb</span></span><br><span class="line"></span><br><span class="line">rescue_from CanCan::AccessDenied <span class="keyword">do</span> <span class="params">|exception|</span></span><br><span class="line">  redirect_to root_url, <span class="symbol">:alert</span> =&gt; exception.messag <span class="comment">#redirect_to</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><blockquote><p><a href="https://github.com/CanCanCommunity/cancancan" target="_blank" rel="noopener">https://github.com/CanCanCommunity/cancancan</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¹‹å‰çš„ DemoProject ä¸­ï¼Œæ¶æ§‹éƒ½æ²’æœ‰å¤§åˆ°éœ€è¦ç”¨åˆ°è§’è‰²ä¾†ç®¡ç†æ¬Šé™ï¼ˆå¯è¦‹å¤šå»¢xdï¼‰ï¼Œæ‰€ä»¥å°±ç®—çŸ¥é“å¯ä»¥ç”¨ä»€éº¼ä¾†ç®¡ï¼Œä½†ä¹Ÿæ²’æœ‰ç›´æ¥çš„ä¾†å¯«éæˆ–æ¥è§¸åˆ°ï¼Œé€™å¹¾å¤©å‰›å¥½æœ‰ç©ºå°±ä¾†å¥½å¥½ç ”ç©¶ï¼Œä¹Ÿé †æ‰‹è¨˜éŒ„ä¸€ä¸‹ä¸€äº›è§€å¿µã€‚&lt;/p&gt;
&lt;p&gt;å…ˆè¬›å€‹é€™å€‹ gem æ˜¯å¹¹å˜›çš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å®šç¾©ä¸åŒä½¿ç”¨è€…æœ‰ä¸åŒè§’è‰²ï¼Œæ¯å€‹è§’è‰²æœ‰ä¸åŒæ¬Šé™&lt;/li&gt;
&lt;li&gt;ç°¡åŒ– controller çš„ code&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;Cancancan&quot;&gt;&lt;a href=&quot;#Cancancan&quot; class=&quot;headerlink&quot; title=&quot;Cancancan&quot;&gt;&lt;/a&gt;Cancancan&lt;/h1&gt;&lt;h2 id=&quot;Define-Abilities&quot;&gt;&lt;a href=&quot;#Define-Abilities&quot; class=&quot;headerlink&quot; title=&quot;Define Abilities&quot;&gt;&lt;/a&gt;Define Abilities&lt;/h2&gt;&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;rails generate &lt;span class=&quot;symbol&quot;&gt;cancan:&lt;/span&gt;ability&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#create  app/models/ability.rb&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ability.rb å®šç¾©æ¯å€‹è§’è‰²æ“æœ‰å“ªäº›æ¬Šé™ï¼Œä¸¦åœ¨ view æˆ– controller  è¨­å®šæ¢ä»¶æ™‚ï¼ŒæŸ¥çœ‹æ˜¯å¦ç¬¦åˆæ¢ä»¶&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# app &amp;gt; models &amp;gt; ability.rb&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;class&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Ability&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;include&lt;/span&gt; CanCan::Ability&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(user, staff = &lt;span class=&quot;literal&quot;&gt;nil&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alias_action &lt;span class=&quot;symbol&quot;&gt;:read&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:update&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;to:&lt;/span&gt; &lt;span class=&quot;symbol&quot;&gt;:use&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;# alias&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; user.present?  &lt;span class=&quot;comment&quot;&gt;# additional permissions for logged in users (they can read their own posts)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      can [&lt;span class=&quot;symbol&quot;&gt;:new&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:create&lt;/span&gt;], Forum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      cannot [&lt;span class=&quot;symbol&quot;&gt;:new&lt;/span&gt;], Comment&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      basic_read_only&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; user.admin?  &lt;span class=&quot;comment&quot;&gt;# additional permissions for administrators&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        can &lt;span class=&quot;symbol&quot;&gt;:manage&lt;/span&gt;, &lt;span class=&quot;symbol&quot;&gt;:all&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;elsif&lt;/span&gt; staff &amp;amp;&amp;amp; staff.role&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        eval(&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;subst&quot;&gt;#&amp;#123;staff.&lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt;.name.underscore&amp;#125;&lt;/span&gt;_ability(staff)&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;# eval å» call åº•ä¸‹çš„æ–¹æ³•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        can &lt;span class=&quot;symbol&quot;&gt;:read&lt;/span&gt;, Post&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  protected&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;basic_read_only&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    can &lt;span class=&quot;symbol&quot;&gt;:read&lt;/span&gt;, Forum&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# å®šç¾© Teacher æ‰€æ“æœ‰çš„æ¬Šé™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;teacher_ability&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(teacher)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# å®šç¾© Student æ‰€æ“æœ‰çš„æ¬Šé™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;student_ability&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(student)&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# can      : å®šç¾©è¢«å…è¨±çš„æ¬Šé™ï¼Œå¾Œé¢æ¥å…©å€‹åƒæ•¸ï¼Œç¬¬ä¸€å€‹æ˜¯è¢«å…è¨±çš„ action ï¼Œç¬¬äºŒå€‹æ˜¯è¢«å…è¨±çš„ object&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# cannot   : åŒä¸Šï¼Œåä¹‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# :manage  : æŒ‡ æ‰€æœ‰çš„ action æ–¹æ³•ï¼Œ:all è¡¨ç¤ºæ‰€æœ‰çš„ object&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# :read    : æŒ‡ :index å’Œ :show&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# :update  : æŒ‡ :edit  å’Œ :update&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# :destroy : æŒ‡ :destroy&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;# :create  : æŒ‡ :new   å’Œ :crate&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;object å¾Œå¯ä»¥è¨­å®šæœ‰æ¬Šé™çš„å…¶ä»–æƒ…æ³(database columns)&lt;/p&gt;
&lt;figure class=&quot;highlight ruby&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;can &lt;span class=&quot;symbol&quot;&gt;:update&lt;/span&gt;, Reseller &lt;span class=&quot;keyword&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;params&quot;&gt;|reseller|&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  (reseller.id == user.id)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;can &lt;span class=&quot;symbol&quot;&gt;:update&lt;/span&gt;, Reseller, &lt;span class=&quot;symbol&quot;&gt;id:&lt;/span&gt; user.id&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Rails" scheme="http://chestertang.site/categories/Rails/"/>
    
    
      <category term="Rails" scheme="http://chestertang.site/tags/Rails/"/>
    
      <category term="Ruby" scheme="http://chestertang.site/tags/Ruby/"/>
    
  </entry>
  
  <entry>
    <title>S3 SnowBall</title>
    <link href="http://chestertang.site/2020/04/08/zyx0408/"/>
    <id>http://chestertang.site/2020/04/08/zyx0408/</id>
    <published>2020-04-07T16:00:00.000Z</published>
    <updated>2020-04-08T03:48:16.804Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Whatâ€™s-Snow-Ball"><a href="#Whatâ€™s-Snow-Ball" class="headerlink" title="Whatâ€™s Snow Ball?"></a>Whatâ€™s Snow Ball?</h1><h2 id="SnowBall"><a href="#SnowBall" class="headerlink" title="SnowBall"></a>SnowBall</h2><p>Snowball is a petabyte-scale data transparent solution that uses secure appliances to transfer large amount of data into and out of AWS.</p><p>Using Snowball addresses common challenges with large-scale data transfers including high network costs, long transfer times, and security concerns.</p><p>Transferring data with SnowBall is simple, fast, secure and can be as little as one-fifth the cost of high-speed internet.</p><p>Snowball comes in either a 50TB or 80TB size. Snowball uses mutiple layers of security designed to protect your data including tamper-resistant enclosures, 256-bit encryption, and an industry-standard Trusted Platform Module (TPM) designed to ensure both security and full chain-of-custody of your data.</p><p>Once the data transfer job has been processed and verified, AWS performs a software erasure of the SnowBall appliance.</p><h2 id="SnowBall-Edge"><a href="#SnowBall-Edge" class="headerlink" title="SnowBall Edge"></a>SnowBall Edge</h2><p>AWS SnowBall Edge is a 100TB data tranfer device with on-board storage and compute capabilities. You can use SnowBall Edge to move large amounts of data into and out of AWS, as a temporary storage tier for large local datasets, or to support local workloads in remote or offline locations.</p><p>SnowBall Edge connects to your existing applicatinos and infrastructure using standard storage interfaces, streamlining the data transfer process and minimizing setup and integration.</p><p>SnowBall Edge can cluster together to form a local stroage tier and process your data on-premises, helping ensure your applications continue to run even when they are not able to access the cloud.</p><h2 id="Snowmobile"><a href="#Snowmobile" class="headerlink" title="Snowmobile"></a>Snowmobile</h2><p>AWS Snowmobile is an Exabyte-scale data transfer service used to move extremely large amounts of data to AWS. </p><p>You can transfer up to 100PB per Snowmobile, a 45-foot long ruggedized shipping container, pulled by a semi-trailer truck.</p><p>Snowmobile makes it easy to move massive volumes of data to the cloud, including video libararies, image repositories, or even a complete data center migration. Transferring data with Snowmobile is secure, fast and cot effective.</p><h3 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h3><ul><li>Understand what Snowball is </li><li>Import / Export from S3 </li></ul><blockquote><p><a href="https://aws.amazon.com/tw/snowball/" target="_blank" rel="noopener">https://aws.amazon.com/tw/snowball/</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Whatâ€™s-Snow-Ball&quot;&gt;&lt;a href=&quot;#Whatâ€™s-Snow-Ball&quot; class=&quot;headerlink&quot; title=&quot;Whatâ€™s Snow Ball?&quot;&gt;&lt;/a&gt;Whatâ€™s Snow Ball?&lt;/h1&gt;&lt;h2 id=&quot;SnowBall&quot;&gt;&lt;a href=&quot;#SnowBall&quot; class=&quot;headerlink&quot; title=&quot;SnowBall&quot;&gt;&lt;/a&gt;SnowBall&lt;/h2&gt;&lt;p&gt;Snowball is a petabyte-scale data transparent solution that uses secure appliances to transfer large amount of data into and out of AWS.&lt;/p&gt;
&lt;p&gt;Using Snowball addresses common challenges with large-scale data transfers including high network costs, long transfer times, and security concerns.&lt;/p&gt;
&lt;p&gt;Transferring data with SnowBall is simple, fast, secure and can be as little as one-fifth the cost of high-speed internet.&lt;/p&gt;
&lt;p&gt;Snowball comes in either a 50TB or 80TB size. Snowball uses mutiple layers of security designed to protect your data including tamper-resistant enclosures, 256-bit encryption, and an industry-standard Trusted Platform Module (TPM) designed to ensure both security and full chain-of-custody of your data.&lt;/p&gt;
&lt;p&gt;Once the data transfer job has been processed and verified, AWS performs a software erasure of the SnowBall appliance.&lt;/p&gt;
&lt;h2 id=&quot;SnowBall-Edge&quot;&gt;&lt;a href=&quot;#SnowBall-Edge&quot; class=&quot;headerlink&quot; title=&quot;SnowBall Edge&quot;&gt;&lt;/a&gt;SnowBall Edge&lt;/h2&gt;&lt;p&gt;AWS SnowBall Edge is a 100TB data tranfer device with on-board storage and compute capabilities. You can use SnowBall Edge to move large amounts of data into and out of AWS, as a temporary storage tier for large local datasets, or to support local workloads in remote or offline locations.&lt;/p&gt;
&lt;p&gt;SnowBall Edge connects to your existing applicatinos and infrastructure using standard storage interfaces, streamlining the data transfer process and minimizing setup and integration.&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="SnowBall" scheme="http://chestertang.site/tags/SnowBall/"/>
    
  </entry>
  
  <entry>
    <title>S3 CloudFront Distribution</title>
    <link href="http://chestertang.site/2020/04/05/zyx0405/"/>
    <id>http://chestertang.site/2020/04/05/zyx0405/</id>
    <published>2020-04-04T16:00:00.000Z</published>
    <updated>2020-04-07T08:27:17.752Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Create-A-CloudFront-Distribution"><a href="#Create-A-CloudFront-Distribution" class="headerlink" title="Create A CloudFront Distribution"></a>Create A CloudFront Distribution</h1><h2 id="Networking-amp-Content-Delivery-CloudFront"><a href="#Networking-amp-Content-Delivery-CloudFront" class="headerlink" title="Networking &amp; Content Delivery / CloudFront"></a>Networking &amp; Content Delivery / CloudFront</h2><p>Amazon CloudFront æ˜¯å¿«é€Ÿå…§å®¹äº¤ä»˜ç¶²è·¯ (CDN) æœå‹™ï¼Œå¯åœ¨æ”¯æ´é–‹ç™¼äººå“¡çš„ç’°å¢ƒä¸­ï¼Œä»¥ä½å»¶é²å’Œé«˜é€Ÿå‚³è¼¸çš„æ–¹å¼å°‡è³‡æ–™ã€å½±ç‰‡ã€æ‡‰ç”¨ç¨‹å¼å’Œ API å®‰å…¨åœ°äº¤ä»˜çµ¦å…¨çƒçš„å®¢æˆ¶ã€‚</p><p>CloudFront å¯èˆ‡å¤šç¨®æœå‹™æµæš¢æ­é…ï¼ŒåŒ…å«ä½¿ç”¨ AWS Shield æ¸›å°‘ DDoS æ”»æ“Šæ¬¡æ•¸ã€ä»¥ Amazon S3ã€Elastic Load Balancing æˆ– Amazon EC2 åšç‚ºæ‡‰ç”¨ç¨‹å¼çš„ä¾†æºï¼Œä»¥åŠä½¿ç”¨ Lambda@Edge åœ¨æ›´é è¿‘å®¢æˆ¶ä½¿ç”¨è€…çš„ä½ç½®åŸ·è¡Œè‡ªè¨‚ç¨‹å¼ç¢¼ï¼Œä¸¦è‡ªè¨‚ä½¿ç”¨è€…é«”é©—ã€‚</p><h3 id="Create-a-CloudFront-Distribution"><a href="#Create-a-CloudFront-Distribution" class="headerlink" title="Create a CloudFront Distribution"></a>Create a CloudFront Distribution</h3><p>é»é¸ <code>Networking &amp; Content Delivery / CloudFront</code> æŒ‰éˆ•ï¼Œå¯ä»¥çœ‹åˆ° <code>CloudFront Distributions</code> é é¢ï¼Œç›´æ¥é»é¸ <code>Create Distribution</code> ä»¥å»ºç«‹ <code>CloudFront</code> </p><p><img src="https://i.imgur.com/hl0hNdj.png" alt="image"><br><img src="https://i.imgur.com/Dv7iVV4.png" alt="image"></p><p>ç¸½å…±æœ‰å…©å€‹æ­¥é©Ÿï¼š</p><ol><li>Select delivery method</li><li>Create Distribution</li></ol><p>é¦–å…ˆï¼Œå¯ä»¥é¸æ“‡ <code>Web</code> å’Œ <code>RTMP</code> å…©ç¨®æ–¹å¼ï¼Œ <code>RTMP</code> ä¸»è¦æ˜¯æ‹¿ä¾†çµ¦ Media é¡å‹ä¾†ä½¿ç”¨çš„ (e.g. Adobe Media)ï¼Œé€™é‚Šå°±ç›´æ¥ä»¥ <code>Web / Get Started</code> ä¾†å¯¦ä½œç¯„ä¾‹</p><p><img src="https://i.imgur.com/D8Dx1PN.png" alt="image"></p><p>é‚„è¨˜å¾—æˆ‘å€‘ç•¶åˆåœ¨ <a href="https://chestertang.site/2020/03/31/zyx0331/">S3 Cross Region Replication</a> å»ºç«‹çš„ S3 Bucket å§ï¼Ÿé€™æ™‚å€™å°±å¯ä»¥é¸æ“‡é€™å€‹ Bucket ä¾†æ¸¬è©¦çœ‹çœ‹</p><p>å°‡ <code>Origin Domain Name</code> é¸å–è¦è¢« <code>Distribution</code> çš„ Bucketï¼Œå…¶é¤˜é¸é …å°‡ä»¥é è¨­ä¾† <code>Create Distribution</code></p><p><img src="https://i.imgur.com/VEOJTM0.png" alt="image"></p><p>å®Œæˆå¾Œå¤§ç´„è¦ç­‰å¾… 15-30 åˆ†é˜å·¦å³ï¼Œç•¶ <code>Status</code> è®Šæˆ <code>Deployed</code> å°±ä»£è¡¨å®Œæˆä¸¦ä¸” <code>Enabled</code></p><p><img src="https://i.imgur.com/AuNEVQH.png" alt="image"></p><p>è€Œä¹Ÿæœƒå–å¾—ä¸€å€‹ <code>Domain name</code> å³å…¶ä»–è³‡è¨Šï¼Œå¯ä»¥è©¦è‘—æ‰“é–‹é€™å€‹é€£çµï¼Œæœƒç™¼ç¾è£¡é¢çš„å…§å®¹è·Ÿç•¶åˆå»ºç«‹ S3 Bucket æ˜¯ç›¸åŒçš„ï¼Œåªæ˜¯ç¾åœ¨è¢« <code>Distribution</code> åˆ° <code>Edge Location</code> </p><blockquote><p>Domain Nameï¼šd2qxnxw978i04y.cloudfront.net</p></blockquote><p><img src="https://i.imgur.com/gyl5cD6.png" alt="image"></p><p>æœ€å¾Œï¼Œå¦‚æœåœ¨ Origin çš„ Bucket æœ‰ Upload è¨±å¤šæª”æ¡ˆçš„è©±ï¼Œç¾åœ¨ä¸ç”¨å†è¼¸å…¥ç•¶åˆçµ¦çš„ S3 Bucket é€£çµä¾†å–å¾—åœ–ç‰‡ï¼Œæˆ‘å€‘å¯ä»¥é€éå‰›å‰›çµ¦çš„ <code>Domain Name</code> ä¸¦åŠ ä¸Šæª”æ¡ˆåç¨±ï¼ˆå¦‚åŒ <a href="https://chestertang.site/2020/03/26/zyx0326/">S3 Bucket</a> ã„§æ¨£ï¼‰å°±å¯ä»¥ç›´æ¥åœ–å–åˆ°æª”æ¡ˆå•¦ï¼(e.g. <a href="http://d2qxnxw978i04y.cloudfront.net/icon.png" target="_blank" rel="noopener">http://d2qxnxw978i04y.cloudfront.net/icon.png</a>)</p><p><img src="https://i.imgur.com/IT5N0K6.png" alt="image"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Edge Locationï¼šThis is the location where content will be cached. This is separate to an AWS Region/AZ.</li><li>Originï¼šThis is the origin of  all the files that the CDN will distribute. This can be either an S3 Bucket, an EC2 Instance, an Elastic Load Balancer, or Route 53.</li><li>Distributionï¼šThis is the same given the CDN which consists of collection of Edge Locations.</li><li>Web Distributionï¼šTypically used for Websites.</li><li>RTMPï¼šUsed for Media Streaming.</li><li>Edge locations are not just READ only - you can write to them too. (ie put an object on to them)</li><li>Objects are cached for the life of the Time To Live.</li><li>You can clear cached objects, but you will be charged.</li></ul><blockquote><p><a href="https://docs.aws.amazon.com/zh_tw/AmazonCloudFront/latest/DeveloperGuide/GettingStarted.SimpleDistribution.html" target="_blank" rel="noopener">Getting Started with a Simple CloudFront Distribution</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Create-A-CloudFront-Distribution&quot;&gt;&lt;a href=&quot;#Create-A-CloudFront-Distribution&quot; class=&quot;headerlink&quot; title=&quot;Create A CloudFront Distribution&quot;&gt;&lt;/a&gt;Create A CloudFront Distribution&lt;/h1&gt;&lt;h2 id=&quot;Networking-amp-Content-Delivery-CloudFront&quot;&gt;&lt;a href=&quot;#Networking-amp-Content-Delivery-CloudFront&quot; class=&quot;headerlink&quot; title=&quot;Networking &amp;amp; Content Delivery / CloudFront&quot;&gt;&lt;/a&gt;Networking &amp;amp; Content Delivery / CloudFront&lt;/h2&gt;&lt;p&gt;Amazon CloudFront æ˜¯å¿«é€Ÿå…§å®¹äº¤ä»˜ç¶²è·¯ (CDN) æœå‹™ï¼Œå¯åœ¨æ”¯æ´é–‹ç™¼äººå“¡çš„ç’°å¢ƒä¸­ï¼Œä»¥ä½å»¶é²å’Œé«˜é€Ÿå‚³è¼¸çš„æ–¹å¼å°‡è³‡æ–™ã€å½±ç‰‡ã€æ‡‰ç”¨ç¨‹å¼å’Œ API å®‰å…¨åœ°äº¤ä»˜çµ¦å…¨çƒçš„å®¢æˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;CloudFront å¯èˆ‡å¤šç¨®æœå‹™æµæš¢æ­é…ï¼ŒåŒ…å«ä½¿ç”¨ AWS Shield æ¸›å°‘ DDoS æ”»æ“Šæ¬¡æ•¸ã€ä»¥ Amazon S3ã€Elastic Load Balancing æˆ– Amazon EC2 åšç‚ºæ‡‰ç”¨ç¨‹å¼çš„ä¾†æºï¼Œä»¥åŠä½¿ç”¨ Lambda@Edge åœ¨æ›´é è¿‘å®¢æˆ¶ä½¿ç”¨è€…çš„ä½ç½®åŸ·è¡Œè‡ªè¨‚ç¨‹å¼ç¢¼ï¼Œä¸¦è‡ªè¨‚ä½¿ç”¨è€…é«”é©—ã€‚&lt;/p&gt;
&lt;h3 id=&quot;Create-a-CloudFront-Distribution&quot;&gt;&lt;a href=&quot;#Create-a-CloudFront-Distribution&quot; class=&quot;headerlink&quot; title=&quot;Create a CloudFront Distribution&quot;&gt;&lt;/a&gt;Create a CloudFront Distribution&lt;/h3&gt;&lt;p&gt;é»é¸ &lt;code&gt;Networking &amp;amp; Content Delivery / CloudFront&lt;/code&gt; æŒ‰éˆ•ï¼Œå¯ä»¥çœ‹åˆ° &lt;code&gt;CloudFront Distributions&lt;/code&gt; é é¢ï¼Œç›´æ¥é»é¸ &lt;code&gt;Create Distribution&lt;/code&gt; ä»¥å»ºç«‹ &lt;code&gt;CloudFront&lt;/code&gt; &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/hl0hNdj.png&quot; alt=&quot;image&quot;&gt;&lt;br&gt;&lt;img src=&quot;https://i.imgur.com/Dv7iVV4.png&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
&lt;p&gt;ç¸½å…±æœ‰å…©å€‹æ­¥é©Ÿï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Select delivery method&lt;/li&gt;
&lt;li&gt;Create Distribution&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é¦–å…ˆï¼Œå¯ä»¥é¸æ“‡ &lt;code&gt;Web&lt;/code&gt; å’Œ &lt;code&gt;RTMP&lt;/code&gt; å…©ç¨®æ–¹å¼ï¼Œ &lt;code&gt;RTMP&lt;/code&gt; ä¸»è¦æ˜¯æ‹¿ä¾†çµ¦ Media é¡å‹ä¾†ä½¿ç”¨çš„ (e.g. Adobe Media)ï¼Œé€™é‚Šå°±ç›´æ¥ä»¥ &lt;code&gt;Web / Get Started&lt;/code&gt; ä¾†å¯¦ä½œç¯„ä¾‹&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="CloudFront Distribution" scheme="http://chestertang.site/tags/CloudFront-Distribution/"/>
    
  </entry>
  
  <entry>
    <title>S3 Cross Region Replication</title>
    <link href="http://chestertang.site/2020/03/31/zyx0331/"/>
    <id>http://chestertang.site/2020/03/31/zyx0331/</id>
    <published>2020-03-31T07:00:00.000Z</published>
    <updated>2020-04-04T10:37:26.709Z</updated>
    
    <content type="html"><![CDATA[<h1 id="S3-Cross-Region-Replication-LAB"><a href="#S3-Cross-Region-Replication-LAB" class="headerlink" title="S3 Cross Region Replication - LAB"></a>S3 Cross Region Replication - LAB</h1><h2 id="S3-Cross-Region-Replication"><a href="#S3-Cross-Region-Replication" class="headerlink" title="S3 Cross Region Replication"></a>S3 Cross Region Replication</h2><p>é€™ç¯‡å°‡ä»‹ç´¹å¦‚æœè¦è¤‡è£½ä¸€å€‹ S3 bucket ï¼Œä¸åªè¤‡è£½ç¾åœ¨éƒ¨åˆ†ï¼Œè€Œä¸”åœ¨è¢«è¤‡è£½çš„ bucket ä¸Šå¦‚æœ <code>Upload</code> æ–°çš„æª”æ¡ˆï¼Œè¤‡è£½çš„ bucket ä¹Ÿæœ‰ä¸€æ¨£çš„æ•ˆæœè©²å¦‚ä½•å¯¦ä½œï¼Ÿæ­¤å¤–é‚„æœ‰ä¸€äº›é è¨­è©²çŸ¥é“çš„è§€å¿µã€‚</p><p>ä»¥ä¸‹å°‡ç”¨ <a href="https://chestertang.site/2020/03/27/zyx0327/">Versioning</a> å»ºç«‹çš„ S3 Bucket ç¹¼çºŒå¯¦ä½œé€™ç¯‡çš„ï¼Œå¦‚æœè£¡é¢çš„æ¦‚å¿µå¿˜è¨˜æˆ–è€…ä¸ç†Ÿå¯ä»¥å…ˆå›å»çœ‹çœ‹</p><p>é¦–å…ˆï¼Œå…ˆé»é¸æˆ‘å€‘ç•¶åˆå»ºç«‹çš„ <code>chestertang1231-versiontest</code> çš„ bucket</p><p><img src="https://i.imgur.com/dY6p2Uu.png" alt="IMAGE"></p><p>é»é¸ <code>Management</code> æŒ‰éˆ•å¾Œï¼Œå¯ä»¥çœ‹åˆ° <code>Replication</code> ä¸­æœ‰ <code>Add rule</code> å»ºç«‹è¤‡å¯«çš„è¦å‰‡ï¼Œé€™é‚Šé‚„æ²’æœ‰å»ºç«‹éï¼Œæ‰€ä»¥å°±ä¾†ç›´æ¥å»ºä¸€å€‹å§ï¼</p><p><img src="https://i.imgur.com/sj5VzM8.png" alt="IMAGE"></p><p>Replication rule çš„ Set source çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘å€‘ç›´æ¥å°‡æ•´å€‹ bucket éƒ½é¸å–</p><p><img src="https://i.imgur.com/KqslMWe.png" alt="IMAGE"></p><p>å»ºç«‹ä¸€å€‹æ–°çš„ bucket</p><p><img src="https://i.imgur.com/OLS2oDP.png" alt="IMAGE"></p><p>å–ä¸€å€‹ S3 bucket çš„åå­—ï¼Œå¯ä»¥æœ‰å€‹é–‹é ­æ–¹ä¾¿å¥½çŸ¥é“é€™å€‹æ˜¯ç¾åœ¨é€™å€‹ bucket çš„å‰¯æœ¬</p><p><img src="https://i.imgur.com/rnOQnR6.png" alt="IMAGE"></p><p>æœ€å¾Œåªè¦å†çµ¦é€™å€‹ <code>Rule name</code> å–ä¸€å€‹åå­—ï¼Œå°±å®Œæˆå•¦ï¼</p><p><img src="https://i.imgur.com/EmnyWRx.png" alt="IMAGE"></p><p>å¯ä»¥çœ‹åˆ°å®Œæˆå¾Œï¼Œé€™å€‹ <code>Bucket</code> è£¡é¢å¯ä»¥çŸ¥é“ä½ å‰›å‰›å»ºç«‹çš„è¤‡è£½çš„ <code>Bucket</code>ï¼Œæ˜ç´°å¤§è‡´ä¸Šå°±æ˜¯è·Ÿä¸Šé¢å†å»ºç«‹ <code>Replication rule</code> çš„æ˜ç´°æ˜¯ç›¸åŒçš„</p><p><img src="https://i.imgur.com/lmbRr8L.png" alt="IMAGE"></p><p>æ­¤å¤–ï¼Œåœ¨ S3 è£¡é¢ä¹Ÿæœƒå¤šå‡ºä¸€å€‹æ–°çš„ bucket å‡ºä¾†ï¼Œä¸åªå¦‚æ­¤ï¼Œå¯ä»¥è©¦è©¦çœ‹åœ¨åŸæœ¬è¢«è¤‡è£½çš„ bucket <code>chestertang1231-versiontest</code> ä¸­ <code>Upload</code> æª”æ¡ˆå¯ä»¥çœ‹çœ‹è¤‡è£½å‡ºä¾†çš„ <code>chesterdercrossregionreplication</code> çš„ bucket æœƒæœ‰ä»€éº¼è®ŠåŒ–ï¼Ÿ</p><p><img src="https://i.imgur.com/HNqAZQ0.png" alt="IMAGE"></p><blockquote><ol><li>æ–°å»ºç«‹å‡ºä¾†çš„ <code>chesterdercrossregionreplication</code> bucket æ˜¯ç©ºçš„ï¼Œå°±ç®—è¢«è¤‡è£½çš„ bucket æœ‰ file ä¹Ÿä¸æœƒè¤‡å¯«éä¾† </li><li>åœ¨è¢«è¤‡è£½çš„ bucket ä¸­åˆªé™¤ Objectã€Version éƒ½ä¸æœƒè¦†å¯«åˆ°è¤‡è£½çš„ <code>chesterdercrossregionreplication</code> bucket</li></ol></blockquote><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Versioning must be enabled on both the source and destination buckets</li><li>Files in an existing bucket are not replication automatically</li><li>All subsequent updated files will be replication automatically</li><li>Delete markers are not replicated</li><li>Deleting individual versions or delete markers will noe be replicated</li><li>Understand what Cross Region Replication is at a high level</li></ul><blockquote><p><a href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/user-guide/enable-replication.html" target="_blank" rel="noopener">How Do I Add a Replication Rule to an S3 Bucket?</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;S3-Cross-Region-Replication-LAB&quot;&gt;&lt;a href=&quot;#S3-Cross-Region-Replication-LAB&quot; class=&quot;headerlink&quot; title=&quot;S3 Cross Region Replication - LAB&quot;&gt;&lt;/a&gt;S3 Cross Region Replication - LAB&lt;/h1&gt;&lt;h2 id=&quot;S3-Cross-Region-Replication&quot;&gt;&lt;a href=&quot;#S3-Cross-Region-Replication&quot; class=&quot;headerlink&quot; title=&quot;S3 Cross Region Replication&quot;&gt;&lt;/a&gt;S3 Cross Region Replication&lt;/h2&gt;&lt;p&gt;é€™ç¯‡å°‡ä»‹ç´¹å¦‚æœè¦è¤‡è£½ä¸€å€‹ S3 bucket ï¼Œä¸åªè¤‡è£½ç¾åœ¨éƒ¨åˆ†ï¼Œè€Œä¸”åœ¨è¢«è¤‡è£½çš„ bucket ä¸Šå¦‚æœ &lt;code&gt;Upload&lt;/code&gt; æ–°çš„æª”æ¡ˆï¼Œè¤‡è£½çš„ bucket ä¹Ÿæœ‰ä¸€æ¨£çš„æ•ˆæœè©²å¦‚ä½•å¯¦ä½œï¼Ÿæ­¤å¤–é‚„æœ‰ä¸€äº›é è¨­è©²çŸ¥é“çš„è§€å¿µã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹å°‡ç”¨ &lt;a href=&quot;https://chestertang.site/2020/03/27/zyx0327/&quot;&gt;Versioning&lt;/a&gt; å»ºç«‹çš„ S3 Bucket ç¹¼çºŒå¯¦ä½œé€™ç¯‡çš„ï¼Œå¦‚æœè£¡é¢çš„æ¦‚å¿µå¿˜è¨˜æˆ–è€…ä¸ç†Ÿå¯ä»¥å…ˆå›å»çœ‹çœ‹&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œå…ˆé»é¸æˆ‘å€‘ç•¶åˆå»ºç«‹çš„ &lt;code&gt;chestertang1231-versiontest&lt;/code&gt; çš„ bucket&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/dY6p2Uu.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;é»é¸ &lt;code&gt;Management&lt;/code&gt; æŒ‰éˆ•å¾Œï¼Œå¯ä»¥çœ‹åˆ° &lt;code&gt;Replication&lt;/code&gt; ä¸­æœ‰ &lt;code&gt;Add rule&lt;/code&gt; å»ºç«‹è¤‡å¯«çš„è¦å‰‡ï¼Œé€™é‚Šé‚„æ²’æœ‰å»ºç«‹éï¼Œæ‰€ä»¥å°±ä¾†ç›´æ¥å»ºä¸€å€‹å§ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/sj5VzM8.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;Replication rule çš„ Set source çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘å€‘ç›´æ¥å°‡æ•´å€‹ bucket éƒ½é¸å–&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/KqslMWe.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="S3 Cross Region Replication" scheme="http://chestertang.site/tags/S3-Cross-Region-Replication/"/>
    
  </entry>
  
  <entry>
    <title>S3 Cross-Account Access</title>
    <link href="http://chestertang.site/2020/03/30/zyx0330/"/>
    <id>http://chestertang.site/2020/03/30/zyx0330/</id>
    <published>2020-03-30T04:00:00.000Z</published>
    <updated>2020-07-19T14:43:34.087Z</updated>
    
    <content type="html"><![CDATA[<h1 id="AWS-Organizations"><a href="#AWS-Organizations" class="headerlink" title="AWS Organizations"></a>AWS Organizations</h1><p>é€™ç¯‡é¦–å…ˆå‰åŠæ®µæ˜¯è·Ÿ S3 æ¯”è¼ƒæ²’æœ‰ç›´æ¥ç›¸é—œçš„éƒ¨åˆ†ï¼Œä¸éå› ç‚ºç‚ºäº†å¾Œé¢è¦åˆ†äº« S3 æ¬Šé™çµ¦å…¶ä»–å¸³è™Ÿï¼Œæ‰€ä»¥å¿…é ˆå…ˆè¨­å®š Organization æ‰æœ‰è¾¦æ³•å®Œæˆã€‚</p><p>å¦å¤–æ–‡ä¸­çš„ä¸»å¸³è™Ÿç‚º <code>m0761005</code>ï¼Œåˆ†äº«çš„å¸³è™Ÿç‚º <code>chester.tang</code> é€™éš»å¸³è™Ÿï¼ˆå¯«åœ¨å‰é ­æ–¹ä¾¿è§€çœ‹é€™ç¯‡åœ–ä¾‹ä¸­ç¾åœ¨çš„è§’è‰²é—œä¿‚ï¼‰</p><p>é¦–å…ˆï¼Œè¦åˆ†äº«æ¬Šé™çµ¦å…¶ä»–äººï¼Œå¯ä»¥é€éå…©ç¨®æ–¹å¼é€²å…¥åˆ° <code>AWS Organizations</code>:</p><ol><li>é»é¸å³ä¸Šæ–¹å¸³è™Ÿ <code>My Organization</code></li><li><code>Management &amp; Governance / AWS Organizations</code></li></ol><p>é€²å…¥åˆ°é é¢å¾Œï¼Œé»é¸ <code>Create organization</code> æŒ‰éˆ•ä¾†å»ºç«‹çµ„ç¹”å§ï¼ </p><p><img src="https://i.imgur.com/lLIbo7V.png" alt="IMAGE"></p><p>å®Œæˆå¾Œå¯ä»¥çœ‹åˆ°ï¼Œç›®å‰çš„ä½¿ç”¨è€…å‰é¢æœ‰å€‹æ˜Ÿè™Ÿï¼Œè€Œæˆ‘å€‘è¦é€éé»é¸ <code>Add account</code> ä¾†æ–°å¢ä½¿ç”¨è€…</p><p><img src="https://i.imgur.com/xMMNQfl.png" alt="IMAGE"></p><p>é¸æ“‡è¦ <code>Invite account</code> æŒ‰éˆ•ï¼Œä¸¦è¼¸å…¥ Email å¸³æˆ¶æˆ– <code>account ID</code> ä¾†å¯„é€é‚€è«‹ Mail</p><p><img src="https://i.imgur.com/Nb0jBk0.png" alt="IMAGE"></p><p>æ”¶åˆ°ä¿¡ä»¶å¾Œï¼Œåˆ‡æ›å¸³è™Ÿåˆ°å‰›å‰›å¯„é€çš„ AWS å¸³è™Ÿï¼Œä¸¦ <code>Accept</code> é‚€è«‹å¾Œå°±å¯ä»¥åŠ å…¥äº†ï¼</p><p><img src="https://i.imgur.com/h2PkXnr.png" alt="IMAGE"></p><p>ç„¶å¾Œè£¡é¢å°±æœƒå‡ºç¾ç¾åœ¨æ“æœ‰çš„æˆå“¡ï½</p><p><img src="https://i.imgur.com/N1PwEGx.png" alt="IMAGE"></p><hr><h1 id="Lab-Sharing-S3-Buckets-Across-Accounts"><a href="#Lab-Sharing-S3-Buckets-Across-Accounts" class="headerlink" title="Lab - Sharing S3 Buckets Across Accounts"></a>Lab - Sharing S3 Buckets Across Accounts</h1><h2 id="3-differents-ways-to-share-S3-buckets-across-accounts"><a href="#3-differents-ways-to-share-S3-buckets-across-accounts" class="headerlink" title="3 differents ways to share S3 buckets across accounts"></a>3 differents ways to share S3 buckets across accounts</h2><ul><li>Using Bucket Policies &amp; IAM (applies across the entire bucket). Programmatic Access Only.</li><li>Using Bucket ACLs &amp; IAM (individual objects). Programmatic Access Only.</li><li>Cross-Account IAM Roles. Programmatic AND Console access.</li></ul><h3 id="IAM"><a href="#IAM" class="headerlink" title="IAM"></a>IAM</h3><p>å®Œæˆä¸Šè¿°çš„ AWS Organizations ä¹‹å¾Œï¼Œå¯ä»¥çœ‹åˆ°ç›®å‰çµ„ç¹”çš„ç•«é¢ï¼Œæ¥ä¸‹ä¾†æˆ‘å€‘ä¾† <code>Cross-Account Access</code> çµ¦å…¶ä»–å¸³æˆ¶</p><p><img src="https://i.imgur.com/N1PwEGx.png" alt="IMAGE"></p><p>åœ¨ <code>Sharing S3 Buckets Across Accounts</code> çµ¦å…¶ä»–å¸³è™Ÿä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†äº†è§£ä¸€ä¸‹æ•´å€‹çš„æµç¨‹ï¼Œå¦‚æœåº•ä¸‹å…§å®¹æœ‰é»å¿˜è¨˜æ˜¯ä»€éº¼äº†å¯ä»¥åƒè€ƒä¹‹å‰çš„é€™ç¯‡æ–‡ç«  <a href="https://chestertang.site/2020/03/24/zyx0324/">IAM</a>ï¼Œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š </p><ul><li><code>m0761005</code> å¸³è™Ÿéœ€è¦å»ºç«‹ä¸€å€‹ <code>Roles</code> (è¼¸å…¥è¦çµ¦æ¬Šé™çš„ AWS Account ID)ï¼Œä¸¦ä¸”é¸å–æ“æœ‰çš„ <code>Policy</code> (e.g. AmazonS3FullAccess)ï¼Œå®Œæˆå¾Œæœƒæœ‰å€‹å°ˆå±¬é€£çµä¾†çµ¦åˆ†äº«çš„å¸³è™Ÿåšç™»å…¥</li><li><code>chester.tang</code> å¸³è™Ÿéœ€è¦å»ºç«‹ä¸€å€‹ <code>Users</code> ä¾†åˆ‡æ›èº«ä»½ä¾†çŸ¥é“æˆ‘ç¾åœ¨ç™»å…¥çš„æ˜¯ <code>m0761005</code> é–‹å‡ºä¾†çš„ç™»å…¥æ¬Šé™ï¼Œå› æ­¤é¸å–æ“æœ‰çš„ <code>Policy</code> (e.g. AdminstrationAccess)ï¼Œä½¿å¾—å¸³è™Ÿå¯ä»¥ <code>Switch Role</code></li></ul><p>é¦–å…ˆï¼Œåœ¨ <code>m0761005</code> å¸³æˆ¶çš„ <code>IAM</code> ä¸­å…ˆå»ºç«‹ <code>Roles</code></p><p><img src="https://i.imgur.com/sqpHNfr.png" alt="IMAGE"></p><p>å› ç‚ºæ˜¯è¦åˆ†äº«çµ¦å¦ä¸€å€‹å¸³è™Ÿï¼Œæ‰€ä»¥é¸å– <code>Another AWS account</code> ä¾† <code>Create role</code>ï¼Œä¸éé¦–å…ˆè¦çŸ¥é“å¦ä¸€å€‹å¸³è™Ÿçš„ Account ID æ‰æœ‰è¾¦æ³•é€²è¡Œ</p><p><img src="https://i.imgur.com/WMS4V7j.png" alt="IMAGE"></p><p>é€™å€‹éƒ¨åˆ†æ‡‰è©²å°±æ»¿å¥½æ‡‚çš„ï¼Œæˆ‘çµ¦é€™å€‹å¸³æˆ¶è¦é–‹å•Ÿä»€éº¼æ¬Šé™ï¼Œèƒ½åšä»€éº¼æ“ä½œï¼Œéƒ½å¯ä»¥é€é <code>policy</code> ä¾†é”æˆï¼Œé€™é‚Šå°±ç›´æ¥ä»¥ S3 ( <code>AmazonS3FullAccess</code> ) ä¾†åšç¯„ä¾‹</p><p><img src="https://i.imgur.com/eGzX6TY.png" alt="IMAGE"></p><p>ä»Šå¤©æˆ‘å€‘åˆ†äº«é€™å€‹æ¬Šé™çµ¦å…¶ä»–äººä¸æœƒæ¯æ¬¡éƒ½éœ€è¦ä¸Šé¢çš„æ­¥é©Ÿï¼Œæˆ‘å€‘å¯ä»¥è¨­å®šä¸€å€‹ <code>Role name</code> å°ˆé–€åœ¨åˆ†äº«æŸä¸€å€‹æ¬Šé™çµ¦ç‰¹å®šçš„äººï¼Œé€™æ¨£å°±ä¸ç”¨ä¸€ç›´é¸å–è¦çµ¦çš„æ¬Šé™ã€‚</p><p>å¥½æ¯”æˆ‘ç¾åœ¨æƒ³åˆ†äº« S3 çš„æ¬Šé™çµ¦æˆ‘çš„åŒäº‹å€‘ï¼Œæˆ‘å°±ç›´æ¥æŠŠé€™å€‹ <code>Role name</code> å«åš <code>S3_Cross_Account_Access</code> ç›´æ¥æ¸…æ¥šæ˜ç­ï¼Œä¹Ÿæ–¹ä¾¿ä¹‹å¾ŒçŸ¥é“é€™å€‹ <code>Role</code> è£¡é¢æ“æœ‰çš„ <code>Policy</code> æ˜¯ä»€éº¼â€¦</p><p><img src="https://i.imgur.com/waiqGGj.png" alt="IMAGE"></p><p>åˆ°é€™å€‹æ­¥é©Ÿå°±å®Œæˆäº†ä¸Šè¿°æµç¨‹çš„ä¸€åŠæ­¥é©Ÿï¼Œæˆ‘å€‘ <code>m0761005</code> å¸³æˆ¶å°±æœ‰å¯ä»¥çµ¦å…¶ä»–å¸³æˆ¶ <code>S3</code> æ¬Šé™çš„ <code>Role</code></p><p><img src="https://i.imgur.com/MAOQeDK.png" alt="IMAGE"></p><blockquote><p>åœ–ä¸­çš„ <code>Give this link to users who can switch roles in the console</code> æ­¤æ®µå¾Œçš„é€£çµå¯ä»¥å…ˆå­˜èµ·ä¾†ï¼Œæ­¤æ®µç‚ºå…¶ä»–å¸³è™Ÿè¦ <code>Switch Roles</code> çš„é€£çµ</p></blockquote><p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘ä¾†åˆ‡æ›å¸³æˆ¶åˆ° <code>Chester.tang</code>ã€‚å¦‚æœä¸Šæ®µçš„ <code>AWS Organizations</code> æœ‰å®Œæˆçš„è©±ï¼Œæœƒçœ‹åˆ°ç›®å‰å¸³è™Ÿçš„æ˜¯åœ¨å“ªå€‹ <code>Organizations</code> ä¸‹ï¼Œä¸¦ä¸”æœƒæœ‰å€‹ ID</p><p><img src="https://i.imgur.com/eAfqYF4.png" alt="IMAGE"></p><p><code>Chester.tang</code> çš„å¸³æˆ¶ä¸­ï¼Œå¦‚ä¸Šè¿°çš„æµç¨‹ï¼Œæˆ‘å€‘å…ˆè¦ä¾†å»ºç«‹ä¸€å€‹ <code>Users</code> ä¾†è·Ÿ <code>m0761005</code> é€£çµï¼Œä¸¦ä¸”æ–¹ä¾¿æˆ‘å€‘åˆ‡æ›è§’è‰²</p><p><img src="https://i.imgur.com/cDdQB7Z.png" alt="IMAGE"></p><p>é»é¸ <code>Add user</code> å¾Œï¼Œé¦–å…ˆå…ˆå–ä¸€å€‹ <code>User name</code> çš„åå­—ï¼ˆè¨˜ä½é€™å€‹åå­—å°‡æœƒæ˜¯æ—¥å¾Œç™»å…¥ AWS çš„å¸³æˆ¶åç¨±ï¼‰ï¼Œä¸¦ä¸”è‡ªå·±è¨­å®šå¯†ç¢¼</p><p><img src="https://i.imgur.com/dx3tuG5.png" alt="IMAGE"></p><p>ç•¶ç„¶åœ°ï¼Œé€™é‚Šæ“æœ‰çš„ <code>Policy</code> å°±æ˜¯ç™»å…¥äº†ï½è·Ÿä¹‹å‰ <code>m0761005</code> åœ¨å»ºç«‹ <code>Roles</code> æ˜¯ç›¸åŒçš„</p><p><img src="https://i.imgur.com/IgALPgm.png" alt="IMAGE"></p><p>å®Œæˆå¾Œå¯ä»¥å†æ¬¡ç¢ºèªä¸€ä¸‹å‰é¢æ‰€é¸å–çš„é …ç›®</p><p><img src="https://i.imgur.com/d5TAtBm.png" alt="IMAGE"></p><p>åˆ°é€™é‚Šå®Œæˆå¾Œï¼Œæˆ‘å€‘å°±ç™»å‡ºä¸¦å†ç™»å…¥å‰›å‰›å»ºç«‹çš„å¸³æˆ¶åç¨±ï¼Œé€™æ™‚å€™å°±æœƒçœ‹åˆ°æœ‰ <code>Switch Roles</code> çš„æŒ‰éˆ•å¯ä»¥é¸å–ï¼Œç„¶å¾Œä¾†è¨­å®š <code>Role</code></p><p><img src="https://i.imgur.com/0LwDZSC.png" alt="IMAGE"></p><blockquote><p>é‚„è¨˜å¾—åœ¨ <code>m0761005</code> åœ¨å»ºç«‹ <code>Roles</code> çš„æ™‚å€™æœ‰çš„ <code>Give this link to users who can switch roles in the console</code> å¾Œå­˜èµ·ä¾†çš„é€£çµå—ï¼Ÿé€™é‚Šä¹Ÿå¯ä»¥ç›´æ¥è²¼é‚£æ®µé€£çµå°±æœƒæŒ‘è½‰åˆ°é€™å€‹é é¢äº†</p></blockquote><p><img src="https://i.imgur.com/8mULcNq.png" alt="IMAGE"></p><p>å®Œæˆå¾Œï¼Œå°±å¯ä»¥çœ‹åˆ°ç›®å‰çš„ <code>Role</code> ä¸¦ä¸”é‚„æœ‰å…¶ä»–è³‡è¨Š</p><p><img src="https://i.imgur.com/KR9Px3x.png" alt="IMAGE"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Always enable multi-factor authentication on root account </li><li>Always using a strong and complex password on root account</li><li>Paying account should be used for billing purposes only. Do not deploy resources into the paying payment.</li><li>Enable/Disable AWS services using Service Control Policies(SCP) either on OU or on individual accounts.</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;AWS-Organizations&quot;&gt;&lt;a href=&quot;#AWS-Organizations&quot; class=&quot;headerlink&quot; title=&quot;AWS Organizations&quot;&gt;&lt;/a&gt;AWS Organizations&lt;/h1&gt;&lt;p&gt;é€™ç¯‡é¦–å…ˆå‰åŠæ®µæ˜¯è·Ÿ S3 æ¯”è¼ƒæ²’æœ‰ç›´æ¥ç›¸é—œçš„éƒ¨åˆ†ï¼Œä¸éå› ç‚ºç‚ºäº†å¾Œé¢è¦åˆ†äº« S3 æ¬Šé™çµ¦å…¶ä»–å¸³è™Ÿï¼Œæ‰€ä»¥å¿…é ˆå…ˆè¨­å®š Organization æ‰æœ‰è¾¦æ³•å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;å¦å¤–æ–‡ä¸­çš„ä¸»å¸³è™Ÿç‚º &lt;code&gt;m0761005&lt;/code&gt;ï¼Œåˆ†äº«çš„å¸³è™Ÿç‚º &lt;code&gt;chester.tang&lt;/code&gt; é€™éš»å¸³è™Ÿï¼ˆå¯«åœ¨å‰é ­æ–¹ä¾¿è§€çœ‹é€™ç¯‡åœ–ä¾‹ä¸­ç¾åœ¨çš„è§’è‰²é—œä¿‚ï¼‰&lt;/p&gt;
&lt;p&gt;é¦–å…ˆï¼Œè¦åˆ†äº«æ¬Šé™çµ¦å…¶ä»–äººï¼Œå¯ä»¥é€éå…©ç¨®æ–¹å¼é€²å…¥åˆ° &lt;code&gt;AWS Organizations&lt;/code&gt;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é»é¸å³ä¸Šæ–¹å¸³è™Ÿ &lt;code&gt;My Organization&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Management &amp;amp; Governance / AWS Organizations&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€²å…¥åˆ°é é¢å¾Œï¼Œé»é¸ &lt;code&gt;Create organization&lt;/code&gt; æŒ‰éˆ•ä¾†å»ºç«‹çµ„ç¹”å§ï¼ &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/lLIbo7V.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;å®Œæˆå¾Œå¯ä»¥çœ‹åˆ°ï¼Œç›®å‰çš„ä½¿ç”¨è€…å‰é¢æœ‰å€‹æ˜Ÿè™Ÿï¼Œè€Œæˆ‘å€‘è¦é€éé»é¸ &lt;code&gt;Add account&lt;/code&gt; ä¾†æ–°å¢ä½¿ç”¨è€…&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/xMMNQfl.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;é¸æ“‡è¦ &lt;code&gt;Invite account&lt;/code&gt; æŒ‰éˆ•ï¼Œä¸¦è¼¸å…¥ Email å¸³æˆ¶æˆ– &lt;code&gt;account ID&lt;/code&gt; ä¾†å¯„é€é‚€è«‹ Mail&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="S3 Cross-Account Access" scheme="http://chestertang.site/tags/S3-Cross-Account-Access/"/>
    
  </entry>
  
  <entry>
    <title>S3 Lifecycle Management</title>
    <link href="http://chestertang.site/2020/03/28/zyx0328/"/>
    <id>http://chestertang.site/2020/03/28/zyx0328/</id>
    <published>2020-03-28T01:00:00.000Z</published>
    <updated>2020-04-06T02:05:12.565Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Lifecycle-Management"><a href="#Lifecycle-Management" class="headerlink" title="Lifecycle Management"></a>Lifecycle Management</h1><p>Lifecycle Management å®šç¾©ç‰©ä»¶å­˜ç•™æœŸé–“ï¼ŒS3 æ‰€è¦æ¡å–çš„å‹•ä½œ ( e.g. å°‡ç‰©ä»¶è½‰æ›æˆå¦ä¸€å€‹ Stroage Classesã€archive Objectï¼Œæˆ–åœ¨æŒ‡å®šæœŸé™å¾Œåˆªé™¤)ã€‚</p><p>å•Ÿç”¨äº† Versioning çš„ S3 Bucket ä¸­ï¼ŒåŒä¸€å€‹ç‰©ä»¶å¯æœ‰å¤šå€‹ Versionï¼ŒåŒ…æ‹¬ Current versionã€Previous versionï¼Œè€Œ Lifecycle Management å°±æ˜¯åœ¨å®šç¾© Current versionã€Previous version çš„å‹•ä½œã€‚</p><h2 id="å»ºç«‹-Lifecycle-Management"><a href="#å»ºç«‹-Lifecycle-Management" class="headerlink" title="å»ºç«‹ Lifecycle Management"></a>å»ºç«‹ Lifecycle Management</h2><ol><li>é¸æ“‡ä½ ç¾åœ¨è¦è¨­å®š Lifecycle Management çš„ S3 Bucketï¼ˆ <a href="https://console.aws.amazon.com/s3" target="_blank" rel="noopener">https://console.aws.amazon.com/s3</a> ï¼‰</li><li>é»é¸ <code>Management</code> æŒ‰éˆ•å¾Œï¼Œä¾†æ–°å¢ <code>Add lifecycle rule</code> è¨‚å®šä¸€å€‹è¦å‰‡</li></ol><p><img src="https://i.imgur.com/Grj9B9v.png" alt="IMAGE"></p><ol start="3"><li>è¼¸å…¥ rule name ä»¥åŠçœ‹æ˜¯å¦è¦æœ‰å€‹ Prefixï¼ˆå‰ç¶´ï¼‰ã€Tagï¼ˆæ¨™ç±¤ï¼‰ä¾†å¹«åŠ©åˆ†é¡ï¼Œå¦‚æœä¸éœ€è¦çš„è©±ï¼Œç›´æ¥é¸å– <code>Apply to all objects in the bucket</code> å³å¯</li></ol><blockquote><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys" target="_blank" rel="noopener">https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys</a></p></blockquote><p><img src="https://i.imgur.com/Grj9B9v.png" alt="IMAGE"></p><ol start="4"><li>å¯ä»¥åŒæ™‚ç‚º Current versionã€Previous version å®šç¾© transitionï¼ˆä»¥å…©è€…éƒ½å®šç¾©ç‚ºç¯„ä¾‹ï¼‰</li></ol><ul><li>é¸æ“‡åœ¨ <code>30</code> å¤©å¾Œï¼Œå°‡ Upload çš„ Object è½‰ç‚º <code>Standard-IA</code></li><li>é¸æ“‡åœ¨ <code>60</code> å¤©å¾Œï¼Œå°‡ Upload çš„ Object è½‰ç‚º <code>Glacier</code></li></ul><blockquote><p>Glacier: <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/lifecycle-transition-general-considerations.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/AmazonS3/latest/dev/lifecycle-transition-general-considerations.html</a></p></blockquote><p><img src="https://i.imgur.com/rbAIld4.png" alt="IMAGE"></p><ol start="5"><li>æ¥ä¸‹ä¾†è¨­å®šä¸€äº› <code>Expiration</code> çš„å•é¡Œ</li></ol><ul><li>é¸å– <code>Expire current version of object</code>ï¼Œç„¶å¾Œè¼¸å…¥åœ¨è‡ª Object Uploaad çš„ <code>425</code> å¤©å¾Œï¼Œåˆªé™¤è©² Objectã€‚å¦‚æœæœ‰é¸æ“‡æ­¤é¸é …ï¼Œå‰‡ç„¡æ³•é¸æ“‡ä¸‹æ–¹çš„ <code>Clean up expired object delete marker</code> çš„é¸é …ã€‚</li><li>é¸å– <code>Permanently delete previous versions</code>ï¼Œç„¶å¾Œè¼¸å…¥è‡ª Object æˆç‚ºèˆŠç‰ˆ version çš„ <code>425</code> å¤©å¾Œè¦æ°¸ä¹…åˆªé™¤è©² Objectã€‚</li><li>Clean up incomplete multipart uploads (æ¸…é™¤æœªå®Œæˆçš„åˆ†æ®µä¸Šå‚³) åœ¨ä¸€èˆ¬ä¾†èªªéƒ½å»ºè­°é¸å–ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥è¨­å®šè¦åœ¨å•Ÿå‹•åˆ†æ®µä¸Šå‚³çš„ <code>7</code> å¤©å¾Œï¼ŒçµæŸä¸¦æ¸…é™¤æ‰€æœ‰æœªå®Œæˆçš„ä¸Šå‚³ã€‚</li></ul><p><img src="https://i.imgur.com/ftgqnrl.png" alt="IMAGE"></p><ol start="6"><li>æœ€å¾Œï¼Œç¨å¾®çœ‹ä¸€ä¸‹è‡ªå·±çš„è¨­å®šï¼Œå°±å®Œæˆ <code>Lifecycle Management</code> äº†ï½</li></ol><p><img src="https://i.imgur.com/G8cOfLZ.png" alt="IMAGE"></p><blockquote><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/create-lifecycle.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/AmazonS3/latest/user-guide/create-lifecycle.html</a></p></blockquote><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Automates moving your objects between the different storage tiers.</li><li>Can be used in conjunction with versioning.</li><li>Can be applied to current versions and previous versions.</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Lifecycle-Management&quot;&gt;&lt;a href=&quot;#Lifecycle-Management&quot; class=&quot;headerlink&quot; title=&quot;Lifecycle Management&quot;&gt;&lt;/a&gt;Lifecycle Management&lt;/h1&gt;&lt;p&gt;Lifecycle Management å®šç¾©ç‰©ä»¶å­˜ç•™æœŸé–“ï¼ŒS3 æ‰€è¦æ¡å–çš„å‹•ä½œ ( e.g. å°‡ç‰©ä»¶è½‰æ›æˆå¦ä¸€å€‹ Stroage Classesã€archive Objectï¼Œæˆ–åœ¨æŒ‡å®šæœŸé™å¾Œåˆªé™¤)ã€‚&lt;/p&gt;
&lt;p&gt;å•Ÿç”¨äº† Versioning çš„ S3 Bucket ä¸­ï¼ŒåŒä¸€å€‹ç‰©ä»¶å¯æœ‰å¤šå€‹ Versionï¼ŒåŒ…æ‹¬ Current versionã€Previous versionï¼Œè€Œ Lifecycle Management å°±æ˜¯åœ¨å®šç¾© Current versionã€Previous version çš„å‹•ä½œã€‚&lt;/p&gt;
&lt;h2 id=&quot;å»ºç«‹-Lifecycle-Management&quot;&gt;&lt;a href=&quot;#å»ºç«‹-Lifecycle-Management&quot; class=&quot;headerlink&quot; title=&quot;å»ºç«‹ Lifecycle Management&quot;&gt;&lt;/a&gt;å»ºç«‹ Lifecycle Management&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;é¸æ“‡ä½ ç¾åœ¨è¦è¨­å®š Lifecycle Management çš„ S3 Bucketï¼ˆ &lt;a href=&quot;https://console.aws.amazon.com/s3&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://console.aws.amazon.com/s3&lt;/a&gt; ï¼‰&lt;/li&gt;
&lt;li&gt;é»é¸ &lt;code&gt;Management&lt;/code&gt; æŒ‰éˆ•å¾Œï¼Œä¾†æ–°å¢ &lt;code&gt;Add lifecycle rule&lt;/code&gt; è¨‚å®šä¸€å€‹è¦å‰‡&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Grj9B9v.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;ol start=&quot;3&quot;&gt;
&lt;li&gt;è¼¸å…¥ rule name ä»¥åŠçœ‹æ˜¯å¦è¦æœ‰å€‹ Prefixï¼ˆå‰ç¶´ï¼‰ã€Tagï¼ˆæ¨™ç±¤ï¼‰ä¾†å¹«åŠ©åˆ†é¡ï¼Œå¦‚æœä¸éœ€è¦çš„è©±ï¼Œç›´æ¥é¸å– &lt;code&gt;Apply to all objects in the bucket&lt;/code&gt; å³å¯&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Grj9B9v.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;ol start=&quot;4&quot;&gt;
&lt;li&gt;å¯ä»¥åŒæ™‚ç‚º Current versionã€Previous version å®šç¾© transitionï¼ˆä»¥å…©è€…éƒ½å®šç¾©ç‚ºç¯„ä¾‹ï¼‰&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="S3 Lifecycle Management" scheme="http://chestertang.site/tags/S3-Lifecycle-Management/"/>
    
  </entry>
  
  <entry>
    <title>S3 Versioning</title>
    <link href="http://chestertang.site/2020/03/27/zyx0327/"/>
    <id>http://chestertang.site/2020/03/27/zyx0327/</id>
    <published>2020-03-27T01:00:00.000Z</published>
    <updated>2020-04-06T02:05:07.417Z</updated>
    
    <content type="html"><![CDATA[<h1 id="S3-Versioning"><a href="#S3-Versioning" class="headerlink" title="S3 Versioning"></a>S3 Versioning</h1><h2 id="Using-Versioning-with-S3"><a href="#Using-Versioning-with-S3" class="headerlink" title="Using Versioning with S3"></a>Using Versioning with S3</h2><ul><li>Stores all versions of an object. (including all writes and even if you delete an object)</li><li>Great backup tool.</li><li>Once enabled, Versioning cannot be disabled, only suspended.</li><li>Intergrate with Lifecycle rules.</li><li>Versioningâ€™s MFA DELETE capability, which uses multi-factor authentication, can be used to provide an additional layer of security.</li></ul><h2 id="å»ºç«‹-S3-Bucket-Versioning"><a href="#å»ºç«‹-S3-Bucket-Versioning" class="headerlink" title="å»ºç«‹ S3 Bucket Versioning"></a>å»ºç«‹ S3 Bucket Versioning</h2><p>å…ˆå»ºç«‹ä¸€å€‹æ–°çš„ S3 Bucketï¼Œå¦‚æœæœ‰éºå¿˜çš„éƒ¨åˆ†å¯ä»¥åƒè€ƒä¸Šç¯‡ <a href="https://chestertang.site/2020/03/26/zyx0326/">AWS - S3 Bucket + Encryption</a> çš„éƒ¨åˆ†ï¼Œå¯å…ˆè¨­æˆ <code>Public</code>ï¼</p><p><img src="https://i.imgur.com/hjqqtQx.png" alt="IMAGE"></p><p>å†ä¾†ä¸Šå‚³ç¬¬ä¸€ç‰ˆæœ¬çš„æª”æ¡ˆå§ï¼ï¼ˆé€™é‚Šä»¥ txt æª”ä¾†åšç¯„ä¾‹ï¼Œè¨˜å¾—ä¹Ÿè¨­å®šæˆ Public æ‰å¯ä»¥çœ‹åˆ°ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi, chesterTang!</span><br><span class="line"></span><br><span class="line">This is version 1</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/IT1sJ83.png" alt="IMAGE"></p><p>å®ŒæˆåŸºæœ¬çš„ä¸Šå‚³èˆ‡è¨­å®šå¾Œï¼Œæˆ‘å€‘è¦ä¾†é–‹å•Ÿ <code>Versioning</code> çš„åŠŸèƒ½ï¼Œé»é¸ <code>Properties</code> å¯ä»¥çœ‹åˆ° <code>Versioning</code> çš„æ¡†æ¡†ï¼Œé€™æ™‚åªè¦é¸å–åˆ° <code>Enable versioning</code> ä¸¦ä¸” <code>Save</code> å°±å¯ä»¥é–‹å•Ÿã€‚</p><p><img src="https://i.imgur.com/vJMujX2.png" alt="IMAGE"></p><p>å°‡åŸæœ¬ä¸Šå‚³çš„æª”æ¡ˆæŠŠå…§å®¹ç¨å¾®æ›´å‹•ä¸€ä¸‹ä¸¦ä¸”å†æ¬¡ä¸Šå‚³</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hi, chesterTang!</span><br><span class="line"></span><br><span class="line">!!! Oh !!! This is version 2 !!! Oh !!!</span><br></pre></td></tr></table></figure><p>æˆ–è¨±å‰›å‰›ä¸Šå‚³éŒ¯æª”æ¡ˆæƒ³è¦åˆªé™¤ï¼Œçµæœå°±ç™¼ç¾ Bucket è£¡é¢çš„ files éƒ½ä¸è¦‹äº†ï¼Ÿæ˜æ˜é‚„æœ‰ä¸Šå€‹ç‰ˆæœ¬ã€ä¸Šä¸Šå€‹ç‰ˆæœ¬å‘€ï¼Ÿ</p><p><img src="https://i.imgur.com/9bxvWJz.png" alt="IMAGE"><br><img src="https://i.imgur.com/8ZsoWFZ.png" alt="IMAGE"></p><p>çœ¼å°–çš„ä½ æ‡‰è©²å…¶å¯¦å°±å·²ç¶“ç™¼ç¾å…©å€‹å•é¡Œï¼š</p><ol><li>åœ¨ä¸Šè¿°é–‹å•Ÿ <code>Versioning</code> çš„æ™‚å€™ï¼ŒS3 Bucket è£¡é¢å°±æœ‰å¤šå‡º <code>Versions Hide/Show</code> çš„æŒ‰éˆ•</li><li>æ›´æ”¹å…§å®¹å†æ¬¡ä¸Šå‚³æª”æ¡ˆå¾Œæˆ–è€…åˆªé™¤ï¼Œtxt æª”æ¡ˆçœŸçš„æ–‡å­—æ›´å‹•äº†ï¼Œä½†æ˜¯ä¸Šå€‹ç‰ˆæœ¬ã€ä¸Šä¸Šå€‹ç‰ˆæœ¬è·‘å»å“ªè£¡äº†å‘¢ï¼Ÿ</li></ol><blockquote><p>æŠŠ Versions Show æ‰“é–‹ï¼Œå°±èƒ½çœ‹è¦‹åˆ°åº•åšäº†ä»€éº¼ï¼</p></blockquote><p><img src="https://i.imgur.com/uEjjg9I.png" alt="IMAGE"></p><p>å¯ä»¥ç™¼ç¾å‰›å‰›çš„åˆªé™¤ï¼Œå…¶å¯¦ä¸æ˜¯çœŸæ­£çš„åˆªé™¤ï¼Œå±…ç„¶æœ‰ä¸€å€‹ç‰ˆæœ¬æ˜¯åœ¨åšåˆªé™¤é€™ä»¶äº‹æƒ…æŠŠå®ƒè“‹éå»ã€‚</p><blockquote><p>æ‰€ä»¥é€™é‚Šåˆè¡ç”Ÿå‡ºäº†ä¸€å€‹æ–°è­°é¡Œï¼Œå¦‚æœæˆ‘çœŸçš„æƒ³é€€å›ä¸Šå€‹ç‰ˆæœ¬è©²æ€éº¼åšæ‰èƒ½é”æˆï¼Ÿ</p></blockquote><p>å¿…é ˆåœ¨ <code>Versions Show</code> çš„ç‹€æ³ä¸‹ï¼Œåš <code>Actions</code> æ‰èƒ½é”æˆé€€ç‰ˆæœ¬çš„æ•ˆæœï¼Œä¸ç„¶åªæ˜¯åˆæ–°å¢å¦ä¸€å€‹ç‰ˆæœ¬ä¸Šå»è€Œå·²ï¼</p><p><img src="https://i.imgur.com/6sXMAWz.png" alt="IMAGE"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Stores all versions of an object. (including all writes and even if you delete an object)</li><li>Once enabled, Versioning cannot be disabled, only suspended.</li><li>Intergrate with Lifecycle rules.</li><li>Versioningâ€™s MFA DELETE capability, which uses multi-factor authentication, can be used to provide an additional layer of security.</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;S3-Versioning&quot;&gt;&lt;a href=&quot;#S3-Versioning&quot; class=&quot;headerlink&quot; title=&quot;S3 Versioning&quot;&gt;&lt;/a&gt;S3 Versioning&lt;/h1&gt;&lt;h2 id=&quot;Using-Versioning-with-S3&quot;&gt;&lt;a href=&quot;#Using-Versioning-with-S3&quot; class=&quot;headerlink&quot; title=&quot;Using Versioning with S3&quot;&gt;&lt;/a&gt;Using Versioning with S3&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Stores all versions of an object. (including all writes and even if you delete an object)&lt;/li&gt;
&lt;li&gt;Great backup tool.&lt;/li&gt;
&lt;li&gt;Once enabled, Versioning cannot be disabled, only suspended.&lt;/li&gt;
&lt;li&gt;Intergrate with Lifecycle rules.&lt;/li&gt;
&lt;li&gt;Versioningâ€™s MFA DELETE capability, which uses multi-factor authentication, can be used to provide an additional layer of security.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å»ºç«‹-S3-Bucket-Versioning&quot;&gt;&lt;a href=&quot;#å»ºç«‹-S3-Bucket-Versioning&quot; class=&quot;headerlink&quot; title=&quot;å»ºç«‹ S3 Bucket Versioning&quot;&gt;&lt;/a&gt;å»ºç«‹ S3 Bucket Versioning&lt;/h2&gt;&lt;p&gt;å…ˆå»ºç«‹ä¸€å€‹æ–°çš„ S3 Bucketï¼Œå¦‚æœæœ‰éºå¿˜çš„éƒ¨åˆ†å¯ä»¥åƒè€ƒä¸Šç¯‡ &lt;a href=&quot;https://chestertang.site/2020/03/26/zyx0326/&quot;&gt;AWS - S3 Bucket + Encryption&lt;/a&gt; çš„éƒ¨åˆ†ï¼Œå¯å…ˆè¨­æˆ &lt;code&gt;Public&lt;/code&gt;ï¼&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/hjqqtQx.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;å†ä¾†ä¸Šå‚³ç¬¬ä¸€ç‰ˆæœ¬çš„æª”æ¡ˆå§ï¼ï¼ˆé€™é‚Šä»¥ txt æª”ä¾†åšç¯„ä¾‹ï¼Œè¨˜å¾—ä¹Ÿè¨­å®šæˆ Public æ‰å¯ä»¥çœ‹åˆ°ï¼‰&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Hi, chesterTang!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;This is version 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/IT1sJ83.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;å®ŒæˆåŸºæœ¬çš„ä¸Šå‚³èˆ‡è¨­å®šå¾Œï¼Œæˆ‘å€‘è¦ä¾†é–‹å•Ÿ &lt;code&gt;Versioning&lt;/code&gt; çš„åŠŸèƒ½ï¼Œé»é¸ &lt;code&gt;Properties&lt;/code&gt; å¯ä»¥çœ‹åˆ° &lt;code&gt;Versioning&lt;/code&gt; çš„æ¡†æ¡†ï¼Œé€™æ™‚åªè¦é¸å–åˆ° &lt;code&gt;Enable versioning&lt;/code&gt; ä¸¦ä¸” &lt;code&gt;Save&lt;/code&gt; å°±å¯ä»¥é–‹å•Ÿã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="S3 Versioning" scheme="http://chestertang.site/tags/S3-Versioning/"/>
    
  </entry>
  
  <entry>
    <title>S3 Bucket + Encryption</title>
    <link href="http://chestertang.site/2020/03/26/zyx0326/"/>
    <id>http://chestertang.site/2020/03/26/zyx0326/</id>
    <published>2020-03-26T01:00:00.000Z</published>
    <updated>2020-04-06T02:05:03.070Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Storage-S3"><a href="#Storage-S3" class="headerlink" title="Storage / S3"></a>Storage / S3</h1><h2 id="S3-Objects-stroage-æ˜¯ä»€éº¼ï¼Ÿ"><a href="#S3-Objects-stroage-æ˜¯ä»€éº¼ï¼Ÿ" class="headerlink" title="S3 (Objects stroage) æ˜¯ä»€éº¼ï¼Ÿ"></a>S3 (Objects stroage) æ˜¯ä»€éº¼ï¼Ÿ</h2><ul><li>S3 is a safe place to store your files by objects.</li><li>It is Object-based stroage.</li><li>The data is spread across mutiple devices and mutiple facilities.</li></ul><h2 id="The-Basics-åŸºç¤"><a href="#The-Basics-åŸºç¤" class="headerlink" title="The Basics åŸºç¤"></a>The Basics åŸºç¤</h2><ul><li>S3 is Object-based - i.e. allows you to upload files.</li><li>Files can be from 0 byte to 5TB.</li><li>There is un unlimited stroage.</li><li>Files are stored in Buckets (folder).</li><li>S3 is a univeral namespace. That is, names must be unique globally.</li><li>Upload file to S3, if success will receive HTTP 200 code.</li></ul><h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p>S3 is Object based. Think of Objects just as files.</p><ul><li>Key (This is simply the name of object)</li><li>Value (This is simply the data and is made up of a sequence of bytes).</li><li>Varsion ID (Important for versioning)</li><li>Metadata (Data about data you are storing)</li><li>Subresources<ul><li>Access Control Lists(ACL)</li><li>Torrent</li></ul></li></ul><blockquote><p>(<a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingObjects.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingObjects.html</a>)</p></blockquote><h2 id="S3-å¦‚ä½•å„²å­˜è³‡æ–™"><a href="#S3-å¦‚ä½•å„²å­˜è³‡æ–™" class="headerlink" title="S3 å¦‚ä½•å„²å­˜è³‡æ–™?"></a>S3 å¦‚ä½•å„²å­˜è³‡æ–™?</h2><ul><li>Read after Write consistency for PUTS of new objects</li><li>Eventual Consistency for overwrite PUTS and DELETES (will take some time to propagate)</li></ul><blockquote><p><a href="https://docs.aws.amazon.com/redshift/latest/dg/managing-data-consistency.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/redshift/latest/dg/managing-data-consistency.html</a></p></blockquote><h2 id="S3-Guarantees"><a href="#S3-Guarantees" class="headerlink" title="S3 Guarantees"></a>S3 Guarantees</h2><ul><li>Built for 99.99% availability for the S3 platform.</li><li>Amazon guarantee 99.99% availability.</li><li>Amazon guarantee 99.999999999% durability for S3 information (11 * 9â€™s).</li></ul><blockquote><p><a href="https://aws.amazon.com/tw/s3/faqs/" target="_blank" rel="noopener">https://aws.amazon.com/tw/s3/faqs/</a></p></blockquote><h2 id="S3-Feature"><a href="#S3-Feature" class="headerlink" title="S3 Feature"></a>S3 Feature</h2><ul><li>Tiered Stroage Available</li><li>Lifecycle Management</li><li>Versioning</li><li>Encryption</li><li>MFA delete</li><li>Secure your data using Access Control Lists and Buckets Policies</li></ul><blockquote><p><a href="https://www.amazonaws.cn/en/s3/features/" target="_blank" rel="noopener">https://www.amazonaws.cn/en/s3/features/</a></p></blockquote><hr><h1 id="å»ºç«‹-S3-Bucket"><a href="#å»ºç«‹-S3-Bucket" class="headerlink" title="å»ºç«‹ S3 Bucket"></a>å»ºç«‹ S3 Bucket</h1><ol><li>é»é¸ <code>Stroage / S3</code> å¾Œï¼Œå¯ä»¥çœ‹åˆ° <code>Amazon S3</code> çš„é é¢ï¼Œå¦‚æœæ˜¯é‚„æ²’æœ‰å»ºç«‹é <code>buckets</code> çš„å¸³æˆ¶ï¼Œæœƒé¡¯ç¤º <code>No buckets, You donâ€™t have any buckets</code>ã€‚</li></ol><p><img src="https://i.imgur.com/Y0Laeug.png" alt="IMAGE"></p><ol start="2"><li>å†ä¾†é»é¸ <code>Create Bucket</code> ä¾†å»ºç«‹ï¼Œè¨˜å¾—å‰é¢ Basics æ‰€æçš„ <code>S3 is a univeral namespace. That is, names must be unique globally.</code>ï¼šBuckets çš„åå­—ä¸èƒ½èˆ‡ä»»ä½•ä¸€å€‹ Buckets æœ‰é‡è¤‡çš„åç¨±ï¼Œå¦‚æœé€™é‚Šä¹Ÿäººå…ˆå–éäº†ï¼Œé‚£å¿…é ˆè¦æ›ä¸€å€‹åç¨±æ‰è¡Œï¼Œä¹‹å¾Œå°±å¯ä»¥å»ºç«‹å®Œæˆ S3 Bucketã€‚</li></ol><p><img src="https://i.imgur.com/LS838w6.png" alt="IMAGE"></p><ol start="3"><li>å»ºç«‹å®Œæˆå¾Œï¼Œå¯ä»¥çœ‹åˆ°æˆ‘å€‘ç¾åœ¨çš„ Bucket é‚„æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥ä¾† Upload ä¸€äº›æª”æ¡ˆä¸Šå»å§ï¼</li></ol><p><img src="https://i.imgur.com/G162wFZ.png" alt="IMAGE"></p><p>ç•¶å®Œæˆä¸Šå‚³å¾Œï¼Œä¼ºæœå™¨æœƒå›å‚³ 200 çµ¦ä½¿ç”¨è€… (Basic)ï¼Œé€™æ™‚å°±å¯ä»¥é¸å–æƒ³çœ‹çš„æª”æ¡ˆåç¨±ï¼Œä¾†çœ‹æª”æ¡ˆå…§å®¹ã€‚å…¶ä¸­å€¼å¾—æ³¨æ„çš„æœ‰ä»¥ä¸‹å…©é»ï¼š</p><ul><li>å¯ä»¥çœ‹åˆ° <code>Key</code> çš„åå­—èˆ‡æª”æ¡ˆçš„åç¨±æ˜¯ç›¸åŒçš„ã€‚</li><li>å¾ <code>Object URL    https://chestertang1231.s3.amazonaws.com/Chester.jpg</code> é€™æ®µå¯ä»¥çœ‹å‡ºé€™å¼µç…§ç‰‡ç¾åœ¨çš„ <code>domain name</code>ï¼Œé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼ä¸Šè¿° <code>Bucket name</code> ä¸èƒ½ç›¸åŒçš„åŸå› </li></ul><p><img src="https://i.imgur.com/EjrjTBL.png" alt="IMAGE"></p><blockquote><p>æœ‰æ²’æœ‰é»é€²å»é€£çµæƒ³çœ‹ç…§ç‰‡ï¼Œçµæœä»€éº¼éƒ½æ²’æœ‰å‘¢ï¼Ÿï¼ˆæ²’éŒ¯ï¼Œå› ç‚ºå°‘äº†é»è¨­å®šâ€¦</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">This XML file does not appear to have any style information associated with it. The document tree is shown below.</span><br><span class="line"><span class="tag">&lt;<span class="name">Error</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Code</span>&gt;</span>AccessDenied<span class="tag">&lt;/<span class="name">Code</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">Message</span>&gt;</span>Access Denied<span class="tag">&lt;/<span class="name">Message</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">RequestId</span>&gt;</span>3436A43898A832D2<span class="tag">&lt;/<span class="name">RequestId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HostId</span>&gt;</span></span><br><span class="line">    ajZsWrnWWZJVaby4VOG0/Sgv2+bsOOq9Z9y+iNKscFNvMYI8RIklkCVh4U0le4KN1sDR9b7D/9I=</span><br><span class="line">    <span class="tag">&lt;/<span class="name">HostId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Error</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="4"><li>é»é¸ <code>Actions</code> æŒ‰éˆ•ä¾†å°é€™å¼µè¢«é¸å–çš„ç…§ç‰‡é€²è¡Œå…¶ä»–å‹•ä½œï¼Œä½†æ˜¯æœƒç™¼ç¾ <code>Make Public</code> é¡¯ç¤ºç°è‰²ä¸çµ¦ä½ é»é¸ï¼ŒåŸå› æ˜¯ä½ ç¾åœ¨çš„ <code>S3</code> åœ¨ä¸€é–‹å§‹æ˜¯è¨­å®šç‚ºä¸å…¬é–‹çš„ï¼ˆä¸Šè¿° Create Bucket æ­¥é©Ÿä¸­çš„ <code>Block all public setting</code>ï¼‰ï¼Œå› æ­¤é€™å¼µç…§ç‰‡ä¹Ÿç„¡æ³•è¢«å…¬é–‹ï¼</li></ol><p><img src="https://i.imgur.com/DffECB6.png" alt="IMAGE"></p><ol start="5"><li>é»é¸ <code>Permissions</code> æŒ‰éˆ•å¯ä»¥çœ‹åˆ° <code>Block public access</code> çš„ä¸€äº›è¨­å®šå…§å®¹ï¼Œé€™è·Ÿç•¶åˆåœ¨ <code>Create Bucket</code> æ™‚æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤åªè¦é¸å–å³æ–¹çš„ <code>Edit</code> æŒ‰éˆ•ä¸¦æŠŠ <code>Block all public access</code> åå‹¾é¸åœ¨ <code>Save</code> èµ·ä¾†å°±å¯ä»¥ï¼ï¼ˆæœƒè¦ä½ ç¢ºå®šå—ï¼Ÿconfirmï¼Œåªéœ€æ‰“ä¸Š comfirm å³å¯ï¼‰</li></ol><p><img src="https://i.imgur.com/cYMsbPt.png" alt="IMAGE"></p><ol start="6"><li>å®Œæˆå¾Œå†é»é¸ <code>Actions</code> æŒ‰éˆ•ï¼ŒæŠŠå®ƒè¨­å®šç‚º <code>Make Public</code> å°±å¯ä»¥é€²å»å‰›å‰›çš„é€£çµå•¦ï¼</li></ol><blockquote><p>è£œå…… &gt; å¯ä»¥é¸æ“‡æª”æ¡ˆæ”¾åœ¨å“ªç¨® Storage Classes çš„å„²å­˜ç©ºé–“ï¼š<a href="https://docs.aws.amazon.com/zh_tw/AmazonS3/latest/dev/storage-class-intro.html" target="_blank" rel="noopener">S3 Stroage Classes</a></p></blockquote><hr><h1 id="Security-And-Encryption"><a href="#Security-And-Encryption" class="headerlink" title="Security And Encryption"></a>Security And Encryption</h1><h2 id="The-Basics-åŸºç¤-1"><a href="#The-Basics-åŸºç¤-1" class="headerlink" title="The Basics åŸºç¤"></a>The Basics åŸºç¤</h2><p>Amazon S3 é è¨­åŠ å¯†æä¾›ä¸€ç¨®ç‚º Amazon S3 å„²å­˜è²¯é«”è¨­å®šé è¨­åŠ å¯†è¡Œç‚ºçš„æ–¹å¼ã€‚å¯ä»¥åœ¨å„²å­˜è²¯é«”ä¸Šè¨­å®šé è¨­åŠ å¯†ï¼Œè®“æ‰€æœ‰ç‰©ä»¶åœ¨å­˜æ”¾æ–¼å„²å­˜è²¯é«”ä¸­æ™‚ç¶­æŒåŠ å¯†ç‹€æ…‹ã€‚é€™äº›ç‰©ä»¶çš„åŠ å¯†ï¼Œæ˜¯ä½¿ç”¨ä¼ºæœå™¨ç«¯åŠ å¯†æ­é… Amazon S3 å—ç®¡é‡‘é‘° (SSE-S3) æˆ– AWS Key Management Service (AWS KMS) å®¢æˆ¶ä¸»é‡‘é‘° (CMK)ã€‚</p><p>æ‰€æœ‰æ–°å»ºç«‹çš„ buckets éƒ½æ˜¯ PRIVATE çš„ï¼Œå¯ä»¥é€éä»¥ä¸‹å…©ç¨®æ–¹å¼ä¾†æ§åˆ¶æ¬Šé™ï¼š</p><ul><li>Bucket Policies</li><li>Access Control Lists</li></ul><p>Encryptions In Transit is achieved by </p><ul><li>SSL / TLS</li></ul><h3 id="Encryptions-At-Rest-Server-side-is-achieved-by"><a href="#Encryptions-At-Rest-Server-side-is-achieved-by" class="headerlink" title="Encryptions At Rest (Server side) is achieved by"></a>Encryptions At Rest (Server side) is achieved by</h3><ul><li>S3 Managed Keys - SSE-S3</li><li>AWS Key Management Service, Managed Keys - SSE-KMS</li><li>Server Side Encryption with Customer Provided Keys - SSE-C</li></ul><h3 id="Client-Side-Encryption"><a href="#Client-Side-Encryption" class="headerlink" title="Client Side Encryption"></a>Client Side Encryption</h3><h1 id="Encryption-åŠ å¯†"><a href="#Encryption-åŠ å¯†" class="headerlink" title="Encryption åŠ å¯†"></a>Encryption åŠ å¯†</h1><ol><li>ã„§æ¨£ä¾†å°æˆ‘å€‘å‰›å‰› Upload çš„åœ–ç‰‡ä¾†åšåŠ å¯†çš„å‹•ä½œï¼Œå¾ <code>Properties</code> å¯ä»¥çœ‹åˆ°ç›®å‰çš„ <code>Encryption</code> æ˜¯æ²’æœ‰åŠ å¯†éçš„ï¼Œåªè¦é»é¸ <code>Encryption</code> å°±èƒ½æ›´æ”¹ç›®å‰çš„ç‹€æ…‹ã€‚</li></ol><p><img src="https://i.imgur.com/fAe8RhL.png" alt="IMAGE"></p><ol start="2"><li>é€™é‚Šå¯ä»¥é¸æ“‡ï¼š(1)AES-256ã€(2)AWS-KMS å…©ç¨®æ–¹å¼ï¼ˆä»¥ä¸‹å°±ç›´æ¥ä»¥(1)çš„æ–¹å¼ä¾†åŠ å¯†ï¼‰</li></ol><p><img src="https://i.imgur.com/ILSOWaP.png" alt="IMAGE"></p><ol start="3"><li>é»é¸ <code>Save</code> æŒ‰éˆ•å¾Œï¼Œå°±å®Œæˆäº†åŠ å¯†å•¦ï¼</li></ol><p><img src="https://i.imgur.com/bUsi3eS.png" alt="IMAGE"></p><blockquote><p><a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/default-bucket-encryption.html" target="_blank" rel="noopener">https://docs.aws.amazon.com/AmazonS3/latest/user-guide/default-bucket-encryption.html</a></p></blockquote><h2 id="Default-Encryption-åŠ å¯†"><a href="#Default-Encryption-åŠ å¯†" class="headerlink" title="Default Encryption åŠ å¯†"></a>Default Encryption åŠ å¯†</h2><p>é™¤äº†å–®å¼µç…§ç‰‡åŠ å¯†ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥é è¨­åŠ å¯†çš„æ–¹æ³•ï¼Œå…¶å¯¦èˆ‡ä¸Šè¿°éƒ½å¤§åŒå°ç•°ï¼Œå¯ä»¥é»é¸ <code>Properties</code> çš„ <code>Default Encryption</code> ç„¶å¾Œé¸å– <code>AES-256</code> ä¹Ÿå°±å®Œæˆã€‚</p><p><img src="https://i.imgur.com/zuRt4H6.png" alt="IMAGE"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><ul><li>Simple creating of S3 Bucket and Permissions of the Block public access</li><li>Buckets are a universal name space</li><li>Upload an object to S3 receive a HTTP 200 Code</li><li>S3, S3-IA, S3-IA (One Zone), Glacier</li><li>Control access to buckets using either a bucket ACL or using Bucket Polices</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Storage-S3&quot;&gt;&lt;a href=&quot;#Storage-S3&quot; class=&quot;headerlink&quot; title=&quot;Storage / S3&quot;&gt;&lt;/a&gt;Storage / S3&lt;/h1&gt;&lt;h2 id=&quot;S3-Objects-stroage-æ˜¯ä»€éº¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#S3-Objects-stroage-æ˜¯ä»€éº¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;S3 (Objects stroage) æ˜¯ä»€éº¼ï¼Ÿ&quot;&gt;&lt;/a&gt;S3 (Objects stroage) æ˜¯ä»€éº¼ï¼Ÿ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;S3 is a safe place to store your files by objects.&lt;/li&gt;
&lt;li&gt;It is Object-based stroage.&lt;/li&gt;
&lt;li&gt;The data is spread across mutiple devices and mutiple facilities.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;The-Basics-åŸºç¤&quot;&gt;&lt;a href=&quot;#The-Basics-åŸºç¤&quot; class=&quot;headerlink&quot; title=&quot;The Basics åŸºç¤&quot;&gt;&lt;/a&gt;The Basics åŸºç¤&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;S3 is Object-based - i.e. allows you to upload files.&lt;/li&gt;
&lt;li&gt;Files can be from 0 byte to 5TB.&lt;/li&gt;
&lt;li&gt;There is un unlimited stroage.&lt;/li&gt;
&lt;li&gt;Files are stored in Buckets (folder).&lt;/li&gt;
&lt;li&gt;S3 is a univeral namespace. That is, names must be unique globally.&lt;/li&gt;
&lt;li&gt;Upload file to S3, if success will receive HTTP 200 code.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;Objects&quot;&gt;&lt;a href=&quot;#Objects&quot; class=&quot;headerlink&quot; title=&quot;Objects&quot;&gt;&lt;/a&gt;Objects&lt;/h2&gt;&lt;p&gt;S3 is Object based. Think of Objects just as files.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Key (This is simply the name of object)&lt;/li&gt;
&lt;li&gt;Value (This is simply the data and is made up of a sequence of bytes).&lt;/li&gt;
&lt;li&gt;Varsion ID (Important for versioning)&lt;/li&gt;
&lt;li&gt;Metadata (Data about data you are storing)&lt;/li&gt;
&lt;li&gt;Subresources&lt;ul&gt;
&lt;li&gt;Access Control Lists(ACL)&lt;/li&gt;
&lt;li&gt;Torrent&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;(&lt;a href=&quot;https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingObjects.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingObjects.html&lt;/a&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;S3-å¦‚ä½•å„²å­˜è³‡æ–™&quot;&gt;&lt;a href=&quot;#S3-å¦‚ä½•å„²å­˜è³‡æ–™&quot; class=&quot;headerlink&quot; title=&quot;S3 å¦‚ä½•å„²å­˜è³‡æ–™?&quot;&gt;&lt;/a&gt;S3 å¦‚ä½•å„²å­˜è³‡æ–™?&lt;/h2&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="S3 Bucket" scheme="http://chestertang.site/tags/S3-Bucket/"/>
    
  </entry>
  
  <entry>
    <title>AWS - CloudWatch - Billing</title>
    <link href="http://chestertang.site/2020/03/25/zyx0325/"/>
    <id>http://chestertang.site/2020/03/25/zyx0325/</id>
    <published>2020-03-25T01:00:00.000Z</published>
    <updated>2020-03-26T06:26:38.415Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Management-amp-Governance-CloudWatch"><a href="#Management-amp-Governance-CloudWatch" class="headerlink" title="Management &amp; Governance / CloudWatch"></a>Management &amp; Governance / CloudWatch</h1><h2 id="Billing-å¸³å–®"><a href="#Billing-å¸³å–®" class="headerlink" title="Billing å¸³å–®"></a>Billing å¸³å–®</h2><h3 id="CloudWatch"><a href="#CloudWatch" class="headerlink" title="CloudWatch"></a>CloudWatch</h3><ul><li>é»é¸ <code>Management &amp; Governance / CloudWatch</code> å¾Œï¼Œå¯ä»¥çœ‹åˆ° <code>CloudWatch</code> çš„é é¢ã€‚<code>CloudWatch</code> æ˜¯ä¸€ç¨®ç›£æ§å’Œç®¡ç†æœå‹™ï¼Œå¯ä»¥ç‚º AWSã€æ··åˆå’Œç¾å ´éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼å’ŒåŸºç¤è¨­æ–½è³‡æºæä¾›è³‡æ–™å’Œå¯è¡Œçš„æ´æŸ¥ã€‚</li></ul><p><img src="https://i.imgur.com/MNBZnJb.png" alt="IMAGE"></p><p>ä½¿ç”¨ CloudWatch å¯ä»¥ç›£æ§æ•´å€‹å †ç–Š (æ‡‰ç”¨ç¨‹å¼ã€åŸºç¤è¨­æ–½å’Œæœå‹™)ï¼Œä¸¦åˆ©ç”¨è­¦ç¤ºã€æ—¥èªŒå’Œäº‹ä»¶è³‡æ–™ä¾†åŸ·è¡Œè‡ªå‹•æ“ä½œï¼Œä¸¦ç¸®çŸ­å¹³å‡è§£æ±ºæ™‚é–“ã€‚</p><blockquote><p><a href="https://aws.amazon.com/tw/cloudwatch/features/" target="_blank" rel="noopener">https://aws.amazon.com/tw/cloudwatch/features/</a></p></blockquote><p>åœ¨ä¹‹å¾Œçš„æ–‡ç« ä¸­æœƒå†ç´°éƒ¨ä»‹ç´¹ï¼Œé€™ç¯‡æ–‡ç« å°‡è¨­å®š <code>Billing</code> å¸³å–®çš„éƒ¨åˆ†ã€‚</p><p><img src="https://i.imgur.com/nZMzWKK.png" alt="IMAGE"></p><p><img src="https://i.imgur.com/TUuPnup.png" alt="IMAGE"></p><ul><li>é»é¸ <code>Billing</code> æŒ‰éˆ•å¾Œï¼Œå†é»é¸ â€œä¸‹æ–¹â€ çš„ <code>Create alarm</code> æŒ‰éˆ•ï¼Œé€™æ™‚å°±å¯ä»¥çœ‹åˆ°è¨­å®š <code>Billing</code> çš„å››å€‹æ­¥é©Ÿï¼š</li></ul><ol><li>Specify metric and conditions</li></ol><p>é‡å° Conditions çš„ä¸åŒï¼Œä½¿ç”¨è€…é€™é‚Šå¯ä»¥è¨­å®šç•¶é¡åº¦è¶…éå¤šå°‘ç¾é‡‘ï¼Œå°±å¯„é€å¸³å–®é€šçŸ¥ä¿¡ï¼›ç•¶ç„¶åœ°ï¼Œåä¹‹ä¹Ÿå¯ä»¥è¨­å®šå°æ–¼å¤šå°‘ç¾é‡‘å¯„é€å¸³å–®é€šçŸ¥ä¿¡ã€‚</p><p><img src="https://i.imgur.com/4eBW3U6.png" alt="IMAGE"></p><p><img src="https://i.imgur.com/YmvLFQn.png" alt="IMAGE"></p><ol start="2"><li>Configure actions</li></ol><p>è€Œå¯„é€é€šçŸ¥ä¿¡çµ¦èª°ï¼Ÿé‚„æœ‰æ¨™é¡Œæ˜¯ä»€éº¼å°±è¦å¾é€™å€‹åœ°æ–¹è¨­å®šå•¦ï¼å¦‚æœæ˜¯é‚„æœªå»ºç«‹é <code>topic</code> çš„è©±å°±ç„¡æ³•é¸æ“‡ <code>Select an existing SNS topic</code>ï¼Œå¦‚åœ–æ‰€ç¤ºï¼Œé€™é‚Šæ–°å»ºä¸€å€‹æ–°çš„ <code>topic</code> ä¸¦å¡«å¯«è¦å‚³é€é€šçŸ¥ä¿¡çµ¦å“ªå€‹ä¿¡ç®±ã€‚</p><p><img src="https://i.imgur.com/jxgMFbx.png" alt="IMAGE"></p><p>ç„¶å¾Œå°±å¯ä»¥æ”¶åˆ°ä¿¡ä»¶å•¦ï¼ï¼ˆamazon çš„ Subscription confirmed! ä¿¡ä»¶é€™é‚Šå°±ä¸é™„ä¸Šæƒ¹â€¦æ‡¶</p><p><img src="https://i.imgur.com/x46MAri.png" alt="IMAGE"></p><ol start="3"><li>Add name and description</li></ol><p>æ¥ä¸‹ä¾†ä¹Ÿè¨­å®šé€™å€‹ <code>Alarm</code> åç¨±åŠæ•˜è¿°â€¦</p><p><img src="https://i.imgur.com/j5yOcI7.png" alt="IMAGE"></p><ol start="4"><li>Preview and create</li></ol><p>è¨­å®šå®Œæˆå¾Œå°±å¯ä»¥åœ¨ <code>CloudWatch &gt; Alarms</code> ä¸­çœ‹åˆ°è¨­ç½®çš„ <code>Alarms</code></p><p><img src="https://i.imgur.com/h3OkiX3.png" alt="IMAGE"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><p><a href="https://aws.amazon.com/tw/free/?all-free-tier.sort-by=item.additionalFields.SortRank&all-free-tier.sort-order=asc" target="_blank" rel="noopener">CloudWatch Free Tier Includes</a>ï¼š</p><ul><li>Simple settings of Billing Alarm</li><li>10 Custom Metrics and 10 Alarms</li><li>1,000,000 API Requests </li><li>5GB of Log Data Ingestion and 5GB of Log Data Archive</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Management-amp-Governance-CloudWatch&quot;&gt;&lt;a href=&quot;#Management-amp-Governance-CloudWatch&quot; class=&quot;headerlink&quot; title=&quot;Management &amp;amp; Governance / CloudWatch&quot;&gt;&lt;/a&gt;Management &amp;amp; Governance / CloudWatch&lt;/h1&gt;&lt;h2 id=&quot;Billing-å¸³å–®&quot;&gt;&lt;a href=&quot;#Billing-å¸³å–®&quot; class=&quot;headerlink&quot; title=&quot;Billing å¸³å–®&quot;&gt;&lt;/a&gt;Billing å¸³å–®&lt;/h2&gt;&lt;h3 id=&quot;CloudWatch&quot;&gt;&lt;a href=&quot;#CloudWatch&quot; class=&quot;headerlink&quot; title=&quot;CloudWatch&quot;&gt;&lt;/a&gt;CloudWatch&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;é»é¸ &lt;code&gt;Management &amp;amp; Governance / CloudWatch&lt;/code&gt; å¾Œï¼Œå¯ä»¥çœ‹åˆ° &lt;code&gt;CloudWatch&lt;/code&gt; çš„é é¢ã€‚&lt;code&gt;CloudWatch&lt;/code&gt; æ˜¯ä¸€ç¨®ç›£æ§å’Œç®¡ç†æœå‹™ï¼Œå¯ä»¥ç‚º AWSã€æ··åˆå’Œç¾å ´éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼å’ŒåŸºç¤è¨­æ–½è³‡æºæä¾›è³‡æ–™å’Œå¯è¡Œçš„æ´æŸ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/MNBZnJb.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ CloudWatch å¯ä»¥ç›£æ§æ•´å€‹å †ç–Š (æ‡‰ç”¨ç¨‹å¼ã€åŸºç¤è¨­æ–½å’Œæœå‹™)ï¼Œä¸¦åˆ©ç”¨è­¦ç¤ºã€æ—¥èªŒå’Œäº‹ä»¶è³‡æ–™ä¾†åŸ·è¡Œè‡ªå‹•æ“ä½œï¼Œä¸¦ç¸®çŸ­å¹³å‡è§£æ±ºæ™‚é–“ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/tw/cloudwatch/features/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://aws.amazon.com/tw/cloudwatch/features/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœ¨ä¹‹å¾Œçš„æ–‡ç« ä¸­æœƒå†ç´°éƒ¨ä»‹ç´¹ï¼Œé€™ç¯‡æ–‡ç« å°‡è¨­å®š &lt;code&gt;Billing&lt;/code&gt; å¸³å–®çš„éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/nZMzWKK.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/TUuPnup.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="Billing" scheme="http://chestertang.site/tags/Billing/"/>
    
  </entry>
  
  <entry>
    <title>AWS - IAM</title>
    <link href="http://chestertang.site/2020/03/24/zyx0324/"/>
    <id>http://chestertang.site/2020/03/24/zyx0324/</id>
    <published>2020-03-24T10:47:40.000Z</published>
    <updated>2020-03-25T04:42:25.445Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Security-Identity-amp-Compliance-IAM"><a href="#Security-Identity-amp-Compliance-IAM" class="headerlink" title="Security, Identity, &amp; Compliance / IAM"></a>Security, Identity, &amp; Compliance / IAM</h1><h2 id="AWS-IAM-æ˜¯ä»€éº¼ï¼Ÿ"><a href="#AWS-IAM-æ˜¯ä»€éº¼ï¼Ÿ" class="headerlink" title="AWS IAM æ˜¯ä»€éº¼ï¼Ÿ"></a><a href="https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/introduction.html" target="_blank" rel="noopener">AWS IAM</a> æ˜¯ä»€éº¼ï¼Ÿ</h2><blockquote><p>Identity Access Management allows you to manage users and thier level of access to the AWS Console.</p></blockquote><ul><li>centralisedï¼ˆé›†ä¸­ï¼‰control of your AWS account</li><li>Shared access to your AWS account</li><li>Granularï¼ˆç²’ï¼‰Permissionsï¼ˆæ¬Šé™ï¼‰</li><li>Identityï¼ˆèº«ä»½ï¼‰Federationï¼ˆincluding Active Directory, Facebook, Linkin, etc..ï¼‰</li><li>Multifactor Authentication</li><li>Provide temporary access for users/devices and services where necessary</li><li>integratesï¼ˆæ•´åˆï¼‰with many deifferent aws services</li><li>Supports PCI DSSï¼ˆPayment Card Industry Data Security Standard æ”¯ä»˜å¡è¡Œæ¥­æ•¸æ“šå®‰å…¨æ¨™æº–ï¼‰Compliance</li></ul><blockquote><p>Key Terminology For IAM</p></blockquote><ul><li>Usersï¼šEnd Users such as people, employees of an organization etc.</li><li>Groupsï¼šA collection of users. Each user in the group will inherit the permission of the group.</li><li>Policiesï¼šPolicies are made up of documents, called Policy documents. These doccuments are in a format called JSON and they give permissions as to what a User/Groups/Role is able to do.</li><li>Rolesï¼šyou create Roles and then assign them to AWS Resources.</li></ul><hr><h1 id="å¾-AWS-AIM-è¨­å®šäº†è§£è§€å¿µ"><a href="#å¾-AWS-AIM-è¨­å®šäº†è§£è§€å¿µ" class="headerlink" title="å¾ AWS AIM è¨­å®šäº†è§£è§€å¿µ"></a>å¾ AWS AIM è¨­å®šäº†è§£è§€å¿µ</h1><p><img src="https://i.imgur.com/ixiMVAd.png" alt="IMAGE"></p><p>é»é¸ <code>Security, Identity, &amp; Compliance / IAM</code> å¾Œï¼Œå¯ä»¥ç™»å…¥ <code>Welcome to Identity and Access Management</code> çš„é é¢ã€‚</p><h2 id="Customize-IAM-users-sign-in-link"><a href="#Customize-IAM-users-sign-in-link" class="headerlink" title="Customize IAM users sign-in link"></a>Customize IAM users sign-in link</h2><p>å…¶ä¸­å¯ä»¥é»é¸ <code>Customize</code> æŒ‰éˆ•ä¿®æ”¹ <code>IAM users sign-in link</code> çš„é€£çµï¼ˆç„¡æ³•èˆ‡å…¶ä»–äººé‡è¤‡ï¼‰</p><p><img src="https://i.imgur.com/Y29z4y5.png" alt="IMAGE"></p><p>æˆåŠŸç·¨è¼¯å¾Œ <code>IAM users sign-in link</code> å°±æœƒè¢«æ›¿æ›ï¼ˆ e.g. <a href="https://chestertang1231.signin.aws.amazon.com/console" target="_blank" rel="noopener">https://chestertang1231.signin.aws.amazon.com/console</a> ï¼‰</p><h2 id="Security-Status"><a href="#Security-Status" class="headerlink" title="Security Status"></a>Security Status</h2><h3 id="Activate-MFA-on-your-root-account"><a href="#Activate-MFA-on-your-root-account" class="headerlink" title="Activate MFA on your root account"></a>Activate MFA on your root account</h3><ol><li>Multi-factor authenticationï¼ˆå¤šé‡è¦ç´ é©—è­‰ï¼‰</li></ol><p>åˆè­¯å¤šå› å­èªè­‰ã€å¤šå› ç´ é©—è­‰ã€å¤šå› ç´ èªè­‰ï¼Œæ˜¯ä¸€ç¨®é›»è…¦å­˜å–æ§åˆ¶çš„æ–¹æ³•ï¼Œç”¨æˆ¶è¦é€šéå…©ç¨®ä»¥ä¸Šçš„èªè­‰æ©Ÿåˆ¶ä¹‹å¾Œï¼Œæ‰èƒ½å¾—åˆ°æˆæ¬Šï¼Œä½¿ç”¨é›»è…¦è³‡æºã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨è€…è¦è¼¸å…¥ PIN ç¢¼ï¼Œæ’å…¥éŠ€è¡Œå¡ï¼Œæœ€å¾Œå†ç¶“æŒ‡ç´‹æ¯”å°ï¼Œé€šéé€™ä¸‰ç¨®èªè­‰æ–¹å¼ï¼Œæ‰èƒ½ç²å¾—æˆæ¬Šã€‚é€™ç¨®èªè­‰æ–¹å¼å¯ä»¥æé«˜å®‰å…¨æ€§ã€‚</p><p>æ›´ç”Ÿæ´»åŒ–çš„ä¾‹å­å°±åƒæ˜¯ï¼Œç¾åœ¨çš„é ç´„è²·å£ç½©éœ€è¦è®€å¡æ©Ÿä¾†è®€å¥ä¿å¡ï¼Œåˆæˆ–è€…æ˜¯ä»¥å‰ç©é›»ç©é™¤äº†è¦å…ˆç™»å…¥å¸³è™Ÿä¹‹å¤–ï¼Œé‚„è¦æœ‰ beanfun çš„è®€å¡æ©Ÿä¾†è®€å¡ï¼Œä¹Ÿå°±æ˜¯é›™é‡èªè­‰çš„æ¦‚å¿µã€‚</p><blockquote><p><a href="https://en.wikipedia.org/wiki/Multi-factor_authentication" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Multi-factor_authentication</a></p></blockquote><p>é»é¸ <code>Manage MFA</code> ä¾†è¨­å®šé›™é‡èªè­‰ï¼Œå…¶ä¸­åˆåˆ†ç‚ºä»¥ä¸‹ä¸‰ç¨®ï¼š</p><ul><li><code>Virtual MFA device</code>ï¼ˆuthenticator app installed on your mobile device or computerï¼‰</li><li><code>U2F security key</code>ï¼ˆYubiKey or any other compliant U2F deviceï¼‰</li><li><code>Other hardware MFA device</code>ï¼ˆGemalto tokenï¼‰</li></ul><p><img src="https://i.imgur.com/MsQwVXu.png" alt="IMAGE"></p><p>å¯ä»¥é€éæ‰‹æ©Ÿä¸‹è¼‰ <code>Google authenticator</code> APP ä¾†é€²è¡Œ <code>Virtual MFA device</code> é©—è­‰ï¼Œç•¶ç„¶ä¹Ÿå¯ä¾ç…§å€‹äººå–œå¥½é¸æ“‡å…¶ä»–é›™é‡èªè­‰æ–¹å¼ã€‚</p><p>æµç¨‹åªéœ€è¦æƒæ QRcode ä¸¦è¼¸å…¥å…©æ¬¡æ‰‹æ©Ÿ App çš„ <code>MFA-code</code> å°±å¯ä»¥å®Œæˆã€‚</p><p><img src="https://i.imgur.com/pE4KUht.png" alt="IMAGE"></p><ol start="2"><li>Create individual IAM users</li></ol><p><img src="https://i.imgur.com/e3J1umx.png" alt="IMAGE"></p><p>è¨­å®šå®Œæˆ <code>Multi-factor authentication</code> ä¹‹å¾Œä¸¦é»é¸ <code>Manage Users</code> ä¾† <code>Add Users</code>ï¼</p><p><img src="https://i.imgur.com/X5ekfc2.png" alt="IMAGE"></p><ol start="3"><li>Use groups to assign permissions</li></ol><p>ä¸¦ä¸”è¨­å®š <code>Group name</code> åŠé¸æ“‡ <code>Policy name</code></p><p><img src="https://i.imgur.com/jVwtAM0.png" alt="IMAGE"></p><p>ä¹‹å¾Œéƒ½é¸æ“‡ä¸‹ä¸€æ­¥å³å¯å»ºç«‹å¥½ User &amp; Groupï¼Œå®Œæˆå¾Œå°±æœƒé¡¯ç¤º <code>Success</code> çš„ç•«é¢ï¼š</p><ul><li>æ³¨æ„ <code>Secret access key</code> çš„ <code>show</code> åªèƒ½é»æ“Šä¸€æ¬¡ï¼Œä¹‹å¾Œå°±ç„¡æ³•çœ‹åˆ°</li><li>å»ºè­°ç›´æ¥ä¸‹è¼‰ <code>.csv</code> æª”æ¡ˆä¾†æŸ¥çœ‹ <code>Password</code>ã€<code>Access key ID</code>ã€<code>Secret access key</code> ç­‰è¨Šæ¯</li><li>å¾Œæ–¹çš„ <code>Send Email</code> ä¹Ÿå¯ä»¥ç›´æ¥å¯„ä¿¡çš„ä½¿ç”¨è€…</li></ul><p><img src="https://i.imgur.com/PH8UkEI.png" alt="IMAGE"></p><blockquote><p>é‚„è¨˜å¾—å‰›å‰›è¨­å®šçš„ policie name ä¸­çš„ <code>AdministratorAccess</code> å—ï¼Ÿ</p></blockquote><p>å¾é€™å€‹ Police <code>AdministratorAccess</code> ä¸­å¯ä»¥çœ‹å‡ºï¼Œå®ƒäº‹å¯¦ä¸Šæ˜¯ä¸€å€‹ JSON æ ¼å¼ï¼Œä½†é€™åˆä»£è¡¨è‘—ä»€éº¼æ„æ€å‘¢ï¼Ÿå¯ä»¥çœ‹åˆ°å·¢ç‹€è£¡é¢çš„ <code>&quot;Effect&quot;: &quot;Allow&quot;</code> ä»£è¡¨è‘—é€™å€‹äººæ˜¯è¢«å…è¨±é€²å…¥çš„ï¼Œä¸”åº•ä¸‹çš„ <code>Action</code>, <code>Resource</code> çš„æ¬Šé™æ˜¯ <code>*</code> è™Ÿï¼Œä¹Ÿå°±æ˜¯ä»£è¡¨è‘—æœ€å¤§æ¬Šé™ï¼Œå¦‚åŒ admin çš„æ¦‚å¿µä¸€æ¨£ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"Version"</span>: <span class="string">"2012-10-17"</span>,</span><br><span class="line">    <span class="attr">"Statement"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"Effect"</span>: <span class="string">"Allow"</span>,</span><br><span class="line">            <span class="attr">"Action"</span>: <span class="string">"*"</span>,</span><br><span class="line">            <span class="attr">"Resource"</span>: <span class="string">"*"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://i.imgur.com/lidvDbc.png" alt="IMAGE"></p><ol start="4"><li>Apply an IAM password policy</li></ol><p><img src="https://i.imgur.com/bGlsefe.png" alt="IMAGE"></p><h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><p>å®Œæˆé€™äº›åˆæ­¥çš„è¨­å®šå¯ä»¥å¤§è‡´äº†è§£åˆ° AWS IAM çš„ç”¨é€”ï¼Œç¨å¾®åšä¸€ä¸‹é€™ç¯‡çš„ç¸½çµï¼Œä¸¦æ­¸ç´ä¸€ä¸‹é€™ç¯‡å­¸åˆ°çš„è§€å¿µï¼š</p><ul><li>IAM is universalï¼ˆé€šç”¨ï¼‰. It does not apply to regions at this time.</li><li>The <code>root account</code> is simply the account created when first setup your AWS account. It has complete Admin access.</li><li>New Users have NO Permissions when first created.ï¼ˆ e.g. <code>2. Create individual IAM users</code>ï¼‰</li><li>New Users are assigned Access Key ID &amp; Secret Access Key when first created.</li><li>Access Key ID &amp; Secret Access Key are not the same as a password. You can use this to access AWS via the API and Command Line</li><li>You only get to view Access Key ID &amp; Secret Access Key once. If you lost, you have to generate them.</li><li>Always setup Multifactor Authentication on your root account.</li><li>You can create and customize your own password rotation policies.ï¼ˆ e.g. <code>4. Apply an IAM password policy</code>ï¼‰</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Security-Identity-amp-Compliance-IAM&quot;&gt;&lt;a href=&quot;#Security-Identity-amp-Compliance-IAM&quot; class=&quot;headerlink&quot; title=&quot;Security, Identity, &amp;amp; Compliance / IAM&quot;&gt;&lt;/a&gt;Security, Identity, &amp;amp; Compliance / IAM&lt;/h1&gt;&lt;h2 id=&quot;AWS-IAM-æ˜¯ä»€éº¼ï¼Ÿ&quot;&gt;&lt;a href=&quot;#AWS-IAM-æ˜¯ä»€éº¼ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;AWS IAM æ˜¯ä»€éº¼ï¼Ÿ&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://docs.aws.amazon.com/zh_tw/IAM/latest/UserGuide/introduction.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AWS IAM&lt;/a&gt; æ˜¯ä»€éº¼ï¼Ÿ&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Identity Access Management allows you to manage users and thier level of access to the AWS Console.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;centralisedï¼ˆé›†ä¸­ï¼‰control of your AWS account&lt;/li&gt;
&lt;li&gt;Shared access to your AWS account&lt;/li&gt;
&lt;li&gt;Granularï¼ˆç²’ï¼‰Permissionsï¼ˆæ¬Šé™ï¼‰&lt;/li&gt;
&lt;li&gt;Identityï¼ˆèº«ä»½ï¼‰Federationï¼ˆincluding Active Directory, Facebook, Linkin, etc..ï¼‰&lt;/li&gt;
&lt;li&gt;Multifactor Authentication&lt;/li&gt;
&lt;li&gt;Provide temporary access for users/devices and services where necessary&lt;/li&gt;
&lt;li&gt;integratesï¼ˆæ•´åˆï¼‰with many deifferent aws services&lt;/li&gt;
&lt;li&gt;Supports PCI DSSï¼ˆPayment Card Industry Data Security Standard æ”¯ä»˜å¡è¡Œæ¥­æ•¸æ“šå®‰å…¨æ¨™æº–ï¼‰Compliance&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Key Terminology For IAM&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Usersï¼šEnd Users such as people, employees of an organization etc.&lt;/li&gt;
&lt;li&gt;Groupsï¼šA collection of users. Each user in the group will inherit the permission of the group.&lt;/li&gt;
&lt;li&gt;Policiesï¼šPolicies are made up of documents, called Policy documents. These doccuments are in a format called JSON and they give permissions as to what a User/Groups/Role is able to do.&lt;/li&gt;
&lt;li&gt;Rolesï¼šyou create Roles and then assign them to AWS Resources.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h1 id=&quot;å¾-AWS-AIM-è¨­å®šäº†è§£è§€å¿µ&quot;&gt;&lt;a href=&quot;#å¾-AWS-AIM-è¨­å®šäº†è§£è§€å¿µ&quot; class=&quot;headerlink&quot; title=&quot;å¾ AWS AIM è¨­å®šäº†è§£è§€å¿µ&quot;&gt;&lt;/a&gt;å¾ AWS AIM è¨­å®šäº†è§£è§€å¿µ&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/ixiMVAd.png&quot; alt=&quot;IMAGE&quot;&gt;&lt;/p&gt;
&lt;p&gt;é»é¸ &lt;code&gt;Security, Identity, &amp;amp; Compliance / IAM&lt;/code&gt; å¾Œï¼Œå¯ä»¥ç™»å…¥ &lt;code&gt;Welcome to Identity and Access Management&lt;/code&gt; çš„é é¢ã€‚&lt;/p&gt;
    
    </summary>
    
    
      <category term="Amazon Web Services" scheme="http://chestertang.site/categories/Amazon-Web-Services/"/>
    
    
      <category term="AWS" scheme="http://chestertang.site/tags/AWS/"/>
    
      <category term="IAM" scheme="http://chestertang.site/tags/IAM/"/>
    
  </entry>
  
</feed>
