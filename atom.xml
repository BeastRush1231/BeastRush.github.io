<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>查斯特部落格 | The Blog Of Chester Tang</title>
  
  <subtitle>查斯特 Chester Tang</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://chestertang.site/"/>
  <updated>2019-09-26T23:27:22.340Z</updated>
  <id>http://chestertang.site/</id>
  
  <author>
    <name>[object Object]</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新手村12 - Key Sequence Detection</title>
    <link href="http://chestertang.site/2019/09/27/javascript12/"/>
    <id>http://chestertang.site/2019/09/27/javascript12/</id>
    <published>2019-09-26T23:26:04.000Z</published>
    <updated>2019-09-26T23:27:22.340Z</updated>
    
    <content type="html"><![CDATA[<h2 id="12-Key-Sequence-Detection"><a href="#12-Key-Sequence-Detection" class="headerlink" title="12 - Key Sequence Detection"></a>12 - Key Sequence Detection</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>做一個打密碼出現彩蛋的功能，像是以前打遊戲的密技（WWSSAADD）<ul><li>呼叫以下網站的圖樣：<a href="http://www.cornify.com/js/cornify.js" target="_blank" rel="noopener">http://www.cornify.com/js/cornify.js</a></li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Key Detection<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://www.cornify.com/js/cornify.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，這個範例就是使用者打出 <code>secretCode</code> 密技的內容 <code>上上下下左左右右</code> 就可以召喚出圖片，因此，開始時我們應該先偵測使用者在 <code>keyup</code> 的時候，輸入了什麼按鍵</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(env.key, env.keyCode)</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>把指令的密技 <code>keyCode</code> 存成一個陣列，並將使用者的 <code>input</code> 設為一個空陣列</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(env.key, env.keyCode)</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>假設使用者輸入數字時，透過 <code>push</code> 會將 <code>keyCode</code> 推進去 <code>userinput</code> 陣列中</p><p>Array.prototype.push()：<a href="https://tinyurl.com/yycov32s" target="_blank" rel="noopener">https://tinyurl.com/yycov32s</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>如果使用者 input 的 <code>Keycode</code> 跟 <code>secretCode</code> 相同的話，就會呼叫 <code>cornify_add()</code> 這個 JS 套件中的方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">''</span>) === secretCode.join(<span class="string">''</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><code>userinput</code> 陣列打對一次後會一直越來越多～來判斷一下 <code>userinput</code> 長度太長的話，把第一個砍掉</p><p>Array.prototype.shift()：<a href="https://tinyurl.com/y4bs8dmf" target="_blank" rel="noopener">https://tinyurl.com/y4bs8dmf</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(userinput.length &gt; secretCode.length)&#123;</span><br><span class="line">      userinput.shift();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">''</span>) === secretCode.join(<span class="string">''</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(userinput.length &gt; secretCode.length)&#123;</span><br><span class="line">      userinput.shift();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">'|'</span>) === secretCode.join(<span class="string">'|'</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;12-Key-Sequence-Detection&quot;&gt;&lt;a href=&quot;#12-Key-Sequence-Detection&quot; class=&quot;headerlink&quot; title=&quot;12 - Key Sequence Detection&quot;&gt;&lt;/a&gt;12 - Key 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村11 - Custom Video Player</title>
    <link href="http://chestertang.site/2019/09/26/javascript11/"/>
    <id>http://chestertang.site/2019/09/26/javascript11/</id>
    <published>2019-09-25T23:49:04.000Z</published>
    <updated>2019-09-25T23:50:20.149Z</updated>
    
    <content type="html"><![CDATA[<h2 id="11-Custom-Video-Player"><a href="#11-Custom-Video-Player" class="headerlink" title="11 - Custom Video Player"></a>11 - Custom Video Player</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>和預設介面相同的功能<ul><li>play、pause、跳到指定時間、音量調整、播放速度、往前10秒、往後5秒</li></ul></li></ul></li><li>畫面<ul><li>縮起來剩下進度條</li><li>Hover整個出現</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Video Player<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">"player__video viewer"</span> <span class="attr">src</span>=<span class="string">"652333414.mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player__controls"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress__filled"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"player__button toggle"</span> <span class="attr">title</span>=<span class="string">"Toggle Play"</span>&gt;</span>►<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"volume"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"1"</span> <span class="attr">step</span>=<span class="string">"0.05"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"playbackRate"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0.5"</span> <span class="attr">max</span>=<span class="string">"2"</span> <span class="attr">step</span>=<span class="string">"0.1"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"-10"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>« 10s<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"25"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>25s »<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"scripts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#7A419B</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(135deg, #7c1599 0%,#921099 48%,#7e4ae8 100%);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">750px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* This css is only applied when fullscreen is active. */</span></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:-webkit-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__video</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: none;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__slider</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(100%) <span class="built_in">translateY</span>(-5px);</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.player__controls</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.progress</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span> &gt; * &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progress</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-basis</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: height <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.5);</span><br><span class="line">  <span class="attribute">cursor</span>: ew-resize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progress__filled</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">flex-basis</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* unholy css to style input type="range" */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-webkit-slider-runnable-track</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8.4px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,0.8);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1.3px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.2px</span> solid <span class="built_in">rgba</span>(1, 1, 1, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-webkit-slider-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">3.5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">::-webkit-slider-runnable-track</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-moz-range-track</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8.4px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1.3px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.2px</span> solid <span class="built_in">rgba</span>(1, 1, 1, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-moz-range-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先可以估狗查一下在 HTML、JS 處理 Vedio 的方法上，是如何來進行操作的，分別可以看到 <code>&lt;video&gt;: The Video Embed element</code> 、 <code>HTMLMediaElement</code> </p><p><video> The Video Embed element：<a href="https://tinyurl.com/k8qo497" target="_blank" rel="noopener">https://tinyurl.com/k8qo497</a></video></p><p>HTMLMediaElement：<a href="https://tinyurl.com/yxcx6wpq" target="_blank" rel="noopener">https://tinyurl.com/yxcx6wpq</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">"250"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"/media/examples/flower.webm"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"/media/examples/flower.mp4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    Sorry, your browser doesn't support embedded videos.</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在這個範例中，原作者想要將給個按鈕都能自己手刻、控制速度、音量大小、暫停、開始、快轉等等效果，但其實滿不實際的，第一個想到處理影片的方式一定是直接丟 Youtube 嵌入，把影片放在自己本地端有點吃資源</p><p>於是就查了一下如果影片在本地端，到底該如何使用呢？只要有個 <code>class</code> 叫做 <code>controls</code> 就可以了…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Video Player<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">"player__video viewer"</span> <span class="attr">src</span>=<span class="string">"652333414.mp4"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player__controls"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress__filled"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"player__button toggle"</span> <span class="attr">title</span>=<span class="string">"Toggle Play"</span>&gt;</span>►<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"volume"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"1"</span> <span class="attr">step</span>=<span class="string">"0.05"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"playbackRate"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0.5"</span> <span class="attr">max</span>=<span class="string">"2"</span> <span class="attr">step</span>=<span class="string">"0.1"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"-10"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>« 10s<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"25"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>25s »<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"scripts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！（欸～不是啦！雖然這樣很實際但還是尊重一下原本作者想要練習的東西嘛…</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Get Our Elements */</span></span><br><span class="line"><span class="keyword">const</span> player = <span class="built_in">document</span>.querySelector(<span class="string">'.player'</span>);</span><br><span class="line"><span class="keyword">const</span> video = player.querySelector(<span class="string">'.viewer'</span>);</span><br><span class="line"><span class="keyword">const</span> progress = player.querySelector(<span class="string">'.progress'</span>);</span><br><span class="line"><span class="keyword">const</span> progressBar = player.querySelector(<span class="string">'.progress__filled'</span>);</span><br><span class="line"><span class="keyword">const</span> toggle = player.querySelector(<span class="string">'.toggle'</span>);</span><br><span class="line"><span class="keyword">const</span> skipButtons = player.querySelectorAll(<span class="string">'[data-skip]'</span>);</span><br><span class="line"><span class="keyword">const</span> ranges = player.querySelectorAll(<span class="string">'.player__slider'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Build out functions */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">togglePlay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> method = video.paused ? <span class="string">'play'</span> : <span class="string">'pause'</span>;</span><br><span class="line">  video[method]();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> icon = <span class="keyword">this</span>.paused ? <span class="string">'►'</span> : <span class="string">'❚ ❚'</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(icon);</span><br><span class="line">  toggle.textContent = icon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">skip</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> video.currentTime += <span class="built_in">parseFloat</span>(<span class="keyword">this</span>.dataset.skip);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleRangeUpdate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  video[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleProgress</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> percent = (video.currentTime / video.duration) * <span class="number">100</span>;</span><br><span class="line">  progressBar.style.flexBasis = <span class="string">`<span class="subst">$&#123;percent&#125;</span>%`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrub</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> scrubTime = (e.offsetX / progress.offsetWidth) * video.duration;</span><br><span class="line">  video.currentTime = scrubTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Hook up the event listeners */</span></span><br><span class="line">video.addEventListener(<span class="string">'click'</span>, togglePlay);</span><br><span class="line">video.addEventListener(<span class="string">'play'</span>, updateButton);</span><br><span class="line">video.addEventListener(<span class="string">'pause'</span>, updateButton);</span><br><span class="line">video.addEventListener(<span class="string">'timeupdate'</span>, handleProgress);</span><br><span class="line"></span><br><span class="line">toggle.addEventListener(<span class="string">'click'</span>, togglePlay);</span><br><span class="line">skipButtons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">'click'</span>, skip));</span><br><span class="line">ranges.forEach(<span class="function"><span class="params">range</span> =&gt;</span> range.addEventListener(<span class="string">'change'</span>, handleRangeUpdate));</span><br><span class="line">ranges.forEach(<span class="function"><span class="params">range</span> =&gt;</span> range.addEventListener(<span class="string">'mousemove'</span>, handleRangeUpdate));</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mousedown = <span class="literal">false</span>;</span><br><span class="line">progress.addEventListener(<span class="string">'click'</span>, scrub);</span><br><span class="line">progress.addEventListener(<span class="string">'mousemove'</span>, (e) =&gt; mousedown &amp;&amp; scrub(e));</span><br><span class="line">progress.addEventListener(<span class="string">'mousedown'</span>, () =&gt; mousedown = <span class="literal">true</span>);</span><br><span class="line">progress.addEventListener(<span class="string">'mouseup'</span>, () =&gt; mousedown = <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;11-Custom-Video-Player&quot;&gt;&lt;a href=&quot;#11-Custom-Video-Player&quot; class=&quot;headerlink&quot; title=&quot;11 - Custom Video Player&quot;&gt;&lt;/a&gt;11 - Custom Video 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村10 - Hold Shift and Check Checkboxes</title>
    <link href="http://chestertang.site/2019/09/25/javascript10/"/>
    <id>http://chestertang.site/2019/09/25/javascript10/</id>
    <published>2019-09-25T00:46:04.000Z</published>
    <updated>2019-09-25T00:47:40.965Z</updated>
    
    <content type="html"><![CDATA[<h2 id="10-Hold-Shift-and-Check-Checkboxes"><a href="#10-Hold-Shift-and-Check-Checkboxes" class="headerlink" title="10 - Hold Shift and Check Checkboxes"></a>10 - Hold Shift and Check Checkboxes</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>對其中一個 checkbox 打勾，再按住 <code>shift</code> 對另一個打勾，中間的選項會自動勾起來</li></ul></li><li>畫面<ul><li>滑鼠點 checkbox要打勾，再點擊則取消</li><li>「按住<code>shift</code>」勾選，若畫面上已有打勾，則此次和上次打勾的選項中間都要自動打勾</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hold Shift to Check Multiple Checkboxes<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    html &#123;</span><br><span class="line">      font-family: sans-serif;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .inbox &#123;</span><br><span class="line">      max-width: 400px;</span><br><span class="line">      margin: 50px auto;</span><br><span class="line">      background: white;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      box-shadow: 10px 10px 0 rgba(0,0,0,0.1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item &#123;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line">      border-bottom: 1px solid #F1F1F1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item:last-child &#123;</span><br><span class="line">      border-bottom: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input:checked + p &#123;</span><br><span class="line">      background: #F9F9F9;</span><br><span class="line">      text-decoration: line-through;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input[type="checkbox"] &#123;</span><br><span class="line">      margin: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      padding: 20px;</span><br><span class="line">      transition: background 0.2s;</span><br><span class="line">      flex: 1;</span><br><span class="line">      font-family:'helvetica neue';</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      font-weight: 200;</span><br><span class="line">      border-left: 1px solid #D1E2FF;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   The following is a common layout you would see in an email client.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   When a user clicks a checkbox, holds Shift, and then clicks another checkbox a few rows down, all the checkboxes inbetween those two checkboxes should be checked.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is an inbox layout.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check one item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hold down your Shift key<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check a lower item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Everything in between should also be set to checked<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Try to do it without any libraries<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Just regular JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Good Luck!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Don't forget to tweet your result!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，透過 <code>querySelectorAll</code> 抓出 <code>type=&quot;checkbox&quot;</code> ，為了方便之後可以使用 <code>foreach</code> 迴圈讀出每項checkbox，因此再將它轉為陣列 <code>Array.from</code>，如果被點擊的話，觸發 <code>clickHandler</code> 這個方法印出 <code>MouseEvent</code> 可以操作的項目，然後來看看裡面有什麼…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">  input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(env);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>根據題目要求，我們要執行的是按住 Shift 按鈕觸發功能，在上方程式碼的 <code>env</code> 變數中，印出來的觸發事件如下，可以看到 <code>shiftKey: false</code> 這個事件物件，勾起來是 <code>true</code>，反之</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MouseEvent &#123;isTrusted: true, screenX: 287, screenY: 265, clientX: 316, clientY: 80, …&#125;</span></span><br><span class="line"><span class="comment">// altKey: false</span></span><br><span class="line"><span class="comment">// bubbles: true</span></span><br><span class="line"><span class="comment">// button: 0</span></span><br><span class="line"><span class="comment">// buttons: 0</span></span><br><span class="line"><span class="comment">// cancelBubble: false</span></span><br><span class="line"><span class="comment">// cancelable: true</span></span><br><span class="line"><span class="comment">// clientX: 316</span></span><br><span class="line"><span class="comment">// clientY: 80</span></span><br><span class="line"><span class="comment">// -------------------略--------------------</span></span><br><span class="line"><span class="comment">// screenX: 287</span></span><br><span class="line"><span class="comment">// screenY: 265</span></span><br><span class="line"><span class="comment">// shiftKey: false</span></span><br><span class="line"><span class="comment">// sourceCapabilities: InputDeviceCapabilities &#123;firesTouchEvents: true&#125;</span></span><br><span class="line"><span class="comment">// srcElement: input</span></span><br><span class="line"><span class="comment">// target: input</span></span><br><span class="line"><span class="comment">// timeStamp: 1173.464999999851</span></span><br><span class="line"><span class="comment">// toElement: input</span></span><br><span class="line"><span class="comment">// type: "click"</span></span><br><span class="line"><span class="comment">// view: Window &#123;postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, parent: Window, …&#125;</span></span><br><span class="line"><span class="comment">// which: 1</span></span><br><span class="line"><span class="comment">// x: 316</span></span><br><span class="line"><span class="comment">// y: 80</span></span><br><span class="line"><span class="comment">// __proto__: MouseEvent</span></span><br></pre></td></tr></table></figure><p>不過要先要紀錄我們點到的 checkbox 是陣列中的第幾個，透過 <code>indexOf</code> 算出並記於變數 <code>firstCheck</code> 中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(env);</span></span><br><span class="line">    firstCheck = checkboxes.indexOf(<span class="keyword">this</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(firstCheck);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>變數 <code>firstCheck</code> 代表紀錄使用者一開始點的 Checkbox，先宣告一開始是空值，如果使用者點下 Checkbox，就記錄下剛剛抓的陣列第幾個，反之為 null</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(env);</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>當有 ShiftKey 並且 firstCheck 不是空值的話，可以抓到使用者第二個按下的按鈕，並且透過 <code>slice</code> 將點擊的兩個按鈕排列 <code>Math.min / Math.max</code>，在將全部打勾的讀出來設定為打勾勾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      <span class="keyword">if</span> (env.shiftKey &amp;&amp; firstCheck !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> secondCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">        checkboxes</span><br><span class="line">          .slice(</span><br><span class="line">            <span class="built_in">Math</span>.min(secondCheck, firstCheck),</span><br><span class="line">            <span class="built_in">Math</span>.max(secondCheck, firstCheck)</span><br><span class="line">          )</span><br><span class="line">          .forEach(<span class="function"><span class="params">input</span> =&gt;</span> (input.checked = <span class="literal">true</span>));</span><br><span class="line">      &#125; </span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      <span class="keyword">if</span> (env.shiftKey &amp;&amp; firstCheck !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> secondCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">        checkboxes</span><br><span class="line">          .slice(</span><br><span class="line">            <span class="built_in">Math</span>.min(secondCheck, firstCheck),</span><br><span class="line">            <span class="built_in">Math</span>.max(secondCheck, firstCheck)</span><br><span class="line">          )</span><br><span class="line">          .forEach(<span class="function"><span class="params">input</span> =&gt;</span> (input.checked = <span class="literal">true</span>));</span><br><span class="line">      &#125; </span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;10-Hold-Shift-and-Check-Checkboxes&quot;&gt;&lt;a href=&quot;#10-Hold-Shift-and-Check-Checkboxes&quot; class=&quot;headerlink&quot; title=&quot;10 - Hold Shift and Chec
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村09 - Dev Tools</title>
    <link href="http://chestertang.site/2019/09/24/javascript09/"/>
    <id>http://chestertang.site/2019/09/24/javascript09/</id>
    <published>2019-09-23T22:30:04.000Z</published>
    <updated>2019-09-23T22:33:18.337Z</updated>
    
    <content type="html"><![CDATA[<h2 id="09-Dev-Tools-Domination"><a href="#09-Dev-Tools-Domination" class="headerlink" title="09 - Dev Tools Domination"></a>09 - Dev Tools Domination</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>開發工具和 console 技巧的範例，直接來練習吧！</li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Console Tricks!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">onClick</span>=<span class="string">"makeGreen()"</span>&gt;</span>×BREAK×DOWN×<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    const dogs = [&#123; name: 'Snickers', age: 2 &#125;, &#123; name: 'hugo', age: 8 &#125;];</span><br><span class="line"></span><br><span class="line">    function makeGreen() &#123;</span><br><span class="line">      const p = document.querySelector('p');</span><br><span class="line">      p.style.color = '#BADA55';</span><br><span class="line">      p.style.fontSize = '50px';</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // Regular</span><br><span class="line"></span><br><span class="line">    // Interpolated</span><br><span class="line"></span><br><span class="line">    // Styled</span><br><span class="line"></span><br><span class="line">    // warning!</span><br><span class="line"></span><br><span class="line">    // Error :|</span><br><span class="line"></span><br><span class="line">    // Info</span><br><span class="line"></span><br><span class="line">    // Testing</span><br><span class="line"></span><br><span class="line">    // clearing</span><br><span class="line"></span><br><span class="line">    // Viewing DOM Elements</span><br><span class="line"></span><br><span class="line">    // Grouping together</span><br><span class="line"></span><br><span class="line">    // counting</span><br><span class="line"></span><br><span class="line">    // timing</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，範例都與 JS 的 Console 有關，所使用到的 Console 方法都可以參考以下</p><p>Console：<a href="https://tinyurl.com/y6nrq9gq" target="_blank" rel="noopener">https://tinyurl.com/y6nrq9gq</a></p><ol><li><p>Regular Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello</span></span><br></pre></td></tr></table></figure></li><li><p>Interpolated Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %s'</span>,<span class="string">'chester'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %d'</span>, <span class="number">3.14</span> );</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %f'</span>, <span class="number">3.14</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// hi my name is chester</span></span><br><span class="line"><span class="comment">// hi my name is 3</span></span><br><span class="line"><span class="comment">// hi my name is 3.14</span></span><br></pre></td></tr></table></figure></li><li><p>ES6 Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> es6 = <span class="string">'es6'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;es6&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// my name is es6</span></span><br></pre></td></tr></table></figure></li><li><p>Styled Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"%c住手"</span>, <span class="string">"font-size:60px; color:red"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 紅色的大大的住手(fb?)</span></span><br></pre></td></tr></table></figure></li><li><p>Warning Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.warn(<span class="string">"警告"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 黃色的緊告</span></span><br></pre></td></tr></table></figure></li><li><p>Error Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.error(<span class="string">"錯誤"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 紅色的錯誤</span></span><br></pre></td></tr></table></figure></li><li><p>Info Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.info(<span class="string">"好像跟log沒有什麼差別，以前有一個圖標的樣子orz"</span>);</span><br></pre></td></tr></table></figure></li><li><p>Testing Conosle</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">true</span>,<span class="string">"訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">false</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="string">""</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="number">0</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">NaN</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">null</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">undefined</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">9. Clearing Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span>javascript</span><br><span class="line">   CTRL+L</span><br><span class="line">   <span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">10. Viewing DOM Elements Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>javascript</span><br><span class="line">    <span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(p);</span><br><span class="line">    <span class="built_in">console</span>.log(dogs);</span><br><span class="line">    <span class="comment">// &lt;p onclick="makeGreen()"&gt;×BREAK×DOWN×&lt;/p&gt; html的dom</span></span><br><span class="line">    <span class="comment">// (2) [&#123;…&#125;, &#123;…&#125;]                            array的dom</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">console</span>.dir(p);</span><br><span class="line">    <span class="built_in">console</span>.dir(dogs);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// p        P內的所有可以用  展開dom告訴有哪些屬性可以用</span></span><br><span class="line">    <span class="comment">// Array(2) DOGS內的所有可以用  展開dom告訴有哪些屬性可以用</span></span><br><span class="line">    <span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">11. Grouping together Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>javascript</span><br><span class="line">    <span class="built_in">console</span>.table(dogs);</span><br><span class="line">    <span class="built_in">console</span>.table(dogs,[<span class="string">'name'</span>]);</span><br><span class="line">    <span class="comment">// 只要有name欄位</span></span><br></pre></td></tr></table></figure></li><li><p>counting Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 印出 count 東西的數量</span></span><br></pre></td></tr></table></figure></li><li><p>timing Conolse</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">"test1"</span>);</span><br><span class="line"><span class="keyword">let</span> i</span><br><span class="line"><span class="keyword">let</span> j </span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">j = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"test1"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// test1: 0.015869140625ms</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"test2"</span>); </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">j = i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"test2"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// test2: 0.01513671875ms</span></span><br></pre></td></tr></table></figure></li></ol><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> dogs = [&#123; <span class="attr">name</span>: <span class="string">'Snickers'</span>, <span class="attr">age</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'hugo'</span>, <span class="attr">age</span>: <span class="number">8</span> &#125;];</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">makeGreen</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> p = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span></span><br><span class="line"><span class="javascript">    p.style.color = <span class="string">'#BADA55'</span>;</span></span><br><span class="line"><span class="javascript">    p.style.fontSize = <span class="string">'50px'</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Regular</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">// Interpolated</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %s'</span>,<span class="string">'chester'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %d'</span>, <span class="number">3.14</span> );</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %f'</span>, <span class="number">3.14</span> );</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">//ES6</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> es6 = <span class="string">'es6'</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;es6&#125;</span>`</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Styled</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"%c住手"</span>, <span class="string">"font-size:60px; color:red"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// warning!</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.warn(<span class="string">"警告"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Error :|</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.error(<span class="string">"錯誤"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Info</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.info(<span class="string">"跟log沒有什麼差別，以前有一個圖標的樣子orz"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Testing</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">true</span>,<span class="string">"訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">false</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="string">""</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="number">0</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">NaN</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">null</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">undefined</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// clearing</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// CTRL+L</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Viewing DOM Elements</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(p);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(dogs);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.dir(p);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.dir(dogs);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Grouping together</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.table(dogs);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.table(dogs,[<span class="string">'name'</span>]);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// counting</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// timing</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.time(<span class="string">"test1"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> i</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> j </span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span></span><br><span class="line">    j = i;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.timeEnd(<span class="string">"test1"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.time(<span class="string">"test2"</span>); </span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span></span><br><span class="line">    j = i ;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.timeEnd(<span class="string">"test2"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yxhsxcnl" target="_blank" rel="noopener">https://tinyurl.com/yxhsxcnl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;09-Dev-Tools-Domination&quot;&gt;&lt;a href=&quot;#09-Dev-Tools-Domination&quot; class=&quot;headerlink&quot; title=&quot;09 - Dev Tools Domination&quot;&gt;&lt;/a&gt;09 - Dev Tools 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村08 - HTML5 Canvas</title>
    <link href="http://chestertang.site/2019/09/23/javascript08/"/>
    <id>http://chestertang.site/2019/09/23/javascript08/</id>
    <published>2019-09-23T00:12:04.000Z</published>
    <updated>2019-09-23T00:18:48.269Z</updated>
    
    <content type="html"><![CDATA[<h1 id="08-Fun-with-HTML5-Canvas"><a href="#08-Fun-with-HTML5-Canvas" class="headerlink" title="08 - Fun with HTML5 Canvas"></a>08 - Fun with HTML5 Canvas</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>可以畫圖的書布</li><li>粗細、顏色變化</li></ul></li><li>畫面<ul><li>邊畫邊換色、粗細</li><li>停下來，再繼續畫，粗細和顏色與上次停筆相同</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5 Canvas<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"draw"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"800"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  html, body &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，這次的範例只是Canvas的基本、滑鼠的操作，如果很喜歡 Canvas 的人，歡迎來我的 Codepen 看更多範例</p><p>繪圖基礎語法與動畫原理：<a href="https://tinyurl.com/yxftfxoz" target="_blank" rel="noopener">https://tinyurl.com/yxftfxoz</a></p><p>畫布的座標系操作：<a href="https://tinyurl.com/y4s8fxjr" target="_blank" rel="noopener">https://tinyurl.com/y4s8fxjr</a></p><p>從事件的角度，先來寫使用者的觸發事件吧！分別是 <code>mousedown</code>、<code>mousemove</code>、<code>mouseup</code>、<code>mouseleave</code> 四種事件，記得 <code>mousemove</code> 這個事件是會一直觸發，使用者在脫離 Canvas 這個 800x800 畫布的時候，也會觸發脫離框框事件，分別有兩種作法：一個是 <code>mouseout</code>、<code>mouseleave</code>，而兩者的差別在 DOM 的層級。</p><p>另外，因為要使用者按下去才能畫，因此在 <code>mousemove</code> 方法中，我們要假設如果狀態不能畫畫的 <code>if(!drawing) return</code>，就不能畫畫</p><p>mouveseout v.s mouse leave：<a href="https://tinyurl.com/y282qc3g" target="_blank" rel="noopener">https://tinyurl.com/y282qc3g</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,()=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>); <span class="comment">// 假設console視為畫畫</span></span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>CanvasRenderingContext2D</code> 來操作 Canvas 的 Context，記得不是操作它的 DOM！處理一下要畫畫線條的顏色 <code>ctx.fillStyle</code>，它是透過HSL 色環來計算顏色 <code>&quot;hsl(0,100%,50%)&quot;</code>，各欄位分別意思是（顏色、飽和度、明亮度）、調整筆畫粗細 <code>linewidth</code>、筆畫收尾的形狀 <code>lineCap</code>、轉折角 <code>lineJoin</code> </p><p>CanvasRenderingContext2D：<a href="https://tinyurl.com/y39wgnms" target="_blank" rel="noopener">https://tinyurl.com/y39wgnms</a><br>CanvasRenderingContext2D.fillStyle：<a href="https://tinyurl.com/y5j8zu5g" target="_blank" rel="noopener">https://tinyurl.com/y5j8zu5g</a><br>CanvasRenderingContext2D.lineWidth：<a href="https://tinyurl.com/q3pm3aw" target="_blank" rel="noopener">https://tinyurl.com/q3pm3aw</a><br>CanvasRenderingContext2D.lineCap：<a href="https://tinyurl.com/y63rq9rf" target="_blank" rel="noopener">https://tinyurl.com/y63rq9rf</a><br>CanvasRenderingContext2D.lineJoin：<a href="https://tinyurl.com/yxesyrbw" target="_blank" rel="noopener">https://tinyurl.com/yxesyrbw</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">100</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line"><span class="comment">// 下略</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>現在來製作畫畫吧！（點對點的概念，按下去會是一個點，然後會連到結束時候的點成為一條線），必須將按下時的點及結束的點存起來，透過 x、y 變數存下 <code>offsetX、offsetY</code> </p><p>MouseEvent.offsetX：<a href="https://tinyurl.com/phhseue" target="_blank" rel="noopener">https://tinyurl.com/phhseue</a><br>MouseEvent.offsetY：<a href="https://tinyurl.com/yys9e773" target="_blank" rel="noopener">https://tinyurl.com/yys9e773</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">50</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span>;</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x,y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,()=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>畫製 Canvas 圖的規則滿前顯易懂的，可以參考下面的範例連結（切記在製作Canvas的時候程式結束一定要有分號，不然都會出錯喔！）</p><p>CanvasRenderingContext2D.beginPath()：<a href="https://tinyurl.com/ycrkznet" target="_blank" rel="noopener">https://tinyurl.com/ycrkznet</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">50</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>讓顏色會隨著紅橙黃綠藍靛紫 &amp; 粗細會持續變化：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">  colorDeg = <span class="number">0</span>;</span><br><span class="line">  lineWidth = <span class="number">50</span>;</span><br><span class="line">  dir = <span class="number">1</span>;</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = lineWidth;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 讓角度持續的在 0-360 變化</span></span><br><span class="line">    colorDeg = colorDeg &lt; <span class="number">360</span> ? colorDeg + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 從大到變小 再到變大</span></span><br><span class="line">    <span class="keyword">if</span> (lineWidth &lt; <span class="number">1</span> || lineWidth &gt; <span class="number">50</span>) &#123;</span><br><span class="line">      dir *= <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    lineWidth -= dir ;</span><br><span class="line">    </span><br><span class="line">    ctx.lineWidth = lineWidth;</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">  colorDeg = <span class="number">0</span>;</span><br><span class="line">  lineWidth = <span class="number">50</span>;</span><br><span class="line">  dir = <span class="number">1</span>;</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = lineWidth;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    colorDeg = colorDeg &lt; <span class="number">360</span> ? colorDeg + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">    <span class="keyword">if</span> (lineWidth &lt; <span class="number">1</span> || lineWidth &gt; <span class="number">50</span>) &#123;</span><br><span class="line">      dir *= <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    lineWidth -= dir ;</span><br><span class="line">    ctx.lineWidth = lineWidth;</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yxhsxcnl" target="_blank" rel="noopener">https://tinyurl.com/yxhsxcnl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;08-Fun-with-HTML5-Canvas&quot;&gt;&lt;a href=&quot;#08-Fun-with-HTML5-Canvas&quot; class=&quot;headerlink&quot; title=&quot;08 - Fun with HTML5 Canvas&quot;&gt;&lt;/a&gt;08 - Fun wit
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村07 - Array Cardio Day 2</title>
    <link href="http://chestertang.site/2019/09/22/javascript07/"/>
    <id>http://chestertang.site/2019/09/22/javascript07/</id>
    <published>2019-09-22T02:47:55.000Z</published>
    <updated>2019-09-22T02:48:30.204Z</updated>
    
    <content type="html"><![CDATA[<h1 id="07-Array-Cardio-Day-2"><a href="#07-Array-Cardio-Day-2" class="headerlink" title="07 - Array Cardio Day 2"></a>07 - Array Cardio Day 2</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><p>#### </p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><p>Javascript基本的Array方法運用：</p><ul><li><p>有兩個陣列  <code>people</code>、<code>comments</code> ，完成題目的要求</p></li><li><p>題目以 <code>Array.prototype.method()</code> 為分界</p></li><li><p>練習這些方法：<code>Array.prototype.some()</code>、<code>Array.prototype.every()</code>、<code>Array.prototype.find()</code>、<code>Array.prototype.findIndex()</code></p></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Array Cardio 💪💪<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Psst: have a look at the JavaScript Console<span class="tag">&lt;/<span class="name">em</span>&gt;</span> 💁<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    // ## Array Cardio Day 2</span><br><span class="line">    const people = [</span><br><span class="line">      &#123; name: 'Wes', year: 1988 &#125;,</span><br><span class="line">      &#123; name: 'Kait', year: 1986 &#125;,</span><br><span class="line">      &#123; name: 'Irv', year: 1970 &#125;,</span><br><span class="line">      &#123; name: 'Lux', year: 2015 &#125;</span><br><span class="line">    ];</span><br><span class="line">    const comments = [</span><br><span class="line">      &#123; text: 'Love this!', id: 523423 &#125;,</span><br><span class="line">      &#123; text: 'Super good', id: 823423 &#125;,</span><br><span class="line">      &#123; text: 'You are the best', id: 2039842 &#125;,</span><br><span class="line">      &#123; text: 'Ramen is my fav food ever', id: 123523 &#125;,</span><br><span class="line">      &#123; text: 'Nice Nice Nice!', id: 542328 &#125;</span><br><span class="line">    ];</span><br><span class="line">    // Some and Every Checks</span><br><span class="line">    // Array.prototype.some() // is at least one person 19 or older?</span><br><span class="line">    // Array.prototype.every() // is everyone 19 or older?</span><br><span class="line">    // Array.prototype.find()</span><br><span class="line">    // Find is like filter, but instead returns just the one you are looking for</span><br><span class="line">    // find the comment with the ID of 823423</span><br><span class="line">    // Array.prototype.findIndex()</span><br><span class="line">    // Find the comment with this ID</span><br><span class="line">    // delete the comment with the ID of 823423</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><ol><li><p>從 people 的變數中透過 <code>some</code> 找出一筆資料大於等於19歲：</p><ul><li><p>some：方法會測試陣列中其中一個元素是否都通過了由給定之函式所實作的測試，回傳的是布林值。</p></li><li><p>getUTCFullYear：以世界時間為標準，回傳一個指定的日期的年份。</p><p>Array.prototype.some()：<a href="https://tinyurl.com/y3ox2o5b" target="_blank" rel="noopener">https://tinyurl.com/y3ox2o5b</a></p><p>Date.prototype.getUTCFullYear()：<a href="https://tinyurl.com/y64burg7" target="_blank" rel="noopener">https://tinyurl.com/y64burg7</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isAdult = people.some(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(isAdult)</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p>從 people 的變數中透過 <code>every</code> 必須任何一筆資料大於等於19歲：</p><ul><li><p>every：方法會測試陣列中的所有元素是否都通過了由給定之函式所實作的測試，回傳的是布林值。</p><p>Array.prototype.every()：<a href="https://tinyurl.com/yyhl7e54" target="_blank" rel="noopener">https://tinyurl.com/yyhl7e54</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> allAdults = people.every(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(allAdults)</span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>從 comments 的變數中透過 <code>find</code> 找出 ID 是 823423：</p><ul><li><p>find：方法會回傳第一個滿足所提供之測試函式的元素值，並列出找到的項目，如果找不到會回傳 undefined。</p><p>Array.prototype.find()：<a href="https://tinyurl.com/y2swwtgq" target="_blank" rel="noopener">https://tinyurl.com/y2swwtgq</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> comment = comments.find(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> c.id === <span class="number">823423</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(comment)</span><br><span class="line"><span class="comment">//&#123;text: "Super good", id: 823423&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>從 comments 的變數中透過 <code>findIndex</code> 找出 ID 是 823423</p><ul><li><p>findIndex：方法會回傳第一個滿足所提供之測試函式的元素值，不會列出找到的項目，只會列出比數，如果找不到會回傳 -1 。</p><p>Array.prototype.findIndex()：<a href="https://tinyurl.com/y38fqko5" target="_blank" rel="noopener">https://tinyurl.com/y38fqko5</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> index = comments.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> i.id === <span class="number">823423</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(index)</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li></ol><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// ## Array Cardio Day 2</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> people = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Wes'</span>, <span class="attr">year</span>: <span class="number">1988</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Kait'</span>, <span class="attr">year</span>: <span class="number">1986</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Irv'</span>, <span class="attr">year</span>: <span class="number">1970</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Lux'</span>, <span class="attr">year</span>: <span class="number">2015</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> comments = [</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Love this!'</span>, <span class="attr">id</span>: <span class="number">523423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Super good'</span>, <span class="attr">id</span>: <span class="number">823423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'You are the best'</span>, <span class="attr">id</span>: <span class="number">2039842</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Ramen is my fav food ever'</span>, <span class="attr">id</span>: <span class="number">123523</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Nice Nice Nice!'</span>, <span class="attr">id</span>: <span class="number">542328</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Some and Every Checks</span></span><br><span class="line">  <span class="comment">// Array.prototype.some() // is at least one person 19 or older?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> isAdult = people.some(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(isAdult)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.every() // is everyone 19 or older?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> allAdults = people.every(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(allAdults)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.find()</span></span><br><span class="line">  <span class="comment">// Find is like filter, but instead returns just the one you are looking for</span></span><br><span class="line">  <span class="comment">// find the comment with the ID of 823423</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> comment = comments.find(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c.id === <span class="number">823423</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(comment)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.findIndex()</span></span><br><span class="line">  <span class="comment">// Find the comment with this ID</span></span><br><span class="line">  <span class="comment">// delete the comment with the ID of 823423</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> index = comments.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i.id === <span class="number">823423</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(index)</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/9zZGYv" target="_blank" rel="noopener">https://reurl.cc/9zZGYv</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;07-Array-Cardio-Day-2&quot;&gt;&lt;a href=&quot;#07-Array-Cardio-Day-2&quot; class=&quot;headerlink&quot; title=&quot;07 - Array Cardio Day 2&quot;&gt;&lt;/a&gt;07 - Array Cardio Day
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村06 - Type Ahead</title>
    <link href="http://chestertang.site/2019/09/21/javascript06/"/>
    <id>http://chestertang.site/2019/09/21/javascript06/</id>
    <published>2019-09-21T02:44:55.000Z</published>
    <updated>2019-09-21T02:46:27.796Z</updated>
    
    <content type="html"><![CDATA[<h1 id="06-Type-Ahead"><a href="#06-Type-Ahead" class="headerlink" title="06 - Type Ahead"></a>06 - Type Ahead</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>接收到 Json</li><li>列出符合關鍵字的項目</li></ul></li><li>畫面<ul><li>列出符合關鍵字的項目</li><li>將關鍵字的部份mark起來</li><li>顯示該項目的「歡迎程度」數字</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Type Ahead 👀<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"search-form"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"City or State"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"suggestions"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Filter for a city<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>or a state<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* style.css */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'helvetica neue'</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-form</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-class">.search</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#F7F7F7</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120%</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.12), inset <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.19);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="comment">/*perspective: 20px;*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#D8D8D8</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.14);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(100px) <span class="built_in">rotateX</span>(3deg) <span class="built_in">translateY</span>(2px) <span class="built_in">scale</span>(1.001);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom,  #ffffff 0%,#EFEFEF 100%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(100px) <span class="built_in">rotateX</span>(-3deg) <span class="built_in">translateY</span>(3px);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to top,  #ffffff 0%,#EFEFEF 100%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.population</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.hl</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先來學一下如何抓  Json 檔吧！不知道大家習慣用這種舊式的寫法還是新的 ES6 語法 <code>cities</code> 宣告為 const 並設為空陣列，並再底下將 return 回來的結果 …拆開 <code>push</code> 回來呢？我是比較喜歡舊的下面這種寫法啦w</p><p>Using Fetch：<a href="https://ubin.io/cz5PZD" target="_blank" rel="noopener">https://ubin.io/cz5PZD</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span> </span><br><span class="line">  const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';</span><br><span class="line"></span><br><span class="line">  let cities = null</span><br><span class="line">  fetch(endpoint)</span><br><span class="line">    .then(function(blog)&#123;</span><br><span class="line">      return blog.json()</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(function(myJson)&#123;</span><br><span class="line">      return cities = myJson</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>瀏覽器 console 看看有沒有抓到：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cities</span></span><br><span class="line"><span class="comment">// (1000) [&#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, …]</span></span><br></pre></td></tr></table></figure><p>使用者在輸入 City or State 放開按鍵的時候，搜尋與Json的資料有哪幾筆符合？這邊我們必須透過正則RegExp 來寫，此外也來批純的方法xd</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 略</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> cities = <span class="literal">null</span></span></span><br><span class="line">  fetch(endpoint)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">blog</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> blog.json()</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> cities = myJson</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 pure function <code>findMatches</code>  中，wordToMatch 與 cities 兩個值不會變動，透過正則將 <code>wordToMatch</code> 丟進來，後面 ‘gi’ 裡的 g 代表全部的意思、i 代表不分大小寫，再回資料結構中有 city || state 回傳值…</p><p>RegExp：<a href="https://ubin.io/pjvYgJ" target="_blank" rel="noopener">https://ubin.io/pjvYgJ</a><br>Pure function：<a href="https://ubin.io/RpbKDT" target="_blank" rel="noopener">https://ubin.io/RpbKDT</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 上略</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(matchArray)</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">findMatches</span>(<span class="params">wordToMatch, cities</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">return</span> cities.filter(<span class="function"><span class="keyword">function</span>(<span class="params">place</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(wordToMatch, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> place.city.match(regex) || place.state.match(regex)</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>接著來處理 DOM 的資料，並新增抓到的資料透過來新增HTML 到 Class <code>.suggestions</code> 裡，這邊單純只是做資料的處理，可能會看不懂的地方是，以前用單引號表示字串在 ES6 中換成蝌蚪按鍵的一點符號（這個該叫什麼好呢xd ），另一個為 <code>numberWithCommas</code> 方法中的 <code>toLocaleString()</code> ，在原作者中是用正則去做處理，不過感覺用這個會比較直接…</p><p>Number.prototype.toLocaleString()：<a href="https://reurl.cc/NaXNde" target="_blank" rel="noopener">https://reurl.cc/NaXNde</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 上略</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> html = matchArray.map(<span class="function"><span class="params">place</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="keyword">this</span>.value, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> cityName = place.city.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> stateName = place.state.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="javascript">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"name"</span>&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="javascript">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"population"</span>&gt;$&#123;numberWithCommas(place.population)&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    `</span><br><span class="line"><span class="javascript">    &#125;).join(<span class="string">''</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.suggestions'</span>).innerHTML = html</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> x.toLocaleString()</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> endpoint = <span class="string">'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> cities = <span class="literal">null</span></span></span><br><span class="line">  fetch(endpoint)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">blog</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> blog.json()</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> cities = myJson</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> html = matchArray.map(<span class="function"><span class="params">place</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="keyword">this</span>.value, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> cityName = place.city.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> stateName = place.state.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="javascript">          &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"name"</span>&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="javascript">          &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"population"</span>&gt;$&#123;numberWithCommas(place.population)&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">      `</span><br><span class="line"><span class="javascript">      &#125;).join(<span class="string">''</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.querySelector(<span class="string">'.suggestions'</span>).innerHTML = html</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> x.toLocaleString()</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">findMatches</span>(<span class="params">wordToMatch, cities</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> cities.filter(<span class="function"><span class="keyword">function</span>(<span class="params">place</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(wordToMatch, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> place.city.match(regex) || place.state.match(regex)</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a><br>本次範例程式碼原作者來源：<a href="https://reurl.cc/yynKGl" target="_blank" rel="noopener">https://reurl.cc/yynKGl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;06-Type-Ahead&quot;&gt;&lt;a href=&quot;#06-Type-Ahead&quot; class=&quot;headerlink&quot; title=&quot;06 - Type Ahead&quot;&gt;&lt;/a&gt;06 - Type Ahead&lt;/h1&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生遠離我&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村05 - Flex Panel Gallery</title>
    <link href="http://chestertang.site/2019/09/20/javascript05/"/>
    <id>http://chestertang.site/2019/09/20/javascript05/</id>
    <published>2019-09-19T23:28:55.000Z</published>
    <updated>2019-09-19T23:31:21.549Z</updated>
    
    <content type="html"><![CDATA[<h1 id="05-Flex-Panel-Gallery"><a href="#05-Flex-Panel-Gallery" class="headerlink" title="05 - Flex Panel Gallery"></a>05 - Flex Panel Gallery</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能（CSS居多）<ul><li>點擊指定的區塊有兩段式的動畫變化</li><li>再點擊一次，恢復原狀</li></ul></li><li>畫面<ul><li>改用 Flex 排版</li><li>標籤 p 中間的字變大</li><li>變大之後上下的字要進來</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Flex Panels 💪<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">'https://fonts.googleapis.com/css?family=Amatic+SC'</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">      font-family: 'helvetica neue';</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      font-weight: 200;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    body &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    *, *:before, *:after &#123;</span><br><span class="line">      box-sizing: inherit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panels &#123;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel &#123;</span><br><span class="line">      background: #6B0F9C;</span><br><span class="line">      box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);</span><br><span class="line">      color: white;</span><br><span class="line">      text-align: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      /* Safari transitionend event.propertyName === flex */</span><br><span class="line">      /* Chrome + FF transitionend event.propertyName === flex-grow */</span><br><span class="line">      transition:</span><br><span class="line">        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        background 0.2s;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      background-size: cover;</span><br><span class="line">      background-position: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel1 &#123; background-image:url(https://source.unsplash.com/gYl-UtwNg_I/1500x1500); &#125;</span><br><span class="line">    .panel2 &#123; background-image:url(https://source.unsplash.com/rFKUFzjPYiQ/1500x1500); &#125;</span><br><span class="line">    .panel3 &#123; background-image:url(https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d); &#125;</span><br><span class="line">    .panel4 &#123; background-image:url(https://source.unsplash.com/ITjiVXcwVng/1500x1500); &#125;</span><br><span class="line">    .panel5 &#123; background-image:url(https://source.unsplash.com/3MNzGlQM7qs/1500x1500); &#125;</span><br><span class="line"></span><br><span class="line">    /* Flex Children */</span><br><span class="line">    .panel &gt; * &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      width: 100%;</span><br><span class="line">      transition: transform 0.5s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel p &#123;</span><br><span class="line">      text-transform: uppercase;</span><br><span class="line">      font-family: 'Amatic SC', cursive;</span><br><span class="line">      text-shadow: 0 0 4px rgba(0, 0, 0, 0.72), 0 0 14px rgba(0, 0, 0, 0.45);</span><br><span class="line">      font-size: 2em;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .panel p:nth-child(2) &#123;</span><br><span class="line">      font-size: 4em;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel.open &#123;</span><br><span class="line">      font-size: 40px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panels"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel1"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hey<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Let's<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Dance<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Take<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Receive<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel3"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Experience<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>It<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Today<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel4"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Give<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>All<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>You can<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"panel panel5"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Life<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>In<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Motion<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS-step-by-step"><a href="#CSS-step-by-step" class="headerlink" title="CSS - step by step"></a>CSS - step by step</h2><p>原本的 <code>.panels</code> 為直行，現在透過 <code>flex</code> 來改變排列方式，變為橫排並將內容 <code>.panel</code> 佔據整個版面一等份</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    /* 上略 */</span><br><span class="line">    .panels &#123;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      display: flex; </span><br><span class="line">/* flex 橫排 */      </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel &#123;</span><br><span class="line">    flex: 1; </span><br><span class="line">      /* 均等份 */</span><br><span class="line">      background: #6B0F9C;</span><br><span class="line">      box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);</span><br><span class="line">      color: white;</span><br><span class="line">      text-align: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      transition:</span><br><span class="line">        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        background 0.2s;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      background-size: cover;</span><br><span class="line">      background-position: center;</span><br><span class="line">    &#125;</span><br><span class="line">    /* 下略 */</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>Flex</code> 主軸為橫向（文字會左到右），內層的 <code>.panel</code> 要來改變主軸方向並置中</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    /* 上略 */</span><br><span class="line">    .panels &#123;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      display: flex;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel &#123;</span><br><span class="line">      flex: 1;</span><br><span class="line">      display: flex;</span><br><span class="line">      flex-direction: column;</span><br><span class="line">      justify-content: center;</span><br><span class="line">      /* 改變主軸方向並置中 */</span><br><span class="line">      </span><br><span class="line">      background: #6B0F9C;</span><br><span class="line">      box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);</span><br><span class="line">      color: white;</span><br><span class="line">      text-align: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      transition:</span><br><span class="line">        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        background 0.2s;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      background-size: cover;</span><br><span class="line">      background-position: center;</span><br><span class="line">    &#125;</span><br><span class="line">    /* 下略 */</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>子層 <code>.panel &gt; *</code> 也要有垂直置中效果，並讓上下的標籤 <code>p</code> 文字偏移出去中間的標籤 <code>p</code> 文字後才能加入動畫</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    /* 上略 */</span><br><span class="line"></span><br><span class="line">    .panels &#123;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      display: flex;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel &#123;</span><br><span class="line">      flex: 1;</span><br><span class="line">      display: flex;</span><br><span class="line">      flex-direction: column;</span><br><span class="line">      justify-content: center;</span><br><span class="line"></span><br><span class="line">      background: #6B0F9C;</span><br><span class="line">      box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);</span><br><span class="line">      color: white;</span><br><span class="line">      text-align: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      transition:</span><br><span class="line">        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        background 0.2s;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      background-size: cover;</span><br><span class="line">      background-position: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* 略 */</span><br><span class="line"></span><br><span class="line">    /* Flex Children */</span><br><span class="line">    .panel &gt; * &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      width: 100%;</span><br><span class="line">      transition: transform 0.5s;</span><br><span class="line"></span><br><span class="line">/* 等份並垂直置中 */</span><br><span class="line">      flex: 1;</span><br><span class="line">      display: flex;</span><br><span class="line">      justify-content: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  /* 上下的文字偏移中間的文字 */</span><br><span class="line">  .panel &gt; *:first-child&#123;</span><br><span class="line">      transform: translateY(-100%);</span><br><span class="line">    &#125;</span><br><span class="line">    .panel &gt; *:last-child&#123;</span><br><span class="line">      transform: translateY(100%);</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  /* JS時需要toggle的class 讓文字偏移回來 */</span><br><span class="line">    .panel.open-active &gt; *:first-child&#123;</span><br><span class="line">      transform: translateY(0%);</span><br><span class="line">    &#125;</span><br><span class="line">    .panel.open-active &gt; *:last-child&#123;</span><br><span class="line">      transform: translateY(0%);</span><br><span class="line">    &#125;</span><br><span class="line">/* JS時需要toggle的class 文字放大及flex等份要變大 */</span><br><span class="line">  .panel.open &#123;</span><br><span class="line">      font-size: 40px;</span><br><span class="line">      flex: 3;</span><br><span class="line">    &#125;</span><br><span class="line">    /* 下略 */</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，抓出整個外層的 NodeList 並設為變數 panels 吧！忘記有 All 跟沒有 All 的差別可以看 Day 1 JavaScript Drum Kit 的文章，或者在這個程式碼中直接 console.log 印出來看看～</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(panels)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript"><span class="comment">// NodeList(5) [div.panel.panel1, div.panel.panel2, div.panel.panel3, </span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// div.panel.panel4, div.panel.panel5]</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>記得 panels 不是一個陣列所以透過 <code>foreach</code> 讀出每個 List，方法中監聽假設使用者有 <code>click</code> 的話，就會呼叫方法 <code>clickHandler</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">panel</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'click'</span>,clickHandler)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>clickHandler</code> 方法來對 <code>.panel</code> 增加 Class <code>.panel.open</code> (字體放大、Flex 等份變大)，因為要能放大後再點又能縮小，所以用 <code>toggle</code> 來新增、移除，與Jquery的概念相同，對應如下：</p><p>JS：classList.add / classList.remove / classList.toogle<br>Jquery：addClass / removeClass / googleClass</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">panel</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'click'</span>,clickHandler)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.classList.toggle(<span class="string">'open'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>現在要來做第二段動畫，在這邊我們希望在第一段動畫完成之後再做第二段動畫，所以我們來 <code>transitionend</code> 呼叫 <code>transitionendHandler</code> 方法看看 click 動畫結束後回傳什麼</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">panel</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'click'</span>,clickHandler)</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'transitionend'</span>,transitionendHandler)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.classList.toggle(<span class="string">'open'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">transitionendHandler</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TransitionEvent &#123;isTrusted: true, propertyName: "font-size", elapsedTime: 0.7, pseudoElement: "", type: "transitionend", …&#125;</span></span><br><span class="line"><span class="comment">// TransitionEvent &#123;isTrusted: true, propertyName: "flex-grow", elapsedTime: 0.7, pseudoElement: "", type: "transitionend", …&#125;</span></span><br></pre></td></tr></table></figure><p>看到了觸發兩個事件有什麼關聯呢？其實會有個Bug，因為假設直接寫了 toogle 在 <code>transitionendHandler</code> 中的話，事件有兩個所以被觸發了兩次，導致上下的文字進來了又出去，但如果今天回傳的事件是奇數又會可以觸發。因此，我們要寫個判斷式來觸發 Class <code>open-active</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">panel</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'click'</span>,clickHandler)</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'transitionend'</span>,transitionendHandler)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.classList.toggle(<span class="string">'open'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">transitionendHandler</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(e.propertyName.indexOf(<span class="string">'flex'</span>) !== <span class="number">-1</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.classList.toggle(<span class="string">'open-active'</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><p>indexOf()：方法會回傳給定元素於陣列中第一個被找到之索引，若不存在於陣列中則回傳 -1。</p><p>Array.prototype.indexOf()：<a href="https://ubin.io/zgWY3u" target="_blank" rel="noopener">https://ubin.io/zgWY3u</a>    </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> beasts = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'bison'</span>];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>));</span><br><span class="line"><span class="comment">// expected output: 1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: 4</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'giraffe'</span>));</span><br><span class="line"><span class="comment">// expected output: -1</span></span><br></pre></td></tr></table></figure></li></ul><p>就大功告成啦！</p><h2 id="CSS-Final"><a href="#CSS-Final" class="headerlink" title="CSS - Final"></a>CSS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">      font-family: 'helvetica neue';</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      font-weight: 200;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    body &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    *, *:before, *:after &#123;</span><br><span class="line">      box-sizing: inherit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panels &#123;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      display: flex;  </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel &#123;</span><br><span class="line">      flex: 1;</span><br><span class="line">      display: flex;</span><br><span class="line">      flex-direction: column;</span><br><span class="line">      justify-content: center;</span><br><span class="line"></span><br><span class="line">      background: #6B0F9C;</span><br><span class="line">      box-shadow: inset 0 0 0 5px rgba(255,255,255,0.1);</span><br><span class="line">      color: white;</span><br><span class="line">      text-align: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      transition:</span><br><span class="line">        font-size 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        flex 0.7s cubic-bezier(0.61,-0.19, 0.7,-0.11),</span><br><span class="line">        background 0.2s;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      background-size: cover;</span><br><span class="line">      background-position: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel1 &#123; background-image:url(https://source.unsplash.com/gYl-UtwNg_I/1500x1500); &#125;</span><br><span class="line">    .panel2 &#123; background-image:url(https://source.unsplash.com/rFKUFzjPYiQ/1500x1500); &#125;</span><br><span class="line">    .panel3 &#123; background-image:url(https://images.unsplash.com/photo-1465188162913-8fb5709d6d57?ixlib=rb-0.3.5&amp;q=80&amp;fm=jpg&amp;crop=faces&amp;cs=tinysrgb&amp;w=1500&amp;h=1500&amp;fit=crop&amp;s=967e8a713a4e395260793fc8c802901d); &#125;</span><br><span class="line">    .panel4 &#123; background-image:url(https://source.unsplash.com/ITjiVXcwVng/1500x1500); &#125;</span><br><span class="line">    .panel5 &#123; background-image:url(https://source.unsplash.com/3MNzGlQM7qs/1500x1500); &#125;</span><br><span class="line"></span><br><span class="line">    /* Flex Children */</span><br><span class="line">    .panel &gt; * &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      width: 100%;</span><br><span class="line">      transition: transform 0.5s;</span><br><span class="line">      flex: 1;</span><br><span class="line">      display: flex;</span><br><span class="line">      justify-content: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel p &#123;</span><br><span class="line">      text-transform: uppercase;</span><br><span class="line">      font-family: 'Amatic SC', cursive;</span><br><span class="line">      text-shadow: 0 0 4px rgba(0, 0, 0, 0.72), 0 0 14px rgba(0, 0, 0, 0.45);</span><br><span class="line">      font-size: 2em;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .panel &gt; *:first-child&#123;</span><br><span class="line">      transform: translateY(-100%);</span><br><span class="line">    &#125;</span><br><span class="line">    .panel &gt; *:last-child&#123;</span><br><span class="line">      transform: translateY(100%);</span><br><span class="line">    &#125;</span><br><span class="line">    .panel.open-active &gt; *:first-child&#123;</span><br><span class="line">      transform: translateY(0%);</span><br><span class="line">    &#125;</span><br><span class="line">    .panel.open-active &gt; *:last-child&#123;</span><br><span class="line">      transform: translateY(0%);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .panel p:nth-child(2) &#123;</span><br><span class="line">      font-size: 4em;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .panel.open &#123;</span><br><span class="line">      font-size: 40px;</span><br><span class="line">      flex: 3;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> panels = <span class="built_in">document</span>.querySelectorAll(<span class="string">".panel"</span>)</span></span><br><span class="line"><span class="javascript">    panels.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">panel</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'click'</span>,clickHandler)</span></span><br><span class="line"><span class="javascript">      panel.addEventListener(<span class="string">'transitionend'</span>,transitionendHandler)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.classList.toggle(<span class="string">'open'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">transitionendHandler</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(e.propertyName.indexOf(<span class="string">'flex'</span>) !== <span class="number">-1</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.classList.toggle(<span class="string">'open-active'</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/M7Z0xW" target="_blank" rel="noopener">https://reurl.cc/M7Z0xW</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;05-Flex-Panel-Gallery&quot;&gt;&lt;a href=&quot;#05-Flex-Panel-Gallery&quot; class=&quot;headerlink&quot; title=&quot;05 - Flex Panel Gallery&quot;&gt;&lt;/a&gt;05 - Flex Panel Galle
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村04 - Array Cardio Day 1</title>
    <link href="http://chestertang.site/2019/09/19/javascript04/"/>
    <id>http://chestertang.site/2019/09/19/javascript04/</id>
    <published>2019-09-18T23:22:55.000Z</published>
    <updated>2019-09-19T23:28:41.786Z</updated>
    
    <content type="html"><![CDATA[<h1 id="04-Array-Cardio-Day-1"><a href="#04-Array-Cardio-Day-1" class="headerlink" title="04 - Array Cardio Day 1"></a>04 - Array Cardio Day 1</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><p>Javascript基本的Array方法運用：</p><ul><li><p>運用高階函式的三大支柱：map、filter、reduce 處理 <code>inventors</code>、 <code>people</code> 陣列</p></li><li><p>每一題會指定一個 Array Method，透過 console.log / console.table（不支援IE喔！）來解題</p></li><li><p>小試身手一題</p></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Array Cardio 💪<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Psst: have a look at the JavaScript Console<span class="tag">&lt;/<span class="name">em</span>&gt;</span> 💁<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    const inventors = [</span><br><span class="line">      &#123; first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 &#125;,</span><br><span class="line">      &#123; first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 &#125;,</span><br><span class="line">      &#123; first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 &#125;,</span><br><span class="line">      &#123; first: 'Marie', last: 'Curie', year: 1867, passed: 1934 &#125;,</span><br><span class="line">      &#123; first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 &#125;,</span><br><span class="line">      &#123; first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 &#125;,</span><br><span class="line">      &#123; first: 'Max', last: 'Planck', year: 1858, passed: 1947 &#125;,</span><br><span class="line">      &#123; first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 &#125;,</span><br><span class="line">      &#123; first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 &#125;,</span><br><span class="line">      &#123; first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 &#125;,</span><br><span class="line">      &#123; first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 &#125;,</span><br><span class="line">      &#123; first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 &#125;</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];</span><br><span class="line"></span><br><span class="line">    // Array.prototype.filter()</span><br><span class="line">    // 1. Filter the list of inventors for those who were born in the 1500's</span><br><span class="line"></span><br><span class="line">    // Array.prototype.map()</span><br><span class="line">    // 2. Give us an array of the inventors' first and last names</span><br><span class="line"></span><br><span class="line">    // Array.prototype.sort()</span><br><span class="line">    // 3. Sort the inventors by birthdate, oldest to youngest</span><br><span class="line"></span><br><span class="line">    // Array.prototype.reduce()</span><br><span class="line">    // 4. How many years did all the inventors live?</span><br><span class="line"></span><br><span class="line">    // 5. Sort the inventors by years lived</span><br><span class="line"></span><br><span class="line">    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name</span><br><span class="line">    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // 7. sort Exercise</span><br><span class="line">    // Sort the people alphabetically by last name</span><br><span class="line"></span><br><span class="line">    // 8. Reduce Exercise</span><br><span class="line">    // Sum up the instances of each of these</span><br><span class="line">    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h2><ul><li><p>console.table(data [, columns])</p><p>data：必須是 Array || Hash 、 columns：一個包含列的名稱和 Array</p></li></ul><p>  試著在 console 中玩玩看這個範例：</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.table([<span class="string">"apples"</span>, <span class="string">"oranges"</span>, <span class="string">"bananas"</span>]);</span><br></pre></td></tr></table></figure><p>  陣列裡面包含物件的範例：</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">firstName, lastName</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">  <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> john = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="string">"Smith"</span>);</span><br><span class="line"><span class="keyword">var</span> jane = <span class="keyword">new</span> Person(<span class="string">"Jane"</span>, <span class="string">"Doe"</span>);</span><br><span class="line"><span class="keyword">var</span> emily = <span class="keyword">new</span> Person(<span class="string">"Emily"</span>, <span class="string">"Jones"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.table([john, jane, emily]);</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><ol><li><p>從 inventors 的變數中透過 <code>filter</code> 找出出生在15世紀的人：</p><ul><li>filter：篩選抽出符合條件的保留下來，成為新的一個陣列，不會影響到原始資料（回傳是True或False）<br>Array.prototype.filter()：<a href="https://ubin.io/NV9EDk" target="_blank" rel="noopener">https://ubin.io/NV9EDk</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fifteen = inventors.filter(<span class="function"><span class="keyword">function</span>(<span class="params">inventor</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> inventor.year &gt;= <span class="number">1500</span> &amp;&amp; inventor.year &lt; <span class="number">1600</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.table(fifteen)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>從 inventors 的變數中透過 <code>map</code> 合併 inventors’ first and last names：</p><ul><li>map：一樣產生一個新陣列，新陣列會紀錄回傳新的內容<br>Array.prototype.map()：<a href="https://ubin.io/cdqWhm" target="_blank" rel="noopener">https://ubin.io/cdqWhm</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> fullnames = inventors.map(<span class="function"><span class="keyword">function</span>(<span class="params">inventor</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> inventor.first + <span class="string">' '</span> + inventor.last</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.table(fullnames)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>從 inventors 的變數中透過 <code>sort</code> 排序 <code>year</code> 欄位由小至大：</p><ul><li>sort：對一個陣列的所有元素進行排序，並回傳此陣列<br>Array.prototype.sort()：<a href="https://ubin.io/62RcBV" target="_blank" rel="noopener">https://ubin.io/62RcBV</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ordered = inventors.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.year &gt; b.year ? <span class="number">1</span> : <span class="number">-1</span></span><br><span class="line">  <span class="comment">// compareFunction(a, b) 的回傳值若小於 0，即 a 排在 b 前面，反之</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.table(ordered)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>從 inventors 的變數中透過 <code>reduce</code> 算出每個人各活了多久：</p><ul><li>reduce：累加器 total 及陣列中每項元素（由左至右）傳入回呼函式並將陣列化為單一值<br>Array.prototype.reduce()：<a href="https://ubin.io/Rgsbh1" target="_blank" rel="noopener">https://ubin.io/Rgsbh1</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">let</span> totalYears = inventors.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total,inventor</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">return</span> total + (inventor.passed - inventor.year)</span><br><span class="line">   &#125;, <span class="number">0</span>) <span class="comment">// 初始值</span></span><br><span class="line">   <span class="built_in">console</span>.log(totalYears)</span><br><span class="line">   <span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">5. 從 inventors 的變數中透過 `</span>sort<span class="string">` 排序活得長至短：</span></span><br><span class="line"><span class="string">   - 結合上方的 `</span>sort<span class="string">` 與 `</span>reduce<span class="string">` 中計算活多久的算式</span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>javascript</span><br><span class="line">   <span class="keyword">let</span> oldest = inventors.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">return</span> (a.passed - a.year) &gt; (b.passed - b.year) ? <span class="number">-1</span> : <span class="number">1</span></span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="built_in">console</span>.table(oldest)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>去連結網站尋找 名字裡面有包含 ‘de’ 的姓名：</p><ul><li>至連結打開 console 執行</li><li>透過 <code>querySelectorAll</code> 抓到的值不是陣列所以沒有 <code>map</code> ，必須依靠 <code>Array.from</code> 來轉成陣列<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> category = <span class="built_in">document</span>.querySelector(<span class="string">'.mw-category'</span>)</span><br><span class="line">    <span class="keyword">let</span> links = <span class="built_in">Array</span>.from(category.querySelectorAll(<span class="string">'a'</span>))</span><br><span class="line">    <span class="keyword">let</span> de = links</span><br><span class="line">                .map(<span class="function"><span class="params">link</span> =&gt;</span> link.textContent)</span><br><span class="line">                .filter(<span class="function"><span class="params">streetName</span> =&gt;</span> streetName.includes(<span class="string">'de'</span>))</span><br></pre></td></tr></table></figure></li></ul></li><li><p>從 people 的變數中透過 <code>split</code> 切開姓名並用 <code>sort</code> 排序活得長至短：</p><ul><li>Split：用於把一個一串分割成一個個字串組<br>String.prototype.split()：<a href="https://ubin.io/wgKJ42" target="_blank" rel="noopener">https://ubin.io/wgKJ42</a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> alphabetically = people.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">let</span> [alast, afirst] = a.split(<span class="string">', '</span>)</span><br><span class="line">  <span class="keyword">let</span> [blast, bfirst] = b.split(<span class="string">', '</span>)</span><br><span class="line">  <span class="keyword">return</span> alast &gt; blast ? <span class="number">1</span> : <span class="number">-1</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.table(alphabetically)</span><br></pre></td></tr></table></figure></li></ul></li><li><p>紀錄每個 data 中的物件共出現幾次：</p><ul><li>如果沒有這個物件，必須設為一、有的話每次讀到要加一<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> transportation = data.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">obj,content</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!obj[content]) obj[content] = <span class="number">1</span></span><br><span class="line">  <span class="keyword">else</span> obj[content] += <span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;,&#123;&#125;)</span><br><span class="line"><span class="built_in">console</span>.table(transportation)</span><br></pre></td></tr></table></figure></li></ul></li></ol><p>   同類型題目小試身手：</p>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.prototype.inspect = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> students = [</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">"John Doe"</span>, <span class="attr">age</span>: <span class="number">24</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">"Mary Lee"</span>, <span class="attr">age</span>: <span class="number">17</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">"Bill Doe"</span>,  <span class="attr">age</span>: <span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">"Ash Lee"</span>,  <span class="attr">age</span>: <span class="number">38</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">"Ryu Doe"</span>,  <span class="attr">age</span>: <span class="number">18</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = </span><br><span class="line">  students.filter(<span class="function">(<span class="params">&#123;age&#125;</span>) =&gt;</span> age &gt;= <span class="number">18</span>)</span><br><span class="line">          .map(<span class="function">(<span class="params">&#123;name&#125;</span>) =&gt;</span> name.split(<span class="string">' '</span>)[<span class="number">1</span>])</span><br><span class="line">          .inspect()</span><br><span class="line">          .reduce(<span class="function">(<span class="params">accu, name</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (accu[name]) &#123;</span><br><span class="line">              accu[name] = accu[name] + <span class="number">1</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              accu[name] = <span class="number">1</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> accu</span><br><span class="line">          &#125;, &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// Get your shorts on - this is an array workout!</span></span><br><span class="line">  <span class="comment">// ## Array Cardio Day 1</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Some data we can work with</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> inventors = [</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Albert'</span>, <span class="attr">last</span>: <span class="string">'Einstein'</span>, <span class="attr">year</span>: <span class="number">1879</span>, <span class="attr">passed</span>: <span class="number">1955</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Isaac'</span>, <span class="attr">last</span>: <span class="string">'Newton'</span>, <span class="attr">year</span>: <span class="number">1643</span>, <span class="attr">passed</span>: <span class="number">1727</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Galileo'</span>, <span class="attr">last</span>: <span class="string">'Galilei'</span>, <span class="attr">year</span>: <span class="number">1564</span>, <span class="attr">passed</span>: <span class="number">1642</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Marie'</span>, <span class="attr">last</span>: <span class="string">'Curie'</span>, <span class="attr">year</span>: <span class="number">1867</span>, <span class="attr">passed</span>: <span class="number">1934</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Johannes'</span>, <span class="attr">last</span>: <span class="string">'Kepler'</span>, <span class="attr">year</span>: <span class="number">1571</span>, <span class="attr">passed</span>: <span class="number">1630</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Nicolaus'</span>, <span class="attr">last</span>: <span class="string">'Copernicus'</span>, <span class="attr">year</span>: <span class="number">1473</span>, <span class="attr">passed</span>: <span class="number">1543</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Max'</span>, <span class="attr">last</span>: <span class="string">'Planck'</span>, <span class="attr">year</span>: <span class="number">1858</span>, <span class="attr">passed</span>: <span class="number">1947</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Katherine'</span>, <span class="attr">last</span>: <span class="string">'Blodgett'</span>, <span class="attr">year</span>: <span class="number">1898</span>, <span class="attr">passed</span>: <span class="number">1979</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Ada'</span>, <span class="attr">last</span>: <span class="string">'Lovelace'</span>, <span class="attr">year</span>: <span class="number">1815</span>, <span class="attr">passed</span>: <span class="number">1852</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Sarah E.'</span>, <span class="attr">last</span>: <span class="string">'Goode'</span>, <span class="attr">year</span>: <span class="number">1855</span>, <span class="attr">passed</span>: <span class="number">1905</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Lise'</span>, <span class="attr">last</span>: <span class="string">'Meitner'</span>, <span class="attr">year</span>: <span class="number">1878</span>, <span class="attr">passed</span>: <span class="number">1968</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">first</span>: <span class="string">'Hanna'</span>, <span class="attr">last</span>: <span class="string">'Hammarström'</span>, <span class="attr">year</span>: <span class="number">1829</span>, <span class="attr">passed</span>: <span class="number">1909</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> people = [<span class="string">'Beck, Glenn'</span>, <span class="string">'Becker, Carl'</span>, <span class="string">'Beckett, Samuel'</span>, <span class="string">'Beddoes, Mick'</span>, <span class="string">'Beecher, Henry'</span>, <span class="string">'Beethoven, Ludwig'</span>, <span class="string">'Begin, Menachem'</span>, <span class="string">'Belloc, Hilaire'</span>, <span class="string">'Bellow, Saul'</span>, <span class="string">'Benchley, Robert'</span>, <span class="string">'Benenson, Peter'</span>, <span class="string">'Ben-Gurion, David'</span>, <span class="string">'Benjamin, Walter'</span>, <span class="string">'Benn, Tony'</span>, <span class="string">'Bennington, Chester'</span>, <span class="string">'Benson, Leana'</span>, <span class="string">'Bent, Silas'</span>, <span class="string">'Bentsen, Lloyd'</span>, <span class="string">'Berger, Ric'</span>, <span class="string">'Bergman, Ingmar'</span>, <span class="string">'Berio, Luciano'</span>, <span class="string">'Berle, Milton'</span>, <span class="string">'Berlin, Irving'</span>, <span class="string">'Berne, Eric'</span>, <span class="string">'Bernhard, Sandra'</span>, <span class="string">'Berra, Yogi'</span>, <span class="string">'Berry, Halle'</span>, <span class="string">'Berry, Wendell'</span>, <span class="string">'Bethea, Erin'</span>, <span class="string">'Bevan, Aneurin'</span>, <span class="string">'Bevel, Ken'</span>, <span class="string">'Biden, Joseph'</span>, <span class="string">'Bierce, Ambrose'</span>, <span class="string">'Biko, Steve'</span>, <span class="string">'Billings, Josh'</span>, <span class="string">'Biondo, Frank'</span>, <span class="string">'Birrell, Augustine'</span>, <span class="string">'Black, Elk'</span>, <span class="string">'Blair, Robert'</span>, <span class="string">'Blair, Tony'</span>, <span class="string">'Blake, William'</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.filter()</span></span><br><span class="line">  <span class="comment">// 1. Filter the list of inventors for those who were born in the 1500's</span></span><br><span class="line">  <span class="keyword">let</span> fifteen = inventors.filter(<span class="function"><span class="keyword">function</span>(<span class="params">inventor</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> inventor.year &gt;= <span class="number">1500</span> &amp;&amp; inventor.year &lt; <span class="number">1600</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// console.table(fifteen)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.map()</span></span><br><span class="line">  <span class="comment">// 2. Give us an array of the inventors' first and last names</span></span><br><span class="line">  <span class="keyword">let</span> fullnames = inventors.map(<span class="function"><span class="keyword">function</span>(<span class="params">inventor</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> inventor.first + <span class="string">' '</span> + inventor.last</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// console.table(fullnames)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.sort()</span></span><br><span class="line">  <span class="comment">// 3. Sort the inventors by birthdate, oldest to youngest</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> ordered = inventors.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.year &gt; b.year ? <span class="number">1</span> : <span class="number">-1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// console.table(ordered)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.reduce()</span></span><br><span class="line">  <span class="comment">// 4. How many years did all the inventors live?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> totalYears = inventors.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">total,inventor</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> total + (inventor.passed - inventor.year)</span><br><span class="line">  &#125;, <span class="number">0</span>)</span><br><span class="line">  <span class="comment">// console.log(totalYears)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 5. Sort the inventors by years lived</span></span><br><span class="line">  <span class="keyword">let</span> oldest = inventors.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (a.passed - a.year) &gt; (b.passed - b.year) ? <span class="number">-1</span> : <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// console.table(oldest)</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name</span></span><br><span class="line">  <span class="comment">// https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// let category = document.querySelector('.mw-category')</span></span><br><span class="line">  <span class="comment">// let links = Array.from(category.querySelectorAll('a'))</span></span><br><span class="line">  <span class="comment">// let de = links</span></span><br><span class="line">  <span class="comment">//             .map(link =&gt; link.textContent)</span></span><br><span class="line">  <span class="comment">//             .filter(streetName =&gt; streetName.includes('de'))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 7. sort Exercise</span></span><br><span class="line">  <span class="comment">// Sort the people alphabetically by last name</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> alphabetically = people.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> [alast, afirst] = a.split(<span class="string">', '</span>)</span><br><span class="line">    <span class="keyword">let</span> [blast, bfirst] = b.split(<span class="string">', '</span>)</span><br><span class="line">    <span class="keyword">return</span> alast &gt; blast ? <span class="number">1</span> : <span class="number">-1</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.table(alphabetically)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 8. Reduce Exercise</span></span><br><span class="line">  <span class="comment">// Sum up the instances of each of these</span></span><br><span class="line">  <span class="keyword">const</span> data = [<span class="string">'car'</span>, <span class="string">'car'</span>, <span class="string">'truck'</span>, <span class="string">'truck'</span>, <span class="string">'bike'</span>, <span class="string">'walk'</span>, <span class="string">'car'</span>, <span class="string">'van'</span>, <span class="string">'bike'</span>, <span class="string">'walk'</span>, <span class="string">'car'</span>, <span class="string">'van'</span>, <span class="string">'car'</span>, <span class="string">'truck'</span> ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> transportation = data.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">obj,content</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!obj[content]) obj[content] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span> obj[content] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> obj</span><br><span class="line">  &#125;,&#123;&#125;)</span><br><span class="line">  <span class="built_in">console</span>.table(transportation)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/9zZGYv" target="_blank" rel="noopener">https://reurl.cc/9zZGYv</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;04-Array-Cardio-Day-1&quot;&gt;&lt;a href=&quot;#04-Array-Cardio-Day-1&quot; class=&quot;headerlink&quot; title=&quot;04 - Array Cardio Day 1&quot;&gt;&lt;/a&gt;04 - Array Cardio Day
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村03 - CSS Variables</title>
    <link href="http://chestertang.site/2019/09/18/javascript03/"/>
    <id>http://chestertang.site/2019/09/18/javascript03/</id>
    <published>2019-09-17T22:55:46.000Z</published>
    <updated>2019-09-18T23:53:02.124Z</updated>
    
    <content type="html"><![CDATA[<h1 id="03-CSS-Variables"><a href="#03-CSS-Variables" class="headerlink" title="03 - CSS Variables"></a>03 - CSS Variables</h1><p>俗話說的好，一天一蘋果，醫生遠離我<br>一天一 JS，What the f*ck JavaScript？<br>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><p>先寫一段 CSS 來改變 img 的 padding &amp; filter &amp; backgorund<br>畫面有三個變數: <code>Space</code>, <code>Blur</code>, <code>Base Color</code>，當我們在畫面拉動時它會立即更新畫面</p><ul><li>功能<ul><li>拉動、點擊</li></ul></li><li>畫面<ul><li>改變控制項會立即改變畫面</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><p>html 的整體結構如下所示， <code>class=&quot;controls&quot;</code> 包住 <code>label+input</code> 並且在 <code>id=&quot;spacing&quot;</code> 中有 <code>type=&quot;range&quot;</code> 與 <code>type=&quot;range&quot;</code> 可以調整控制項與選擇顏色以更動下方的照片。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Scoped CSS Variables and JS<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Update CSS Variables with <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">'hl'</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"spacing"</span>&gt;</span>Spacing:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"spacing"</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"spacing"</span> <span class="attr">min</span>=<span class="string">"10"</span> <span class="attr">max</span>=<span class="string">"200"</span> <span class="attr">value</span>=<span class="string">"10"</span> <span class="attr">data-sizing</span>=<span class="string">"px"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"blur"</span>&gt;</span>Blur:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"blur"</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"blur"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"25"</span> <span class="attr">value</span>=<span class="string">"10"</span> <span class="attr">data-sizing</span>=<span class="string">"px"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"base"</span>&gt;</span>Base Color<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"base"</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">name</span>=<span class="string">"base"</span> <span class="attr">value</span>=<span class="string">"#ffc600"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"https://source.unsplash.com/7bwQXzbF6KE/800x500"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">      misc styles, nothing to do with CSS variables</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">    body &#123;</span><br><span class="line">      text-align: center;</span><br><span class="line">      background: #193549;</span><br><span class="line">      color: white;</span><br><span class="line">      font-family: 'helvetica neue', sans-serif;</span><br><span class="line">      font-weight: 100;</span><br><span class="line">      font-size: 50px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .controls &#123;</span><br><span class="line">      margin-bottom: 50px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input &#123;</span><br><span class="line">      width: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Html"><a href="#Html" class="headerlink" title="Html"></a>Html</h2><ul><li><p>type=”range”、type=”color”</p><p>type 屬性規定 input 元素的類型，其屬性值可以有 button、checkbox、file、hidden、image、password、radio、reset、submit、text。而 color、range兩者為 HTML5 新的屬性值</p></li></ul><p>Color：使用者可以開啟選擇顏色器選取所要之顏色</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Color: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"color"</span> <span class="attr">name</span>=<span class="string">"user_color"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>Range：使用者可以滑動選擇範圍內的數值</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"points"</span> <span class="attr">min</span>=<span class="string">"1"</span> <span class="attr">max</span>=<span class="string">"10"</span> /&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><ul><li><p>透過 JS 研究 CSS 中的 :root 是什麼？</p><p>也可以把 :root 變成 html，它指的是指向文件根的標籤</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">':root'</span>)</span><br><span class="line"><span class="comment">// html</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">':root'</span>) === <span class="built_in">document</span>.querySelector(<span class="string">'html'</span>)</span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">':root'</span>) === <span class="built_in">document</span>.documentElement</span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="CSS-step-by-step"><a href="#CSS-step-by-step" class="headerlink" title="CSS - step by step"></a>CSS - step by step</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    :root &#123;</span><br><span class="line">      --base: #ffc600;</span><br><span class="line">      --spacing: 10px;</span><br><span class="line">      --blur: 10px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    img &#123;</span><br><span class="line">      padding: var(--spacing);</span><br><span class="line">      background: var(--base);</span><br><span class="line">      filter: blur(var(--blur));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .hl &#123;</span><br><span class="line">      color: var(--base);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /*下略*/ </span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，透過 <code>querySelectorAll</code> 抓出 class=”controls” 內的 input 標籤，設定變數為 inputs，記得如這樣抓出來的 inputs 是一個 List，他是沒有辦法使用 map 的！</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">const</span> inputs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.controls input'</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>將抓出來的 List 透過迴圈並用 <code>addEventListener</code> 來監視假設 input 裡的 value 更換會呼叫方法，方法會印出 HTML 中 input 的 name &amp; value（change在滑動時不會呼叫方法，放開滑鼠後才會執行、要持續的話必須要加上 <code>mousemove</code> ）</p><p>EventTarget.addEventListener()：<a href="https://ubin.io/AQGZfT" target="_blank" rel="noopener">https://ubin.io/AQGZfT</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> inputs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.controls input'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    inputs.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">'change'</span>,changeinput)</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">'mousemove'</span>,changeinput)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">changeinput</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.name,<span class="keyword">this</span>.value)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript"><span class="comment">// spacing 200 </span></span></span><br><span class="line"><span class="javascript"><span class="comment">// base #ff0000</span></span></span><br><span class="line"><span class="javascript"><span class="comment">// blur 20</span></span></span><br><span class="line"><span class="javascript">    <span class="comment">// ...</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可以印出值之後，透過 switch case 的方式來更換 CSS，如果是抓到 <code>spacing</code> 就要改動其 CSS 中的 padding，抓到 <code>blur</code> 就要改動其CSS 中的 filter 濾鏡，抓到 <code>base</code> 就要改動其 CSS 中的 background，</p><p>w3c filter：<a href="https://ubin.io/pg51KQ" target="_blank" rel="noopener">https://ubin.io/pg51KQ</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 上略</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">changeinput</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(this.name,this.value)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">switch</span> (<span class="keyword">this</span>.name) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`spacing`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.padding = <span class="keyword">this</span>.value + <span class="string">'px'</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`blur`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.filter = <span class="string">`blur(<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>px)`</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`base`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.background = <span class="keyword">this</span>.value</span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> inputs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.controls input'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    inputs.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">'change'</span>,changeinput)</span></span><br><span class="line"><span class="javascript">      input.addEventListener(<span class="string">'mousemove'</span>,changeinput)</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">changeinput</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// console.log(this.name,this.value)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">switch</span> (<span class="keyword">this</span>.name) &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`spacing`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.padding = <span class="keyword">this</span>.value + <span class="string">'px'</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`blur`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.filter = <span class="string">`blur(<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>px)`</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">case</span> <span class="string">`base`</span>:</span></span><br><span class="line"><span class="javascript">          <span class="built_in">document</span>.querySelector(<span class="string">'img'</span>).style.background = <span class="keyword">this</span>.value</span></span><br><span class="line"><span class="javascript">        <span class="keyword">break</span>;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/1QgokY" target="_blank" rel="noopener">https://reurl.cc/1QgokY</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;03-CSS-Variables&quot;&gt;&lt;a href=&quot;#03-CSS-Variables&quot; class=&quot;headerlink&quot; title=&quot;03 - CSS Variables&quot;&gt;&lt;/a&gt;03 - CSS Variables&lt;/h1&gt;&lt;p&gt;俗話說的好，一天一蘋
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村02 - JS and CSS Clock</title>
    <link href="http://chestertang.site/2019/09/17/javascript02/"/>
    <id>http://chestertang.site/2019/09/17/javascript02/</id>
    <published>2019-09-16T23:28:38.000Z</published>
    <updated>2019-09-18T23:26:07.053Z</updated>
    
    <content type="html"><![CDATA[<h1 id="02-JS-and-CSS-Clock"><a href="#02-JS-and-CSS-Clock" class="headerlink" title="02 - JS and CSS Clock"></a>02 - JS and CSS Clock</h1><p>俗話說的好，一天一蘋果，醫生遠離我<br>一天一 JS，What the f*ck JavaScript？<br>small steps every day - 記錄著新手村日記</p><h2 id="CSS-JS-Clock-完成目標"><a href="#CSS-JS-Clock-完成目標" class="headerlink" title="CSS+JS Clock 完成目標"></a>CSS+JS Clock 完成目標</h2><p>時鐘一開始就提供了一個鐘面，也寫好了三支指針</p><ul><li>功能<ul><li>顯示目前的時間並可以更新時針、分針、秒針</li></ul></li><li>畫面<ul><li>讀得到目前的時間</li><li>指針要能分辨長短</li><li>分針、時針的特性</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><p>html 的整體結構如下所示， <code>class=&quot;clock&quot;</code> 包住 <code>class=&quot;clock-face&quot;</code>，內部又有 <code>hand hour-hand</code> 、<code>hand min-hand</code> 和 <code>hand second-hand</code>  三個 <code>div</code> ，分別代表秒針、分針、時針</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS + CSS Clock<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"clock-face"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand hour-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand min-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hand second-hand"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      background: #018DED url(http://unsplash.it/1500/1000?image=881&amp;blur=5);</span><br><span class="line">      background-size: cover;</span><br><span class="line">      font-family: 'helvetica neue';</span><br><span class="line">      text-align: center;</span><br><span class="line">      font-size: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">    body &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      font-size: 2rem;</span><br><span class="line">      display: flex;</span><br><span class="line">      flex: 1;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.clock</span> &#123;</span></span><br><span class="line">      width: 30rem;</span><br><span class="line">      height: 30rem;</span><br><span class="line">      border: 20px solid white;</span><br><span class="line">      border-radius: 50%;</span><br><span class="line">      margin: 50px auto;</span><br><span class="line">      position: relative;</span><br><span class="line">      padding: 2rem;</span><br><span class="line">      box-shadow:</span><br><span class="line"><span class="css">        0 0 0 4<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,0<span class="selector-class">.1</span>),</span></span><br><span class="line"><span class="css">        <span class="selector-tag">inset</span> 0 0 0 3<span class="selector-tag">px</span> <span class="selector-id">#EFEFEF</span>,</span></span><br><span class="line">        inset 0 0 10px black,</span><br><span class="line"><span class="css">        0 0 10<span class="selector-tag">px</span> <span class="selector-tag">rgba</span>(0,0,0,0<span class="selector-class">.2</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.clock-face</span> &#123;</span></span><br><span class="line">      position: relative;</span><br><span class="line">      width: 100%;</span><br><span class="line">      height: 100%;</span><br><span class="line"><span class="css">      <span class="selector-tag">transform</span>: <span class="selector-tag">translateY</span>(<span class="selector-tag">-3px</span>); <span class="comment">/* account for the height of the clock hands */</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.hand</span> &#123;</span></span><br><span class="line">      width: 50%;</span><br><span class="line">      height: 6px;</span><br><span class="line">      background: black;</span><br><span class="line">      position: absolute;</span><br><span class="line">      top: 50%;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">style</span>&gt;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#018DED</span> <span class="built_in">url</span>(http://unsplash.it/1500/1000?image=881&amp;blur=5);</span><br><span class="line">      <span class="attribute">background-size</span>: cover;</span><br><span class="line">      <span class="attribute">font-family</span>: <span class="string">'helvetica neue'</span>;</span><br><span class="line">      <span class="attribute">text-align</span>: center;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">      <span class="attribute">display</span>: flex;</span><br><span class="line">      <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">      <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">      <span class="attribute">align-items</span>: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.clock</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">30rem</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30rem</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">20px</span> solid white;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">      <span class="attribute">position</span>: relative;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">2rem</span>;</span><br><span class="line">      <span class="attribute">box-shadow</span>:</span><br><span class="line">        <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">4px</span> <span class="built_in">rgba</span>(0,0,0,0.1),</span><br><span class="line">        inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">#EFEFEF</span>,</span><br><span class="line">        inset <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> black,</span><br><span class="line">        <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.clock-face</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: relative;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-3px); <span class="comment">/* account for the height of the clock hands */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.clock-face</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.hand</span> &#123;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.second-hand</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: <span class="number">#f00</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, 0%);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.min-hand</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">40%</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: white;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, 0%);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.hour-hand</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">      <span class="attribute">content</span>: <span class="string">''</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">display</span>: block;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">25%</span>;</span><br><span class="line">      <span class="attribute">background-color</span>: white;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, 0%);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先分別抓到秒針、分針、時針的 class 指定給變數 second、min、hour，在後方的計算時間時需要將三個針旋轉角度，達到時鐘的效果</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> second = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> min = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>)</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>可以使用 <code>new Date()</code> 來抓到現在的時間</p><p>Date()：<a href="https://ubin.io/WvAtZC" target="_blank" rel="noopener">https://ubin.io/WvAtZC</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> second = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> min = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>)</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript"><span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(data) </span></span><br><span class="line"><span class="javascript">    <span class="comment">// Sat Sep 14 2019 23:28:44 GMT+0800 (台北標準時間)</span></span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setClock()</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>算出一秒鐘、一分鐘、一小時中秒針、分針、時針需要轉動多少角度，一圈轉360度時，秒針、分針動一秒為6度、時針為30度，知道這件事情後，我們才能將三者指定為變數（但有小瑕疵稍後會解決）</p><p>Date.prototype.getSeconds()：<a href="https://ubin.io/Uw21Ep" target="_blank" rel="noopener">https://ubin.io/Uw21Ep</a><br>Date.prototype.Minutes()：<a href="https://ubin.io/L6mcH5" target="_blank" rel="noopener">https://ubin.io/L6mcH5</a><br>Date.prototype.getHours()：<a href="https://ubin.io/2DvLNS" target="_blank" rel="noopener">https://ubin.io/2DvLNS</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> second = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> min = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> secondDeg = data.getSeconds() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> minDeg = data.getMinutes() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hourDeg = data.getHours() * <span class="number">30</span> <span class="comment">// (deg = 360/12)</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    setClock()</span><br><span class="line"> <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>event.style.transform</code> 更動秒針、分針、時針的 CSS，要它們轉動個字的角度</p><p>Style transform Property：<a href="https://ubin.io/1LyRPt" target="_blank" rel="noopener">https://ubin.io/1LyRPt</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> second = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> min = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> secondDeg = data.getSeconds() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> minDeg = data.getMinutes() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hourDeg = data.getHours() * <span class="number">30</span> <span class="comment">// (deg = 360/12)</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      second.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      min.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      hour.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDeg&#125;</span>deg)`</span></span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    setClock()</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>setInterval()</code>  不斷在間隔固定的時間重複執行：程式碼中的 1000 代表每隔一秒就會呼叫一次函式 <code>setClock</code></p><p>setTimeout() / setInterval()：<a href="https://reurl.cc/Qp76ab" target="_blank" rel="noopener">https://reurl.cc/Qp76ab</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> second = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> min = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> secondDeg = data.getSeconds() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> minDeg = data.getMinutes() * <span class="number">6</span> <span class="comment">// (deg = 360/60)</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hourDeg = data.getHours() * <span class="number">30</span> <span class="comment">// (deg = 360/12)</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      second.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      min.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      hour.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDeg&#125;</span>deg)`</span></span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    setClock()</span><br><span class="line">    setInterval(setClock,1000) </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>還有一點小瑕疵…你會發現分針、時針不太符合常態，會真正到等分針、秒針轉完一圈才進位一大格，但應該是會慢慢的趨向於進一格，因此在抓角度的算式必須更動一下，可以試著畫圖想想看…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 上略</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">setClock</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="built_in">Date</span>()</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> secondDeg = data.getSeconds() * <span class="number">6</span> </span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> minDeg = data.getMinutes() * <span class="number">6</span> + data.getSeconds() * <span class="number">6</span> / <span class="number">60</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// 1min = 6deg / 60sec * secondDeg</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> hourDeg = data.getHours() * <span class="number">30</span> + data.getMinutes() * <span class="number">30</span> / <span class="number">60</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// 1hr = 30deg / 60min * minDeg</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">      second.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      min.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minDeg&#125;</span>deg)`</span></span></span><br><span class="line"><span class="javascript">      hour.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDeg&#125;</span>deg)`</span></span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    setClock()</span><br><span class="line">    setInterval(setClock,1000)</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> secondHand = <span class="built_in">document</span>.querySelector(<span class="string">'.second-hand'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> minsHand = <span class="built_in">document</span>.querySelector(<span class="string">'.min-hand'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> hourHand = <span class="built_in">document</span>.querySelector(<span class="string">'.hour-hand'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">setDate</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> seconds = now.getSeconds();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> secondsDegrees = ((seconds / <span class="number">60</span>) * <span class="number">360</span>) + <span class="number">90</span>;</span></span><br><span class="line"><span class="javascript">    secondHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;secondsDegrees&#125;</span>deg)`</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> mins = now.getMinutes();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> minsDegrees = ((mins / <span class="number">60</span>) * <span class="number">360</span>) + ((seconds/<span class="number">60</span>)*<span class="number">6</span>) + <span class="number">90</span>;</span></span><br><span class="line"><span class="javascript">    minsHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;minsDegrees&#125;</span>deg)`</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hour = now.getHours();</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> hourDegrees = ((hour / <span class="number">12</span>) * <span class="number">360</span>) + ((mins/<span class="number">60</span>)*<span class="number">30</span>) + <span class="number">90</span>;</span></span><br><span class="line"><span class="javascript">    hourHand.style.transform = <span class="string">`rotate(<span class="subst">$&#123;hourDegrees&#125;</span>deg)`</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setInterval(setDate, 1000);</span><br><span class="line"></span><br><span class="line">  setDate();</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/zybW5k" target="_blank" rel="noopener">https://reurl.cc/zybW5k</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;02-JS-and-CSS-Clock&quot;&gt;&lt;a href=&quot;#02-JS-and-CSS-Clock&quot; class=&quot;headerlink&quot; title=&quot;02 - JS and CSS Clock&quot;&gt;&lt;/a&gt;02 - JS and CSS Clock&lt;/h1&gt;&lt;
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村01 - JavaScript Drum Kit</title>
    <link href="http://chestertang.site/2019/09/16/javasciprt01/"/>
    <id>http://chestertang.site/2019/09/16/javasciprt01/</id>
    <published>2019-09-16T12:21:58.000Z</published>
    <updated>2019-09-18T17:44:41.983Z</updated>
    
    <content type="html"><![CDATA[<h1 id="01-JavaScript-Drum-Kit"><a href="#01-JavaScript-Drum-Kit" class="headerlink" title="01 - JavaScript Drum Kit"></a>01 - JavaScript Drum Kit</h1><p>俗話說的好，一天一蘋果，醫生遠離我<br>一天一JS，What the f*ck JavaScript？<br>small steps every day - 記錄著新手村日記</p><h2 id="Drum-Kit-完成目標"><a href="#Drum-Kit-完成目標" class="headerlink" title="Drum Kit 完成目標"></a>Drum Kit 完成目標</h2><p>一個鍵盤爵士鼓</p><ul><li>功能<ul><li>按下鍵盤，出現相對應的聲音</li></ul></li><li>畫面<ul><li>按下鍵盤，畫面上的字母方塊出現以下動畫<ul><li>黃色陰影</li><li>字母方塊放大1.1倍</li></ul></li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><p>html 的整體結構如下所示， <code>class=&quot;keys&quot;</code> 包住九個 <code>data-key=&quot;number&quot; class=&quot;key&quot;</code> 的 <code>div</code> ，內部又有用 <code>kbd</code> 和 <code>span</code> 標籤包住的文字，下方有 <code>audio</code> 標籤包 <code>data-key=&quot;number&quot; src=&quot;音檔&quot;</code> </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS Drum Kit<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"keys"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"65"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>A<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>clap<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"83"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>S<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>hihat<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"68"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>D<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>kick<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"70"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>F<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>openhat<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"71"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>G<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>boom<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"72"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>H<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>ride<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"74"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>J<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>snare<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"75"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>K<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>tom<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">data-key</span>=<span class="string">"76"</span> <span class="attr">class</span>=<span class="string">"key"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>L<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"sound"</span>&gt;</span>tink<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"65"</span> <span class="attr">src</span>=<span class="string">"sounds/clap.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"83"</span> <span class="attr">src</span>=<span class="string">"sounds/hihat.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"68"</span> <span class="attr">src</span>=<span class="string">"sounds/kick.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"70"</span> <span class="attr">src</span>=<span class="string">"sounds/openhat.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"71"</span> <span class="attr">src</span>=<span class="string">"sounds/boom.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"72"</span> <span class="attr">src</span>=<span class="string">"sounds/ride.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"74"</span> <span class="attr">src</span>=<span class="string">"sounds/snare.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"75"</span> <span class="attr">src</span>=<span class="string">"sounds/tom.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">data-key</span>=<span class="string">"76"</span> <span class="attr">src</span>=<span class="string">"sounds/tink.wav"</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Html"><a href="#Html" class="headerlink" title="Html"></a>Html</h2><ul><li><p>data-key</p><p>data-* 屬性是 HTML5 中的新屬性，後面的名稱我們可以自己定義，舉例來說：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"block"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"block1"</span> <span class="attr">data-myid</span>=<span class="string">"no1"</span>&gt;</span>請點我，我是編號一<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"block1"</span> <span class="attr">data-myid</span>=<span class="string">"no200"</span>&gt;</span>請點我，我是編號二百<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>利用 jQuery 取出 <code>data-myid</code> 的值</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#block .block1'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  alert($(<span class="keyword">this</span>).attr(<span class="string">"data-myid"</span>));      </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>kbd</p><p>kbd 標籤表示使用者輸入，它將產生一個行内元素(inline)，舉例來說：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Type the following in the Run dialog: <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>cmd<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span>Then click the OK button.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>Save the document by pressing <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>Ctrl<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span> + <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>S<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>執行結果</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Type the following in the Run dialog: cmd</span><br><span class="line">Then click the OK button.</span><br><span class="line"></span><br><span class="line">Save the document by pressing Ctrl + S</span><br></pre></td></tr></table></figure></li><li><p>data-key=”number” 中的 number 該為何？</p><p>每個鍵盤都分別有一個對應的 <code>event.key</code> 、<code>event.location</code>、<code>event.which</code>、<code>event.code</code>，以字母Ａ為例子，分別是A、0、65、KeyA</p><p>可以在這個網站中試試看：<a href="http://keycode.info/" target="_blank" rel="noopener">http://keycode.info/</a></p></li></ul><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(http://i.imgur.com/b9r5sEL.jpg) bottom center;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>,<span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.keys</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.key</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: .<span class="number">4rem</span> solid black;</span><br><span class="line">  <span class="attribute">border-radius</span>: .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.5rem</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span> .<span class="number">5rem</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">07s</span> ease;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10rem</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.4);</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">0</span> <span class="number">0</span> .<span class="number">5rem</span> black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.playing</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(1.1);</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1rem</span> <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">kbd</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">4rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sound</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2rem</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">  <span class="attribute">letter-spacing</span>: .<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先來驗證一下 html 中我們要抓的 <code>data-key</code> 的值，透過 <code>EventTarget.addEventListener()</code> 印出使用者按下按鍵後的 <code>KeyboardEvent</code></p><p>EventTarget.addEventListener()：<a href="https://ubin.io/SpgtjL" target="_blank" rel="noopener">https://ubin.io/SpgtjL</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(e)</span></span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>querySelector</code> 抓取按下字母，並可以對應出 HTML 中 div 與 audio 的 <code>data-key=&quot;number&quot;</code>，如果沒有這個值，console 會印出 null</p><p>document.querySelector()：<a href="https://ubin.io/ehKgvQ" target="_blank" rel="noopener">https://ubin.io/ehKgvQ</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(audio)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(key)</span></span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果 audio 存在，只需要 <code>audio.play()</code> 就可以播放音樂了！不過考量讓聲音重複播放的話，就必須將現在的時間設為 0，也就是下方的 <code>audio.currentTime=0</code>，按住字母Ａ來發射機關槍聲音吧w</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(audio)&#123; </span></span><br><span class="line">      audio.currentTime = 0</span><br><span class="line">      audio.play()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>同理，字母方塊在使用者按下按鍵也要給加 class (黃色陰影、放大1.1倍)，<code>key.classList.add(&#39;playing&#39;)</code> 如同 Jquery 的<code>.addClass()</code>，不過有新增就要有移除，現在黃色的特效會一直卡住沒有變回原本的樣子</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(audio)&#123;</span></span><br><span class="line">      audio.currentTime = 0</span><br><span class="line">      audio.play()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(key)&#123;</span></span><br><span class="line"><span class="javascript">      key.classList.add(<span class="string">'playing'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>先抓出所以 class 中有 .key 透過 forEach 讓每個 .key 讀出來，並呼叫 <code>removeTransition</code> 方法</p><p>document.querySelectorAll()：<a href="https://ubin.io/cVr2Ua" target="_blank" rel="noopener">https://ubin.io/cVr2Ua</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 略</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> keys = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.key'</span>)</span></span><br><span class="line"><span class="javascript">    keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      key.addEventListener(<span class="string">'transitionend'</span>, removeTransition)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e)</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>console 中每按一下按鍵就會觸發六個屬性：<code>border-left-color</code>、<code>border-right-color</code>、<code>border-top-color</code>、<code>transfrom</code>、<code>box-shadow</code>、<code>border-bottom-color</code>，除了<code>transform</code> 是動畫之外，其他是黃色陰影的部分。因此如果 <code>propertyName === &#39;transform&#39;</code> 的話，我們要移除 <code>playing</code> 這個 class</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="comment">// 略</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> keys = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.key'</span>)</span></span><br><span class="line"><span class="javascript">    keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      key.addEventListener(<span class="string">'transitionend'</span>, removeTransition)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(e.propertyName === <span class="string">'transform'</span>)&#123;</span></span><br><span class="line"><span class="javascript">        e.currentTarget.classList.remove(<span class="string">'playing'</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！來創作一首曲子吧w</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.addEventListener(<span class="string">'keydown'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> audio = <span class="built_in">document</span>.querySelector(<span class="string">`audio[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(audio)&#123;</span></span><br><span class="line">      audio.currentTime = 0</span><br><span class="line">      audio.play()</span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> key = <span class="built_in">document</span>.querySelector(<span class="string">`div[data-key="<span class="subst">$&#123;e.keyCode&#125;</span>"]`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">if</span>(key)&#123;</span></span><br><span class="line"><span class="javascript">      key.classList.add(<span class="string">'playing'</span>)</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> keys = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.key'</span>)</span></span><br><span class="line"><span class="javascript">    keys.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      key.addEventListener(<span class="string">'transitionend'</span>, removeTransition)</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">removeTransition</span>(<span class="params">e</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(e.propertyName === <span class="string">'transform'</span>)&#123;</span></span><br><span class="line"><span class="javascript">        e.currentTarget.classList.remove(<span class="string">'playing'</span>)</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/Rd6bLn" target="_blank" rel="noopener">https://reurl.cc/Rd6bLn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;01-JavaScript-Drum-Kit&quot;&gt;&lt;a href=&quot;#01-JavaScript-Drum-Kit&quot; class=&quot;headerlink&quot; title=&quot;01 - JavaScript Drum Kit&quot;&gt;&lt;/a&gt;01 - JavaScript Dr
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
</feed>
