<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>查斯特部落格 | The Blog Of Chester Tang</title>
  
  <subtitle>查斯特 Chester Tang</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://chestertang.site/"/>
  <updated>2019-10-09T16:09:34.174Z</updated>
  <id>http://chestertang.site/</id>
  
  <author>
    <name>[object Object]</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>新手村25 - Event Capture, Propagation, Bubbling and Once</title>
    <link href="http://chestertang.site/2019/10/10/javascript25/"/>
    <id>http://chestertang.site/2019/10/10/javascript25/</id>
    <published>2019-10-09T16:07:04.000Z</published>
    <updated>2019-10-09T16:09:34.174Z</updated>
    
    <content type="html"><![CDATA[<h2 id="25-Event-Capture-Propagation-Bubbling-and-Once"><a href="#25-Event-Capture-Propagation-Bubbling-and-Once" class="headerlink" title="25 - Event Capture, Propagation, Bubbling and Once"></a>25 - Event Capture, Propagation, Bubbling and Once</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>Only addEventListener！Only addEventListener！Only addEventListener！</p><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Understanding JavaScript's Capture<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">class</span>=<span class="string">"bod"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"one"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"two"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"three"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  html &#123;</span><br><span class="line">    box-sizing: border-box;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  *, *:before, *:after &#123; </span><br><span class="line">    box-sizing: inherit; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  div &#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">    padding: 100px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .one &#123;</span><br><span class="line">    background: thistle;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .two &#123;</span><br><span class="line">    background: mistyrose;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .three &#123;</span><br><span class="line">    background: coral;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><ol><li><p>Bubbling</p><ul><li><p>作業系統 到 瀏覽器 到 html 到 body 到 使用者 按的元素都會被觸發事件</p></li><li><p>事件預設的執行順序是從元素往上到 body</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">   &lt;script&gt;</span><br><span class="line">     <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line">     <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line">   </span><br><span class="line">     button.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">       <span class="built_in">console</span>.log(<span class="string">'Click!!!'</span>);</span><br><span class="line">     &#125;</span><br><span class="line">   &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">   ```  </span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">2. Event Capture</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">   - 瀏覽器做的事稱為捕捉</span></span><br><span class="line"><span class="regexp">   - 意思是你點擊元素以跟到樹梢的順序捕捉所有的事件（與Bubble相反）</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">   ```javascript</span></span><br><span class="line"><span class="regexp">   &lt;script&gt;</span></span><br><span class="line"><span class="regexp">     const divs = document.querySelectorAll('div');</span></span><br><span class="line"><span class="regexp">     const button = document.querySelector('button');</span></span><br><span class="line"><span class="regexp">     </span></span><br><span class="line"><span class="regexp">   function logText(e) &#123;</span></span><br><span class="line"><span class="regexp">       console.log(this.classList.value);</span></span><br><span class="line"><span class="regexp">       /</span><span class="regexp">/ e.stopPropagation(); /</span><span class="regexp">/ stop bubbling!</span></span><br><span class="line"><span class="regexp">       /</span><span class="regexp">/ console.log(this);</span></span><br><span class="line"><span class="regexp">     &#125;</span></span><br><span class="line"><span class="regexp">   &lt;/</span>script&gt;</span><br><span class="line">   <span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3. Propagation</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   - `</span>stopPropagation()<span class="string">` 方法可阻止當前事件繼續進行捕捉及冒泡階段的傳遞</span></span><br><span class="line"><span class="string">   - 設定 `</span>capture:<span class="literal">false</span><span class="string">` 取消預設行為，變成「點到誰，就是誰」</span></span><br><span class="line"><span class="string">   - Event.stopPropagation()：https://tinyurl.com/yy2qfbew</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span>javascript</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">     <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line">     <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line">   <span class="comment">//略</span></span><br><span class="line">   divs.forEach(<span class="function"><span class="params">div</span> =&gt;</span> div.addEventListener(<span class="string">'click'</span>, logText, &#123;</span><br><span class="line">       capture: <span class="literal">false</span>,</span><br><span class="line">       once: <span class="literal">true</span></span><br><span class="line">     &#125;));</span><br><span class="line">   &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>Once(new property)</p><ul><li>在 <code>addEventListener</code>的第三個參數加上 <code>once: false</code> 會將行預設行為</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line">  <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"><span class="comment">//略</span></span><br><span class="line">button.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Click!!!'</span>);</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    once: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> divs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'div'</span>);</span><br><span class="line">  <span class="keyword">const</span> button = <span class="built_in">document</span>.querySelector(<span class="string">'button'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">logText</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.classList.value);</span><br><span class="line">    <span class="comment">// e.stopPropagation(); // stop bubbling!</span></span><br><span class="line">    <span class="comment">// console.log(this);</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  divs.forEach(<span class="function"><span class="params">div</span> =&gt;</span> div.addEventListener(<span class="string">'click'</span>, logText, &#123;</span><br><span class="line">    capture: <span class="literal">false</span>,</span><br><span class="line">    once: <span class="literal">true</span></span><br><span class="line">  &#125;));</span><br><span class="line"></span><br><span class="line">  button.addEventListener(<span class="string">'click'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Click!!!'</span>);</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    once: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;25-Event-Capture-Propagation-Bubbling-and-Once&quot;&gt;&lt;a href=&quot;#25-Event-Capture-Propagation-Bubbling-and-Once&quot; class=&quot;headerlink&quot; title=&quot;
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村24 - Sticky Nav</title>
    <link href="http://chestertang.site/2019/10/09/javascript24/"/>
    <id>http://chestertang.site/2019/10/09/javascript24/</id>
    <published>2019-10-08T17:23:04.000Z</published>
    <updated>2019-10-08T17:24:42.739Z</updated>
    
    <content type="html"><![CDATA[<h2 id="24-Sticky-Nav"><a href="#24-Sticky-Nav" class="headerlink" title="24 - Sticky Nav"></a>24 - Sticky Nav</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>Nav 到畫面最上面時要固定</li></ul></li><li>畫面<ul><li>Nav 固定在畫面上面時要露出 Logo</li><li>Nav 不固定時不露出 Logo</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Sticky Nav<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style-START.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>A story about getting lost.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"logo"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>LOST.<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Images<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Locations<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>Maps<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"site-wrap"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/400"</span> <span class="attr">class</span>=<span class="string">"align-left slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates, deserunt facilis et iste corrupti omnis tenetur est. Iste ut est dicta dolor itaque adipisci, dolorum minima, veritatis earum provident error molestias. Ratione magni illo sint vel velit ut excepturi consectetur suscipit, earum modi accusamus voluptatem nostrum, praesentium numquam, reiciendis voluptas sit id quisquam. Consequatur in quis reprehenderit modi perspiciatis necessitatibus saepe, quidem, suscipit iure natus dignissimos ipsam, eligendi deleniti accusantium, rerum quibusdam fugit perferendis et optio recusandae sed ratione. Culpa, dolorum reprehenderit harum ab voluptas fuga, nisi eligendi natus maiores illum quas quos et aperiam aut doloremque optio maxime fugiat doloribus. Eum dolorum expedita quam, nesciunt<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/400"</span> <span class="attr">class</span>=<span class="string">"align-right slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> at provident praesentium atque quas rerum optio dignissimos repudiandae ullam illum quibusdam. Vel ad error quibusdam, illo ex totam placeat. Quos excepturi fuga, molestiae ea quisquam minus, ratione dicta consectetur officia omnis, doloribus voluptatibus? Veniam ipsum veritatis architecto, provident quas consequatur doloremque quam quidem earum expedita, ad delectus voluptatum, omnis praesentium nostrum qui aspernatur ea eaque adipisci et cumque ab? Ea voluptatum dolore itaque odio. Eius minima distinctio harum, officia ab nihil exercitationem. Tempora rem nemo nam temporibus molestias facilis minus ipsam quam doloribus consequatur debitis nesciunt tempore officiis aperiam quisquam, molestiae voluptates cum, fuga culpa. Distinctio accusamus quibusdam, tempore perspiciatis dolorum optio facere consequatur quidem ullam beatae architecto, ipsam sequi officiis dignissimos amet impedit natus necessitatibus tenetur repellendus dolor rem! Dicta dolorem, iure, facilis illo ex nihil ipsa amet officia, optio temporibus eum autem odit repellendus nisi. Possimus modi, corrupti error debitis doloribus dicta libero earum, sequi porro ut excepturi nostrum ea voluptatem nihil culpa? Ullam expedita eligendi obcaecati reiciendis velit provident omnis quas qui in corrupti est dolore facere ad hic, animi soluta assumenda consequuntur reprehenderit! Voluptate dolor nihil veniam laborum voluptas nisi pariatur sed optio accusantium quam consectetur, corrupti, sequi et consequuntur, excepturi doloremque. Tempore quis velit corporis neque fugit non sequi eaque rem hic. Facere, inventore, aspernatur. Accusantium modi atque, asperiores qui nobis soluta cumque suscipit excepturi possimus doloremque odit saepe perferendis temporibus molestiae nostrum voluptatum quis id sint quidem nesciunt culpa. Rerum labore dolor beatae blanditiis praesentium explicabo velit optio esse aperiam similique, voluptatem cum, maiores ipsa tempore. Reiciendis sed culpa atque inventore, nam ullam enim expedita consectetur id velit iusto alias vitae explicabo nemo neque odio reprehenderit soluta sint eaque. Aperiam, qui ut tenetur, voluptate doloremque officiis dicta quaerat voluptatem rerum natus magni. Eum amet autem dolor ullam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/400"</span> <span class="attr">class</span>=<span class="string">"align-right slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="style-START-css"><a href="#style-START-css" class="headerlink" title="style_START.css"></a>style_START.css</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eeeeee</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'helvetica neue'</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.site-wrap</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">700px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">70px</span> auto;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: justify;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">5px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.05);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(0.98);</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">0.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">header</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(http://wes.io/iEgP/wow-so-deep.jpg) bottom center no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">7vw</span>;</span><br><span class="line">  <span class="attribute">text-shadow</span>: <span class="number">3px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: black;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.5s</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">ul</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">5s</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">li</span><span class="selector-class">.logo</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="CSS-step-by-step"><a href="#CSS-step-by-step" class="headerlink" title="CSS - step by step"></a>CSS - step by step</h2><p>首先，要先準備好會更動的 CSS，其中我們知道當畫面往下滑的時候，Nav 會定在視窗的上方並且有陰影及限制寬度，因此可以先將 Class 補上，方便稍後 JS觸發時更動這個 Class</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span><span class="selector-class">.fixed-nav</span> <span class="selector-tag">nav</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">0</span> <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fixed-nav</span> <span class="selector-tag">li</span><span class="selector-class">.logo</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">500px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先抓到整個 Nav 的 ID <code>#main</code> ，並且設定變數 <code>topOfNav</code> 為 Nav 的 <code>offsetTop</code></p><p>HTMLElement.offsetTop：<a href="https://tinyurl.com/yymxkgxa" target="_blank" rel="noopener">https://tinyurl.com/yymxkgxa</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">'#main'</span>);</span><br><span class="line">  <span class="keyword">let</span> topOfNav = nav.offsetTop;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>addEventListener</code> 監聽當視窗移動滑動時，會觸發方法 <code>fixNav</code></p><p>Document: scroll event：<a href="https://tinyurl.com/y3tq6mfw" target="_blank" rel="noopener">https://tinyurl.com/y3tq6mfw</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">'#main'</span>);</span><br><span class="line">  <span class="keyword">let</span> topOfNav = nav.offsetTop;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, fixNav);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>最後再來判斷什麼時候要將之前設定的 Class 加上去 Nav 上寫入判斷是吧！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">'#main'</span>);</span><br><span class="line">  <span class="keyword">let</span> topOfNav = nav.offsetTop;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, fixNav);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.scrollY &gt;= topOfNav) &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.classList.add(<span class="string">'fixed-nav'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.classList.remove(<span class="string">'fixed-nav'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> nav = <span class="built_in">document</span>.querySelector(<span class="string">'#main'</span>);</span><br><span class="line">  <span class="keyword">let</span> topOfNav = nav.offsetTop;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'scroll'</span>, fixNav);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fixNav</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.scrollY &gt;= topOfNav) &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.classList.add(<span class="string">'fixed-nav'</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">document</span>.body.classList.remove(<span class="string">'fixed-nav'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;24-Sticky-Nav&quot;&gt;&lt;a href=&quot;#24-Sticky-Nav&quot; class=&quot;headerlink&quot; title=&quot;24 - Sticky Nav&quot;&gt;&lt;/a&gt;24 - Sticky Nav&lt;/h2&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生遠離我&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村23 - Speech Synthesis</title>
    <link href="http://chestertang.site/2019/10/08/javascript23/"/>
    <id>http://chestertang.site/2019/10/08/javascript23/</id>
    <published>2019-10-07T16:28:04.000Z</published>
    <updated>2019-10-08T00:12:47.276Z</updated>
    
    <content type="html"><![CDATA[<h2 id="23-Speech-Synthesis"><a href="#23-Speech-Synthesis" class="headerlink" title="23 - Speech Synthesis"></a>23 - Speech Synthesis</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>語音輸出（speech synthesis）</p><ul><li>功能<ul><li>切換不同的聲音（語系）</li><li>調整說話速度（聲調改變）</li><li>調整咬字速度</li><li>要能輸入要唸的內容</li><li>可以觸發開始講、暫停</li><li>切換聲音時，會先暫停再開始講</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Speech Synthesis<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">'https://fonts.googleapis.com/css?family=Pacifico'</span> <span class="attr">rel</span>=<span class="string">'stylesheet'</span> <span class="attr">type</span>=<span class="string">'text/css'</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"voiceinator"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>The Voiceinator 5000<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">name</span>=<span class="string">"voice"</span> <span class="attr">id</span>=<span class="string">"voices"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">""</span>&gt;</span>Select A Voice<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"rate"</span>&gt;</span>Rate:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"rate"</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"3"</span> <span class="attr">value</span>=<span class="string">"1"</span> <span class="attr">step</span>=<span class="string">"0.1"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"pitch"</span>&gt;</span>Pitch:<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">name</span>=<span class="string">"pitch"</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"2"</span> <span class="attr">step</span>=<span class="string">"0.1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"text"</span>&gt;</span>Hello! I love JavaScript 👍<span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"stop"</span>&gt;</span>Stop!<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"speak"</span>&gt;</span>Speak<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，我們先將變數中的 msg 設定 text 值，也就是聲音要講的文字內容，在抓到值之前我們可以先看一下 <code>SpeechSynthesisUtterance</code> 裡面存放著什麼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//SpeechSynthesisUtterance &#123;text: "", lang: "", voice: null, volume: -1, rate: -1, …&#125;</span></span><br></pre></td></tr></table></figure><p>透過 <code>querySelector</code> 抓取文字方塊內的 <code>value</code> ，並存進到上方的 text 之中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msg.text = <span class="built_in">document</span>.querySelector(<span class="string">'[name="text"]'</span>).value;</span><br></pre></td></tr></table></figure><p>這時候就可以看到原本的 <code>SpeechSynthesisUtterance</code> 中的 <code>text</code> 值已經被更新了！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance();</span><br><span class="line">  <span class="keyword">let</span> voices = [];</span><br><span class="line">  <span class="keyword">const</span> voicesDropdown = <span class="built_in">document</span>.querySelector(<span class="string">'[name="voice"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> options = <span class="built_in">document</span>.querySelectorAll(<span class="string">'[type="range"], [name="text"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> speakButton = <span class="built_in">document</span>.querySelector(<span class="string">'#speak'</span>);</span><br><span class="line">  <span class="keyword">const</span> stopButton = <span class="built_in">document</span>.querySelector(<span class="string">'#stop'</span>);</span><br><span class="line">  msg.text = <span class="built_in">document</span>.querySelector(<span class="string">'[name="text"]'</span>).value;</span><br><span class="line"></span><br><span class="line"><span class="comment">//SpeechSynthesisUtterance &#123;text: "Hello! I love JavaScript 👍", lang: "", voice: null, volume: -1, rate: -1, …&#125;</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>再來我們來將 <code>speechSynthesis</code> 加上監聽事件 <code>onvoiceschanged</code> 並觸發<code>populateVoices</code> 方法，透過 <code>SpeechSynthesis.getVoices()</code> 取得包含所有物件的陣列，並將資料加入下拉式選單 <code>Dropdown</code></p><p>SpeechSynthesis: voiceschanged event：<a href="https://tinyurl.com/y24evh2v" target="_blank" rel="noopener">https://tinyurl.com/y24evh2v</a></p><p>SpeechSynthesis.getVoices()：<a href="https://tinyurl.com/ybxxro7q" target="_blank" rel="noopener">https://tinyurl.com/ybxxro7q</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;  </span><br><span class="line">  <span class="comment">// 上略</span></span><br><span class="line">  speechSynthesis.addEventListener(<span class="string">'voiceschanged'</span>, populateVoices);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">populateVoices</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    voices = <span class="keyword">this</span>.getVoices();</span><br><span class="line">    voicesDropdown.innerHTML = voices</span><br><span class="line">      .filter(<span class="function"><span class="params">voice</span> =&gt;</span> voice.lang.includes(<span class="string">'en'</span>))</span><br><span class="line">      .map(<span class="function"><span class="params">voice</span> =&gt;</span> <span class="string">`&lt;option value="<span class="subst">$&#123;voice.name&#125;</span>"&gt;<span class="subst">$&#123;voice.name&#125;</span> (<span class="subst">$&#123;voice.lang&#125;</span>)&lt;/option&gt;`</span>)</span><br><span class="line">      .join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來來將剛剛加入的下拉式選單與聲音連動起來吧！透過陣列尋找如果現在我們選擇的聲音資料與API那端的相符，就會以那個聲音觸發 <code>toggle</code> 方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;  </span><br><span class="line">  <span class="comment">// 上略</span></span><br><span class="line">voicesDropdown.addEventListener(<span class="string">'change'</span>, setVoice);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setVoice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    msg.voice = voices.find(<span class="function"><span class="params">voice</span> =&gt;</span> voice.name === <span class="keyword">this</span>.value);</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><code>toogle</code> 方法就單純許多，只是控制先執行取消發生、再執行說話</p><p>SpeechSynthesis.cancel()：<a href="https://tinyurl.com/yysl5zxs" target="_blank" rel="noopener">https://tinyurl.com/yysl5zxs</a></p><p>SpeechSynthesis.speak()：<a href="https://tinyurl.com/yykz4obn" target="_blank" rel="noopener">https://tinyurl.com/yykz4obn</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt; </span><br><span class="line"><span class="comment">// 上略</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">startOver = true</span>) </span>&#123;</span><br><span class="line">    speechSynthesis.cancel();</span><br><span class="line">    <span class="keyword">if</span> (startOver) &#123;</span><br><span class="line">      speechSynthesis.speak(msg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>再來調整發音速度與音調的部分</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt; </span><br><span class="line"><span class="comment">// 上略</span></span><br><span class="line">options.forEach(<span class="function"><span class="params">option</span> =&gt;</span> option.addEventListener(<span class="string">'change'</span>, setOption));</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setOption</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//console.log(this.name, this.value);</span></span><br><span class="line">    msg[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>最後就將按鈕觸發 <code>click</code> 來播放、停止說話，來控制 <code>toggle</code> 就可以控制說話惹w</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance();</span><br><span class="line">  <span class="keyword">let</span> voices = [];</span><br><span class="line">  <span class="keyword">const</span> voicesDropdown = <span class="built_in">document</span>.querySelector(<span class="string">'[name="voice"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> options = <span class="built_in">document</span>.querySelectorAll(<span class="string">'[type="range"], [name="text"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> speakButton = <span class="built_in">document</span>.querySelector(<span class="string">'#speak'</span>);</span><br><span class="line">  <span class="keyword">const</span> stopButton = <span class="built_in">document</span>.querySelector(<span class="string">'#stop'</span>);</span><br><span class="line">  msg.text = <span class="built_in">document</span>.querySelector(<span class="string">'[name="text"]'</span>).value;</span><br><span class="line">  </span><br><span class="line">  speechSynthesis.addEventListener(<span class="string">'voiceschanged'</span>, populateVoices);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">populateVoices</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    voices = <span class="keyword">this</span>.getVoices();</span><br><span class="line">    voicesDropdown.innerHTML = voices</span><br><span class="line">      .filter(<span class="function"><span class="params">voice</span> =&gt;</span> voice.lang.includes(<span class="string">'en'</span>))</span><br><span class="line">      .map(<span class="function"><span class="params">voice</span> =&gt;</span> <span class="string">`&lt;option value="<span class="subst">$&#123;voice.name&#125;</span>"&gt;<span class="subst">$&#123;voice.name&#125;</span> (<span class="subst">$&#123;voice.lang&#125;</span>)&lt;/option&gt;`</span>)</span><br><span class="line">      .join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  voicesDropdown.addEventListener(<span class="string">'change'</span>, setVoice);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setVoice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    msg.voice = voices.find(<span class="function"><span class="params">voice</span> =&gt;</span> voice.name === <span class="keyword">this</span>.value);</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">startOver = true</span>) </span>&#123;</span><br><span class="line">    speechSynthesis.cancel();</span><br><span class="line">    <span class="keyword">if</span> (startOver) &#123;</span><br><span class="line">      speechSynthesis.speak(msg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  options.forEach(<span class="function"><span class="params">option</span> =&gt;</span> option.addEventListener(<span class="string">'change'</span>, setOption));</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setOption</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.value);</span><br><span class="line">    msg[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  speakButton.addEventListener(<span class="string">'click'</span>, toggle);</span><br><span class="line">  stopButton.addEventListener(<span class="string">'click'</span>, () =&gt; toggle(<span class="literal">false</span>));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> msg = <span class="keyword">new</span> SpeechSynthesisUtterance();</span><br><span class="line">  <span class="keyword">let</span> voices = [];</span><br><span class="line">  <span class="keyword">const</span> voicesDropdown = <span class="built_in">document</span>.querySelector(<span class="string">'[name="voice"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> options = <span class="built_in">document</span>.querySelectorAll(<span class="string">'[type="range"], [name="text"]'</span>);</span><br><span class="line">  <span class="keyword">const</span> speakButton = <span class="built_in">document</span>.querySelector(<span class="string">'#speak'</span>);</span><br><span class="line">  <span class="keyword">const</span> stopButton = <span class="built_in">document</span>.querySelector(<span class="string">'#stop'</span>);</span><br><span class="line">  msg.text = <span class="built_in">document</span>.querySelector(<span class="string">'[name="text"]'</span>).value;</span><br><span class="line">  </span><br><span class="line">  speechSynthesis.addEventListener(<span class="string">'voiceschanged'</span>, populateVoices);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">populateVoices</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    voices = <span class="keyword">this</span>.getVoices();</span><br><span class="line">    voicesDropdown.innerHTML = voices</span><br><span class="line">      .filter(<span class="function"><span class="params">voice</span> =&gt;</span> voice.lang.includes(<span class="string">'en'</span>))</span><br><span class="line">      .map(<span class="function"><span class="params">voice</span> =&gt;</span> <span class="string">`&lt;option value="<span class="subst">$&#123;voice.name&#125;</span>"&gt;<span class="subst">$&#123;voice.name&#125;</span> (<span class="subst">$&#123;voice.lang&#125;</span>)&lt;/option&gt;`</span>)</span><br><span class="line">      .join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  voicesDropdown.addEventListener(<span class="string">'change'</span>, setVoice);</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setVoice</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    msg.voice = voices.find(<span class="function"><span class="params">voice</span> =&gt;</span> voice.name === <span class="keyword">this</span>.value);</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">toggle</span>(<span class="params">startOver = true</span>) </span>&#123;</span><br><span class="line">    speechSynthesis.cancel();</span><br><span class="line">    <span class="keyword">if</span> (startOver) &#123;</span><br><span class="line">      speechSynthesis.speak(msg);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  options.forEach(<span class="function"><span class="params">option</span> =&gt;</span> option.addEventListener(<span class="string">'change'</span>, setOption));</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setOption</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name, <span class="keyword">this</span>.value);</span><br><span class="line">    msg[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">    toggle();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  speakButton.addEventListener(<span class="string">'click'</span>, toggle);</span><br><span class="line">  stopButton.addEventListener(<span class="string">'click'</span>, () =&gt; toggle(<span class="literal">false</span>));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;23-Speech-Synthesis&quot;&gt;&lt;a href=&quot;#23-Speech-Synthesis&quot; class=&quot;headerlink&quot; title=&quot;23 - Speech Synthesis&quot;&gt;&lt;/a&gt;23 - Speech Synthesis&lt;/h2&gt;&lt;
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村22 - Follow Along Link Highlighter</title>
    <link href="http://chestertang.site/2019/10/07/javascript22/"/>
    <id>http://chestertang.site/2019/10/07/javascript22/</id>
    <published>2019-10-06T18:00:04.000Z</published>
    <updated>2019-10-06T17:57:53.918Z</updated>
    
    <content type="html"><![CDATA[<h2 id="22-Follow-Along-Link-Highlighter"><a href="#22-Follow-Along-Link-Highlighter" class="headerlink" title="22 - Follow Along Link Highlighter"></a>22 - Follow Along Link Highlighter</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>超連結Hover時，白色區塊要出現在該超連結區塊上</li></ul></li><li>畫面<ul><li>白色區塊的寬高要符合該超連結區塊</li><li>滑鼠進入另一個超連結區塊時，白色的區塊不會消失</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>👀👀👀Follow Along Nav<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"menu"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Order Status<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Tweets<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Read Our History<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>Contact Us<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>consectetur<span class="tag">&lt;/<span class="name">a</span>&gt;</span> adipisicing elit. Est <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>explicabo<span class="tag">&lt;/<span class="name">a</span>&gt;</span> unde natus necessitatibus esse obcaecati distinctio, aut itaque, qui vitae!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Aspernatur sapiente quae sint <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>soluta<span class="tag">&lt;/<span class="name">a</span>&gt;</span> modi, atque praesentium laborum pariatur earum <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>quaerat<span class="tag">&lt;/<span class="name">a</span>&gt;</span> cupiditate consequuntur facilis ullam dignissimos, aperiam quam veniam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Cum ipsam quod, incidunt sit ex <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>tempore<span class="tag">&lt;/<span class="name">a</span>&gt;</span> placeat maxime <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>corrupti<span class="tag">&lt;/<span class="name">a</span>&gt;</span> possimus <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>veritatis<span class="tag">&lt;/<span class="name">a</span>&gt;</span> ipsum fugit recusandae est doloremque? Hic, <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>quibusdam<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, nulla.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Esse quibusdam, ad, ducimus cupiditate <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>nulla<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, quae magni odit <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>totam<span class="tag">&lt;/<span class="name">a</span>&gt;</span> ut consequatur eveniet sunt quam provident sapiente dicta neque quod.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Aliquam <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>dicta<span class="tag">&lt;/<span class="name">a</span>&gt;</span> sequi culpa fugiat <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>consequuntur<span class="tag">&lt;/<span class="name">a</span>&gt;</span> pariatur optio ad minima, maxime <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>odio<span class="tag">&lt;/<span class="name">a</span>&gt;</span>, distinctio magni impedit tempore enim repellendus <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span>repudiandae<span class="tag">&lt;/<span class="name">a</span>&gt;</span> quas!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    // 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，透過 <code>querySelectorAll</code> 將所有的 a 連結都找出來吧（這步驟應該很熟練了而且會是一個 NodeList(19) ），並且將帶有 Class <code>highlight</code> 的 <code>span</code> 附加在 <code>body</code> 上，這邊作者想表達的意思應該是可以透過 JS 來建立元素、新增Class 及寫進 HTML 之中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight);  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來，每當使用者滑鼠移動到連結上就會觸發 <code>mouseenter</code> 事件，概念與  <code>mouseover</code> 大致相同，唯一的差別在於並不會冒泡</p><p>mouseenter：<a href="https://tinyurl.com/y6g3x4cs" target="_blank" rel="noopener">https://tinyurl.com/y6g3x4cs</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight); </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">'mouseenter'</span>, highlightLink));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>當使用者觸發事件後，會呼叫 <code>highlightLink</code> 方法，其中會回傳 <code>Element.getBoundingClientRect()</code> 的 DOMRect 返回值對象，一組矩形的集合</p><p>Element.getBoundingClientRect()：<a href="https://tinyurl.com/yyxcclg7" target="_blank" rel="noopener">https://tinyurl.com/yyxcclg7</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight); </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> linkCoords = <span class="keyword">this</span>.getBoundingClientRect();</span><br><span class="line">      <span class="built_in">console</span>.log(linkCoords);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">'mouseenter'</span>, highlightLink));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>將回傳的長、寬、Ｘ軸、Ｙ軸設為變數 <code>coords</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight); </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> linkCoords = <span class="keyword">this</span>.getBoundingClientRect();</span><br><span class="line">      <span class="built_in">console</span>.log(linkCoords);</span><br><span class="line">      <span class="keyword">const</span> coords = &#123;</span><br><span class="line">      width: linkCoords.width,</span><br><span class="line">      height: linkCoords.height,</span><br><span class="line">      top: linkCoords.top + <span class="built_in">window</span>.scrollY,</span><br><span class="line">      left: linkCoords.left + <span class="built_in">window</span>.scrollX</span><br><span class="line">    &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">'mouseenter'</span>, highlightLink));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>再當滑鼠滑到連結上時附加CSS</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight); </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> linkCoords = <span class="keyword">this</span>.getBoundingClientRect();</span><br><span class="line">      <span class="built_in">console</span>.log(linkCoords);</span><br><span class="line">      <span class="keyword">const</span> coords = &#123;</span><br><span class="line">      width: linkCoords.width,</span><br><span class="line">      height: linkCoords.height,</span><br><span class="line">      top: linkCoords.top + <span class="built_in">window</span>.scrollY,</span><br><span class="line">      left: linkCoords.left + <span class="built_in">window</span>.scrollX</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    highlight.style.width = <span class="string">`<span class="subst">$&#123;coords.width&#125;</span>px`</span>;</span><br><span class="line">    highlight.style.height = <span class="string">`<span class="subst">$&#123;coords.height&#125;</span>px`</span>;</span><br><span class="line">    highlight.style.transform = <span class="string">`translate(<span class="subst">$&#123;coords.left&#125;</span>px, <span class="subst">$&#123;coords.top&#125;</span>px)`</span>;</span><br><span class="line">    <span class="comment">//DOMRect &#123;x: 666.93359375, y: 100, width: 93.8671875, height: 32.5, top: 100, …&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">'mouseenter'</span>, highlightLink));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 👀👀👀👀👀👀👀👀👀👀👀👀👀👀👀</span></span><br><span class="line">    <span class="keyword">const</span> triggers = <span class="built_in">document</span>.querySelectorAll(<span class="string">'a'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(triggers);</span><br><span class="line">    <span class="keyword">const</span> highlight = <span class="built_in">document</span>.createElement(<span class="string">'span'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(highlight);</span><br><span class="line">    highlight.classList.add(<span class="string">'highlight'</span>);</span><br><span class="line">    <span class="built_in">document</span>.body.appendChild(highlight); </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">highlightLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">const</span> linkCoords = <span class="keyword">this</span>.getBoundingClientRect();</span><br><span class="line">      <span class="built_in">console</span>.log(linkCoords);</span><br><span class="line">      <span class="keyword">const</span> coords = &#123;</span><br><span class="line">      width: linkCoords.width,</span><br><span class="line">      height: linkCoords.height,</span><br><span class="line">      top: linkCoords.top + <span class="built_in">window</span>.scrollY,</span><br><span class="line">      left: linkCoords.left + <span class="built_in">window</span>.scrollX</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    highlight.style.width = <span class="string">`<span class="subst">$&#123;coords.width&#125;</span>px`</span>;</span><br><span class="line">    highlight.style.height = <span class="string">`<span class="subst">$&#123;coords.height&#125;</span>px`</span>;</span><br><span class="line">    highlight.style.transform = <span class="string">`translate(<span class="subst">$&#123;coords.left&#125;</span>px, <span class="subst">$&#123;coords.top&#125;</span>px)`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    triggers.forEach(<span class="function"><span class="params">a</span> =&gt;</span> a.addEventListener(<span class="string">'mouseenter'</span>, highlightLink));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;22-Follow-Along-Link-Highlighter&quot;&gt;&lt;a href=&quot;#22-Follow-Along-Link-Highlighter&quot; class=&quot;headerlink&quot; title=&quot;22 - Follow Along Link Highl
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村21 - Speech Detection</title>
    <link href="http://chestertang.site/2019/10/06/javascript21/"/>
    <id>http://chestertang.site/2019/10/06/javascript21/</id>
    <published>2019-10-06T14:00:04.000Z</published>
    <updated>2019-10-06T13:59:34.876Z</updated>
    
    <content type="html"><![CDATA[<h2 id="21-Geolocation"><a href="#21-Geolocation" class="headerlink" title="21 - Geolocation"></a>21 - Geolocation</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>地理資訊的功能</p><ul><li>功能<ul><li>抓到指北角度要改畫面</li><li>抓到移動速度要更新畫面</li></ul></li><li>畫面<ul><li>指北轉要旋轉</li><li>顯示移動速度</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">class</span>=<span class="string">"arrow"</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 64 64"</span> <span class="attr">enable-background</span>=<span class="string">"new 0 0 64 64"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#ffffff"</span> <span class="attr">d</span>=<span class="string">"M32,1.824C15.361,1.824,1.825,15.361,1.825,32c0,16.639,13.537,30.176,30.175,30.176   S62.175,48.639,62.175,32C62.175,15.361,48.639,1.824,32,1.824z M29.715,3.988h1.12l2.333,3.807V3.988h1.069v5.701h-1.155   l-2.298-3.718v3.718h-1.069V3.988z M9.323,33.917H8.102l-1.136-4.262l-1.132,4.262H4.587l-1.361-5.701h1.178l0.859,3.916   l1.042-3.916h1.369l0.999,3.982l0.875-3.982h1.159L9.323,33.917z M33.995,59.828c-0.181,0.285-0.438,0.497-0.77,0.636   c-0.332,0.139-0.745,0.208-1.241,0.208c-0.721,0-1.274-0.167-1.661-0.5c-0.386-0.333-0.617-0.819-0.692-1.456l1.12-0.109   c0.067,0.376,0.204,0.652,0.41,0.828c0.206,0.176,0.484,0.264,0.834,0.264c0.371,0,0.65-0.078,0.838-0.235   c0.188-0.157,0.282-0.34,0.282-0.55c0-0.135-0.04-0.25-0.119-0.344c-0.079-0.095-0.217-0.177-0.414-0.247   c-0.135-0.047-0.442-0.13-0.922-0.249c-0.617-0.153-1.05-0.341-1.299-0.564c-0.35-0.314-0.525-0.696-0.525-1.147   c0-0.29,0.082-0.562,0.247-0.815c0.165-0.253,0.402-0.445,0.712-0.577c0.31-0.132,0.684-0.198,1.122-0.198   c0.716,0,1.254,0.157,1.616,0.471c0.362,0.314,0.552,0.733,0.57,1.256l-1.151,0.051c-0.049-0.293-0.155-0.504-0.317-0.632   c-0.162-0.128-0.405-0.193-0.729-0.193c-0.334,0-0.596,0.069-0.786,0.206c-0.122,0.088-0.183,0.206-0.183,0.354   c0,0.135,0.057,0.25,0.171,0.346c0.145,0.122,0.498,0.249,1.058,0.381c0.56,0.132,0.974,0.269,1.243,0.41   c0.268,0.141,0.478,0.334,0.63,0.58c0.152,0.245,0.227,0.548,0.227,0.908C34.267,59.237,34.176,59.543,33.995,59.828z M32,52.795   c-11.466,0-20.795-9.329-20.795-20.795c0-11.466,9.329-20.795,20.795-20.795S52.795,20.534,52.795,32   C52.795,43.466,43.466,52.795,32,52.795z M55.014,33.917v-5.701h4.227v0.965h-3.076v1.264h2.862v0.96h-2.862v1.552h3.185v0.961   H55.014z"</span>/&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#000000"</span> <span class="attr">d</span>=<span class="string">"M48.904,31.863c-4.074-1.358-8.148-2.717-12.226-4.066c-0.265-0.087-0.399-0.223-0.486-0.486    c-1.349-4.077-2.708-8.151-4.066-12.226c-0.029-0.087-0.074-0.169-0.132-0.3c-0.054,0.152-0.09,0.245-0.122,0.34    c-1.352,4.053-2.707,8.104-4.048,12.161c-0.096,0.292-0.246,0.428-0.532,0.522c-4.056,1.342-8.108,2.696-12.16,4.049    c-0.097,0.032-0.189,0.074-0.344,0.137c0.172,0.06,0.267,0.093,0.362,0.125c4.074,1.358,8.148,2.717,12.224,4.072    c0.204,0.068,0.337,0.158,0.412,0.386c1.243,3.757,2.498,7.511,3.75,11.265c0.144,0.432,0.291,0.862,0.463,1.373    c0.068-0.185,0.108-0.285,0.142-0.386c1.349-4.042,2.701-8.083,4.04-12.128c0.094-0.284,0.231-0.438,0.523-0.534    c4.056-1.341,8.108-2.696,12.161-4.048c0.099-0.033,0.195-0.076,0.347-0.137C49.067,31.925,48.987,31.891,48.904,31.863z     M37.475,32.038c-1.316,0.439-2.631,0.879-3.947,1.314c-0.095,0.031-0.139,0.081-0.17,0.173c-0.434,1.313-0.873,2.625-1.311,3.937    c-0.012,0.033-0.024,0.066-0.046,0.126c-0.056-0.166-0.104-0.306-0.15-0.446c-0.407-1.219-0.814-2.437-1.218-3.657    c-0.025-0.074-0.068-0.104-0.134-0.125c-1.323-0.44-2.646-0.881-3.968-1.322c-0.031-0.01-0.062-0.022-0.118-0.041    c0.05-0.02,0.081-0.034,0.112-0.045c1.315-0.439,2.631-0.879,3.947-1.314c0.093-0.03,0.142-0.075,0.173-0.17    c0.435-1.316,0.875-2.632,1.314-3.947c0.01-0.031,0.022-0.062,0.039-0.11c0.019,0.042,0.033,0.069,0.043,0.097    c0.441,1.323,0.882,2.645,1.321,3.969c0.028,0.085,0.072,0.129,0.158,0.158c1.324,0.438,2.646,0.879,3.969,1.32    c0.027,0.009,0.053,0.02,0.1,0.038C37.538,32.013,37.507,32.027,37.475,32.038z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#000000"</span> <span class="attr">d</span>=<span class="string">"M24.436,27.633c-1.069-2.137-2.119-4.237-3.216-6.43c2.189,1.094,4.292,2.145,6.433,3.216    c-0.359,0.713-0.706,1.404-1.057,2.091c-0.023,0.045-0.078,0.082-0.127,0.106C25.807,26.949,25.143,27.28,24.436,27.633z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#000000"</span> <span class="attr">d</span>=<span class="string">"M39.573,27.632c-0.696-0.348-1.351-0.673-2.002-1.005c-0.076-0.038-0.155-0.104-0.193-0.177    c-0.338-0.661-0.666-1.326-1.019-2.033c2.121-1.061,4.228-2.115,6.43-3.217C41.69,23.399,40.635,25.509,39.573,27.632z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#000000"</span> <span class="attr">d</span>=<span class="string">"M24.436,36.339c0.712,0.357,1.394,0.698,2.074,1.043c0.046,0.024,0.088,0.073,0.113,0.121    c0.339,0.671,0.674,1.345,1.028,2.051c-2.126,1.063-4.232,2.117-6.43,3.216C22.317,40.577,23.37,38.472,24.436,36.339z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">"#000000"</span> <span class="attr">d</span>=<span class="string">"M36.358,39.555c0.354-0.707,0.688-1.38,1.028-2.05c0.028-0.056,0.084-0.111,0.14-0.139    c0.67-0.339,1.343-0.674,2.047-1.026c1.066,2.131,2.118,4.235,3.215,6.43C40.601,41.676,38.503,40.628,36.358,39.555z"</span>/&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"speed"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"speed-value"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"units"</span>&gt;</span>KM/H<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      font-size: 100px;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    body &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      font-family: sans-serif;</span><br><span class="line">      min-height: 100vh;</span><br><span class="line">      display: flex;</span><br><span class="line">      justify-content: center;</span><br><span class="line">      align-items: center;</span><br><span class="line">      flex-direction: column;</span><br><span class="line">      background:</span><br><span class="line">        radial-gradient(black 15%, transparent 16%) 0 0,</span><br><span class="line">        radial-gradient(black 15%, transparent 16%) 8px 8px,</span><br><span class="line">        radial-gradient(rgba(255,255,255,.1) 15%, transparent 20%) 0 1px,</span><br><span class="line">        radial-gradient(rgba(255,255,255,.1) 15%, transparent 20%) 8px 9px;</span><br><span class="line">      background-color: #282828;</span><br><span class="line">      background-size: 16px 16px;</span><br><span class="line">      background-attachment: fixed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .arrow &#123;</span><br><span class="line">      width: 250px;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">      transition: all 0.2s;</span><br><span class="line">      transform: rotate(0deg);</span><br><span class="line">      display: inline-block;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    h1 &#123;</span><br><span class="line">      color: white;</span><br><span class="line">      font-weight: 100;</span><br><span class="line">      font-size: 60px;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .units &#123;</span><br><span class="line">      font-size: 15px;</span><br><span class="line">    &#125;</span><br><span class="line">    /*Compass: https://thenounproject.com/search/?q=compass&amp;i=592352*/</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先將 Class <code>arrow</code> 、<code>speed</code> 透過 <code>querySelector</code> 抓出來命名為變數 arrow、speed 方便我們之後使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">'.arrow'</span>);</span><br><span class="line">    <span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">'.speed-value'</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>透過  <code>Geolocation.watchPosition()</code>  來註冊一個處理的函式，當使用者的裝置位置更新時，這個函式所傳入的回呼函式(callback function) 就會自動被呼叫，也可以選擇性的定義錯誤時哪些錯誤回呼函式需要被呼叫</p><p>Geolocation.watchPosition()：<a href="https://tinyurl.com/y5b9m2kw" target="_blank" rel="noopener">https://tinyurl.com/y5b9m2kw</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">'.arrow'</span>);</span><br><span class="line">    <span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">'.speed-value'</span>);</span><br><span class="line"></span><br><span class="line">    navigator.geolocation.watchPosition(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data);</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="comment">// Position &#123;coords: Coordinates, timestamp: 1570368253203&#125;</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>在這段內容中應該如何取得速度及方位呢？ 可以透過 <code>coords.speed</code> 這個方法來取得速度，並用 <code>coords.heading</code> 取得方位，再透過 CSS 將 Class <code>arrow</code> 旋轉角度即可表示現在的方位。此外，如果回傳錯誤的話就在 console 中顯示 err 的內容！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">'.arrow'</span>);</span><br><span class="line">    <span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">'.speed-value'</span>);</span><br><span class="line"></span><br><span class="line">    navigator.geolocation.watchPosition(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data);</span><br><span class="line">      speed.textContent = data.coords.speed;</span><br><span class="line">      arrow.style.transform = <span class="string">`rotate(<span class="subst">$&#123;data.coords.heading&#125;</span>deg)`</span>;</span><br><span class="line">    &#125;), (err) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！（覺得這個經緯度真的準的有點誇張w</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> arrow = <span class="built_in">document</span>.querySelector(<span class="string">'.arrow'</span>);</span><br><span class="line">    <span class="keyword">const</span> speed = <span class="built_in">document</span>.querySelector(<span class="string">'.speed-value'</span>);</span><br><span class="line"></span><br><span class="line">    navigator.geolocation.watchPosition(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data);</span><br><span class="line">      speed.textContent = data.coords.speed;</span><br><span class="line">      arrow.style.transform = <span class="string">`rotate(<span class="subst">$&#123;data.coords.heading&#125;</span>deg)`</span>;</span><br><span class="line">    &#125;, (err) =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(err);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;21-Geolocation&quot;&gt;&lt;a href=&quot;#21-Geolocation&quot; class=&quot;headerlink&quot; title=&quot;21 - Geolocation&quot;&gt;&lt;/a&gt;21 - Geolocation&lt;/h2&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生遠離我&lt;
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村20 - Speech Detection</title>
    <link href="http://chestertang.site/2019/10/05/javascript20/"/>
    <id>http://chestertang.site/2019/10/05/javascript20/</id>
    <published>2019-10-05T15:04:04.000Z</published>
    <updated>2019-10-05T15:05:47.767Z</updated>
    
    <content type="html"><![CDATA[<h2 id="20-Speech-Detection"><a href="#20-Speech-Detection" class="headerlink" title="20 - Speech Detection"></a>20 - Speech Detection</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>語音輸入的功能：</p><ul><li>功能、畫面<ul><li>講話要變文字在畫面上</li><li>停頓太久要分段</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Speech Detection<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"words"</span> <span class="attr">contenteditable</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    window.SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      font-size: 10px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    body &#123;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">      font-family: 'helvetica neue';</span><br><span class="line">      font-weight: 200;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .words &#123;</span><br><span class="line">      max-width: 500px;</span><br><span class="line">      margin: 50px auto;</span><br><span class="line">      background: white;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      box-shadow: 10px 10px 0 rgba(0,0,0,0.1);</span><br><span class="line">      padding: 1rem 2rem 1rem 5rem;</span><br><span class="line">      background: -webkit-gradient(linear, 0 0, 0 100%, from(#d9eaf3), color-stop(4%, #fff)) 0 4px;</span><br><span class="line">      background-size: 100% 3rem;</span><br><span class="line">      position: relative;</span><br><span class="line">      line-height: 3rem;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    p &#123;</span><br><span class="line">      margin: 0 0 3rem;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .words:before &#123;</span><br><span class="line">      content: '';</span><br><span class="line">      position: absolute;</span><br><span class="line">      width: 4px;</span><br><span class="line">      top: 0;</span><br><span class="line">      left: 30px;</span><br><span class="line">      bottom: 0;</span><br><span class="line">      border: 1px solid;</span><br><span class="line">      border-color: transparent #efe4e4;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，這個範例中所使用的技術只限於在Chrome瀏覽器中使用，因此不支援其他任何裝置，詳情可以參考這個API 的 MDN，此外，這個 API 是由 Google 所釋出的服務，其中有一些功能好像無法使用，有待研究…</p><p>判斷使用者的瀏覽器有沒有存在 <code>SpeechRecognition</code>、<code>webkitSpeechRecognition</code></p><p>SpeechRecognition：<a href="https://tinyurl.com/y54hcmtc" target="_blank" rel="noopener">https://tinyurl.com/y54hcmtc</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來透過 <code>interimResults</code>這個方法，來判斷使用者在講話的當下，如果設定為 <code>True</code> 就會即時辨識，不然設定為 <code>False</code> 就會在一段話結束之後，才會開始辨識。</p><p>SpeechRecognition.interimResults：<a href="https://tinyurl.com/y6rwfoq3" target="_blank" rel="noopener">https://tinyurl.com/y6rwfoq3</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br><span class="line">recognition.interimResults = <span class="literal">true</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>當然地，要選擇辨識的語音為何？就要設定辨認的語系為何，以最長使用的英文就必須為 <code>en-US</code> ，如果是中文就要是 <code>zh-TW</code>！</p><p>SpeechRecognition.lang：<a href="https://tinyurl.com/y4e5ycna" target="_blank" rel="noopener">https://tinyurl.com/y4e5ycna</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br><span class="line">recognition.interimResults = <span class="literal">true</span>;</span><br><span class="line">recognition.lang = <span class="string">'zh-TW'</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來就是將語音辨識的字加在段落上</p><p>Node.appendChild()：<a href="https://tinyurl.com/poy5p24" target="_blank" rel="noopener">https://tinyurl.com/poy5p24</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br><span class="line">recognition.interimResults = <span class="literal">true</span>;</span><br><span class="line">recognition.lang = <span class="string">'zh-TW'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  <span class="keyword">const</span> words = <span class="built_in">document</span>.querySelector(<span class="string">'.words'</span>);</span><br><span class="line">  words.appendChild(p);</span><br><span class="line"></span><br><span class="line">recognition.start();</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>印出 <code>result</code> 看看監聽的 <code>SpeechRecognitionEvent</code> 是什麼吧！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// 上略</span></span><br><span class="line">  recognition.addEventListener(<span class="string">'result'</span>, e =&gt; &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(e);</span><br><span class="line">  &#125;);</span><br><span class="line"><span class="comment">// SpeechRecognitionEvent &#123;isTrusted: true, resultIndex: 0, results: SpeechRecognitionResultList, interpretation: null, emma: null, …&#125;</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>再判斷一下每個單詞、還有設定某一些字會跑出大便的符號XDDD</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">recognition.addEventListener(<span class="string">'result'</span>, e =&gt; &#123;</span><br><span class="line"><span class="comment">// 上略</span></span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">  <span class="keyword">const</span> transcript = <span class="built_in">Array</span>.from(e.results)</span><br><span class="line">    .map(<span class="function"><span class="params">result</span> =&gt;</span> result[<span class="number">0</span>])</span><br><span class="line">    .map(<span class="function"><span class="params">result</span> =&gt;</span> result.transcript)</span><br><span class="line">    .join(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> poopScript = transcript.replace(<span class="regexp">/poop|poo|shit|dump/gi</span>, <span class="string">'💩'</span>);</span><br><span class="line">    p.textContent = poopScript;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.results[<span class="number">0</span>].isFinal) &#123;</span><br><span class="line">      p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">      words.appendChild(p);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  recognition.addEventListener(<span class="string">'end'</span>, recognition.start);</span><br><span class="line">  recognition.start();</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.SpeechRecognition = <span class="built_in">window</span>.SpeechRecognition || <span class="built_in">window</span>.webkitSpeechRecognition;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> recognition = <span class="keyword">new</span> SpeechRecognition();</span><br><span class="line">  recognition.interimResults = <span class="literal">true</span>;</span><br><span class="line">  recognition.lang = <span class="string">'en-US'</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">  <span class="keyword">const</span> words = <span class="built_in">document</span>.querySelector(<span class="string">'.words'</span>);</span><br><span class="line">  words.appendChild(p);</span><br><span class="line"></span><br><span class="line">  recognition.addEventListener(<span class="string">'result'</span>, e =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">    <span class="keyword">const</span> transcript = <span class="built_in">Array</span>.from(e.results)</span><br><span class="line">      .map(<span class="function"><span class="params">result</span> =&gt;</span> result[<span class="number">0</span>])</span><br><span class="line">      .map(<span class="function"><span class="params">result</span> =&gt;</span> result.transcript)</span><br><span class="line">      .join(<span class="string">''</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> poopScript = transcript.replace(<span class="regexp">/poop|poo|shit|dump/gi</span>, <span class="string">'💩'</span>);</span><br><span class="line">      p.textContent = poopScript;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (e.results[<span class="number">0</span>].isFinal) &#123;</span><br><span class="line">        p = <span class="built_in">document</span>.createElement(<span class="string">'p'</span>);</span><br><span class="line">        words.appendChild(p);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  recognition.addEventListener(<span class="string">'end'</span>, recognition.start);</span><br><span class="line">  recognition.start();</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;20-Speech-Detection&quot;&gt;&lt;a href=&quot;#20-Speech-Detection&quot; class=&quot;headerlink&quot; title=&quot;20 - Speech Detection&quot;&gt;&lt;/a&gt;20 - Speech Detection&lt;/h2&gt;&lt;
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村19 - Webcam Fun</title>
    <link href="http://chestertang.site/2019/10/04/javascript19/"/>
    <id>http://chestertang.site/2019/10/04/javascript19/</id>
    <published>2019-10-04T06:23:04.000Z</published>
    <updated>2019-10-04T06:23:24.676Z</updated>
    
    <content type="html"><![CDATA[<h2 id="19-Webcam-Fun"><a href="#19-Webcam-Fun" class="headerlink" title="19 - Webcam Fun"></a>19 - Webcam Fun</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li><p>使用Webcam進行以下動作</p><ul><li><p>功能</p><ul><li>拍照功能</li><li>拍照檔案儲存.png檔</li><li>拉動上面的range會改變濾鏡參數</li></ul></li><li><p>畫面</p><ul><li><p>右上角出現webcam的畫面</p></li><li><p>中間的大圖是<code>canvas</code>輸出結果</p></li><li><p>出現照片縮圖列表</p></li><li><p>加上濾鏡(redEffect、rgbSplit、globalAlpha、Green screen)</p></li></ul></li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Get User Media Code Along!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"photobooth"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">"takePhoto()"</span>&gt;</span>Take Photo<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--       &lt;div class="rgb"&gt;</span></span><br><span class="line"><span class="comment">        &lt;label for="rmin"&gt;Red Min:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="rmin"&gt;</span></span><br><span class="line"><span class="comment">        &lt;label for="rmax"&gt;Red Max:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="rmax"&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;br&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;label for="gmin"&gt;Green Min:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="gmin"&gt;</span></span><br><span class="line"><span class="comment">        &lt;label for="gmax"&gt;Green Max:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="gmax"&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;br&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        &lt;label for="bmin"&gt;Blue Min:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="bmin"&gt;</span></span><br><span class="line"><span class="comment">        &lt;label for="bmax"&gt;Blue Max:&lt;/label&gt;</span></span><br><span class="line"><span class="comment">        &lt;input type="range" min=0 max=255 name="bmax"&gt;</span></span><br><span class="line"><span class="comment">      &lt;/div&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"photo"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">"player"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"strip"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">audio</span> <span class="attr">class</span>=<span class="string">"snap"</span> <span class="attr">src</span>=<span class="string">"http://wesbos.com/demos/photobooth/snap.mp3"</span> <span class="attr">hidden</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"scripts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Script-js"><a href="#Script-js" class="headerlink" title="Script.js"></a>Script.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.querySelector(<span class="string">'.player'</span>);</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'.photo'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">const</span> strip = <span class="built_in">document</span>.querySelector(<span class="string">'.strip'</span>);</span><br><span class="line"><span class="keyword">const</span> snap = <span class="built_in">document</span>.querySelector(<span class="string">'.snap'</span>);</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，我們需要使用者先允許瀏覽器可以使用現在裝置的相機，否則這個範例就在此結束，我們就跟大家下一篇見面了…允許之後，使用者能在瀏覽器上看見自己的螢幕呈現於畫面上，至於應該怎麼抓呢？可以在後面設定要開啟的只有影片還是聲音，以及影片的大小寬高等等。此外，如果沒有開啟攝像頭成功應該在 console 中告訴使用者這件事情，詳細的範例連結可以直接在這個地方了解：<a href="https://tinyurl.com/y22tls2h" target="_blank" rel="noopener">https://tinyurl.com/y22tls2h</a></p><p>Navigator：<a href="https://tinyurl.com/y2s2bozg" target="_blank" rel="noopener">https://tinyurl.com/y2s2bozg</a><br>MediaDevices.getUserMedia()：<a href="https://tinyurl.com/ojzyz72" target="_blank" rel="noopener">https://tinyurl.com/ojzyz72</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// script.js</span></span><br><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.querySelector(<span class="string">'.player'</span>);</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'.photo'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">const</span> strip = <span class="built_in">document</span>.querySelector(<span class="string">'.strip'</span>);</span><br><span class="line"><span class="keyword">const</span> snap = <span class="built_in">document</span>.querySelector(<span class="string">'.snap'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 舊語法 navigator.getUserMedia();</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVideo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  navigator.mediaDevices.getUserMedia(&#123; <span class="attr">video</span>: <span class="literal">true</span>, <span class="attr">audio</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">localMediaStream</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(localMediaStream);</span><br><span class="line">      </span><br><span class="line">      video.srcObject = localMediaStream;</span><br><span class="line">      video.play();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">`OH NO!!!`</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getVideo();</span><br></pre></td></tr></table></figure><p>能開啟攝像頭之後，我們來將攝像頭的螢幕透過 Canvas 繪圖畫在螢幕上</p><p>window.setInterval：<a href="https://tinyurl.com/y6ae337q" target="_blank" rel="noopener">https://tinyurl.com/y6ae337q</a></p><p>CanvasRenderingContext2D.drawImage()：<a href="https://tinyurl.com/y4wzme56" target="_blank" rel="noopener">https://tinyurl.com/y4wzme56</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paintToCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> width = video.videoWidth;</span><br><span class="line">  <span class="keyword">const</span> height = video.videoHeight;</span><br><span class="line">  canvas.width = width;</span><br><span class="line">  canvas.height = height;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ctx.drawImage(video, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    <span class="keyword">let</span> pixels = ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    ctx.putImageData(pixels, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;, <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">video.addEventListener(<span class="string">'canplay'</span>, paintToCanvas);</span><br></pre></td></tr></table></figure><p>接下來，我們要來處理在RGBA情況下，我們要的顏色是什麼，其中這邊會跑一個FOR迴圈。而為什麼會是 +=4 就很明顯了，我們抓到的 <code>pixels.data</code> 會有四個值，如果你在前段有把螢幕轉換成 Canvas 的點的時候，有把點印出來就會發現，轉出來的點會是原來的值的四倍，也就是這邊的RGBA四個點。因此，如果是第一個也就是紅色、第二個是綠色…</p><p>迴圈內的數字也就是分別調整紅、綠、藍要加上多少的顏色了！並透過三個色版分開並做位移</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">redEffect</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i+=<span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i + <span class="number">0</span>] = pixels.data[i + <span class="number">0</span>] + <span class="number">200</span>; <span class="comment">// RED</span></span><br><span class="line">    pixels.data[i + <span class="number">1</span>] = pixels.data[i + <span class="number">1</span>] - <span class="number">50</span>; <span class="comment">// GREEN</span></span><br><span class="line">    pixels.data[i + <span class="number">2</span>] = pixels.data[i + <span class="number">2</span>] * <span class="number">0.5</span>; <span class="comment">// Blue</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgbSplit</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i+=<span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i - <span class="number">150</span>] = pixels.data[i + <span class="number">0</span>]; <span class="comment">// RED</span></span><br><span class="line">    pixels.data[i + <span class="number">500</span>] = pixels.data[i + <span class="number">1</span>]; <span class="comment">// GREEN</span></span><br><span class="line">    pixels.data[i - <span class="number">550</span>] = pixels.data[i + <span class="number">2</span>]; <span class="comment">// Blue</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greenScreen</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> levels = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelectorAll(<span class="string">'.rgb input'</span>).forEach(<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    levels[input.name] = input.value;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; pixels.data.length; i = i + <span class="number">4</span>) &#123;</span><br><span class="line">    red = pixels.data[i + <span class="number">0</span>];</span><br><span class="line">    green = pixels.data[i + <span class="number">1</span>];</span><br><span class="line">    blue = pixels.data[i + <span class="number">2</span>];</span><br><span class="line">    alpha = pixels.data[i + <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (red &gt;= levels.rmin</span><br><span class="line">      &amp;&amp; green &gt;= levels.gmin</span><br><span class="line">      &amp;&amp; blue &gt;= levels.bmin</span><br><span class="line">      &amp;&amp; red &lt;= levels.rmax</span><br><span class="line">      &amp;&amp; green &lt;= levels.gmax</span><br><span class="line">      &amp;&amp; blue &lt;= levels.bmax) &#123;</span><br><span class="line">      <span class="comment">// take it out!</span></span><br><span class="line">      pixels.data[i + <span class="number">3</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最後，再來拍張照片吧！如果 canvas 的高度或是寬度為 0,，將會回傳字串 “data:,”，如果要求的圖像類型並非 image/png，但是回傳的類型卻是 data:image/png，表示要求的圖像類型並不支援！</p><p>HTMLCanvasElement.toDataURL()：<a href="https://tinyurl.com/y2swfgtb" target="_blank" rel="noopener">https://tinyurl.com/y2swfgtb</a></p><p>人臉辨識opencv.js：<a href="https://tinyurl.com/yyg498jc" target="_blank" rel="noopener">https://tinyurl.com/yyg498jc</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takePhoto</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  snap.currentTime = <span class="number">0</span>;</span><br><span class="line">  snap.play();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> data = canvas.toDataURL(<span class="string">'image/jpeg'</span>);</span><br><span class="line">  <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  link.href = data;</span><br><span class="line">  link.setAttribute(<span class="string">'download'</span>, <span class="string">'handsome'</span>);</span><br><span class="line">  link.innerHTML = <span class="string">`&lt;img src="<span class="subst">$&#123;data&#125;</span>" alt="Handsome Man" /&gt;`</span>;</span><br><span class="line">  strip.insertBefore(link, strip.firstChild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> video = <span class="built_in">document</span>.querySelector(<span class="string">'.player'</span>);</span><br><span class="line"><span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">'.photo'</span>);</span><br><span class="line"><span class="keyword">const</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"><span class="keyword">const</span> strip = <span class="built_in">document</span>.querySelector(<span class="string">'.strip'</span>);</span><br><span class="line"><span class="keyword">const</span> snap = <span class="built_in">document</span>.querySelector(<span class="string">'.snap'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getVideo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  navigator.mediaDevices.getUserMedia(&#123; <span class="attr">video</span>: <span class="literal">true</span>, <span class="attr">audio</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">    .then(<span class="function"><span class="params">localMediaStream</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(localMediaStream);</span><br><span class="line">      </span><br><span class="line">      video.srcObject = localMediaStream;</span><br><span class="line">      video.play();</span><br><span class="line">    &#125;)</span><br><span class="line">    .catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="built_in">console</span>.error(<span class="string">`OH NO!!!`</span>, err);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paintToCanvas</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> width = video.videoWidth;</span><br><span class="line">  <span class="keyword">const</span> height = video.videoHeight;</span><br><span class="line">  canvas.width = width;</span><br><span class="line">  canvas.height = height;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    ctx.drawImage(video, <span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    <span class="keyword">let</span> pixels = ctx.getImageData(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    pixels = rgbSplit(pixels);</span><br><span class="line">    ctx.putImageData(pixels, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  &#125;, <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">redEffect</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i+=<span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i + <span class="number">0</span>] = pixels.data[i + <span class="number">0</span>] + <span class="number">200</span>; </span><br><span class="line">    pixels.data[i + <span class="number">1</span>] = pixels.data[i + <span class="number">1</span>] - <span class="number">50</span>;</span><br><span class="line">    pixels.data[i + <span class="number">2</span>] = pixels.data[i + <span class="number">2</span>] * <span class="number">0.5</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rgbSplit</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; pixels.data.length; i+=<span class="number">4</span>) &#123;</span><br><span class="line">    pixels.data[i - <span class="number">150</span>] = pixels.data[i + <span class="number">0</span>]; </span><br><span class="line">    pixels.data[i + <span class="number">500</span>] = pixels.data[i + <span class="number">1</span>]; </span><br><span class="line">    pixels.data[i - <span class="number">550</span>] = pixels.data[i + <span class="number">2</span>]; </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">greenScreen</span>(<span class="params">pixels</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> levels = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelectorAll(<span class="string">'.rgb input'</span>).forEach(<span class="function">(<span class="params">input</span>) =&gt;</span> &#123;</span><br><span class="line">    levels[input.name] = input.value;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; pixels.data.length; i = i + <span class="number">4</span>) &#123;</span><br><span class="line">    red = pixels.data[i + <span class="number">0</span>];</span><br><span class="line">    green = pixels.data[i + <span class="number">1</span>];</span><br><span class="line">    blue = pixels.data[i + <span class="number">2</span>];</span><br><span class="line">    alpha = pixels.data[i + <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (red &gt;= levels.rmin</span><br><span class="line">      &amp;&amp; green &gt;= levels.gmin</span><br><span class="line">      &amp;&amp; blue &gt;= levels.bmin</span><br><span class="line">      &amp;&amp; red &lt;= levels.rmax</span><br><span class="line">      &amp;&amp; green &lt;= levels.gmax</span><br><span class="line">      &amp;&amp; blue &lt;= levels.bmax) &#123;</span><br><span class="line">      <span class="comment">// take it out!</span></span><br><span class="line">      pixels.data[i + <span class="number">3</span>] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> pixels;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">takePhoto</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  snap.currentTime = <span class="number">0</span>;</span><br><span class="line">  snap.play();</span><br><span class="line">  <span class="keyword">const</span> data = canvas.toDataURL(<span class="string">'image/jpeg'</span>);</span><br><span class="line">  <span class="keyword">const</span> link = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">  link.href = data;</span><br><span class="line">  link.setAttribute(<span class="string">'download'</span>, <span class="string">'handsome'</span>);</span><br><span class="line">  link.innerHTML = <span class="string">`&lt;img src="<span class="subst">$&#123;data&#125;</span>" alt="Handsome Man" /&gt;`</span>;</span><br><span class="line">  strip.insertBefore(link, strip.firstChild);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getVideo();</span><br><span class="line">video.addEventListener(<span class="string">'canplay'</span>, paintToCanvas);</span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;19-Webcam-Fun&quot;&gt;&lt;a href=&quot;#19-Webcam-Fun&quot; class=&quot;headerlink&quot; title=&quot;19 - Webcam Fun&quot;&gt;&lt;/a&gt;19 - Webcam Fun&lt;/h2&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生遠離我&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村18 - Adding Up Times with Reduce</title>
    <link href="http://chestertang.site/2019/10/03/javascript18/"/>
    <id>http://chestertang.site/2019/10/03/javascript18/</id>
    <published>2019-10-03T09:46:04.000Z</published>
    <updated>2019-10-03T09:46:54.399Z</updated>
    
    <content type="html"><![CDATA[<h2 id="18-Adding-Up-Times-with-Reduce"><a href="#18-Adding-Up-Times-with-Reduce" class="headerlink" title="18 - Adding Up Times with Reduce"></a>18 - Adding Up Times with Reduce</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>透過 <code>Reduce</code> 把播放清單中的時間加起來。</p><ul><li><p>功能</p><p>加總時間</p></li><li><p>畫面</p><p>依時間格式顯示小時、分鐘、秒數</p></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Videos<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"videos"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:43"</span>&gt;</span></span><br><span class="line">        Video 1</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"2:33"</span>&gt;</span></span><br><span class="line">        Video 2</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:45"</span>&gt;</span></span><br><span class="line">        Video 3</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"0:47"</span>&gt;</span></span><br><span class="line">        Video 4</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:21"</span>&gt;</span></span><br><span class="line">        Video 5</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"6:56"</span>&gt;</span></span><br><span class="line">        Video 6</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:46"</span>&gt;</span></span><br><span class="line">        Video 7</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:25"</span>&gt;</span></span><br><span class="line">        Video 8</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:14"</span>&gt;</span></span><br><span class="line">        Video 9</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:31"</span>&gt;</span></span><br><span class="line">        Video 10</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:59"</span>&gt;</span></span><br><span class="line">        Video 11</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:07"</span>&gt;</span></span><br><span class="line">        Video 12</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"11:29"</span>&gt;</span></span><br><span class="line">        Video 13</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"8:57"</span>&gt;</span></span><br><span class="line">        Video 14</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:49"</span>&gt;</span></span><br><span class="line">        Video 15</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:52"</span>&gt;</span></span><br><span class="line">        Video 16</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:50"</span>&gt;</span></span><br><span class="line">        Video 17</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"9:13"</span>&gt;</span></span><br><span class="line">        Video 18</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"11:51"</span>&gt;</span></span><br><span class="line">        Video 19</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"7:58"</span>&gt;</span></span><br><span class="line">        Video 20</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:40"</span>&gt;</span></span><br><span class="line">        Video 21</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:45"</span>&gt;</span></span><br><span class="line">        Video 22</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"6:46"</span>&gt;</span></span><br><span class="line">        Video 23</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"7:24"</span>&gt;</span></span><br><span class="line">        Video 24</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"7:12"</span>&gt;</span></span><br><span class="line">        Video 25</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:23"</span>&gt;</span></span><br><span class="line">        Video 26</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:34"</span>&gt;</span></span><br><span class="line">        Video 27</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"8:22"</span>&gt;</span></span><br><span class="line">        Video 28</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:17"</span>&gt;</span></span><br><span class="line">        Video 29</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:10"</span>&gt;</span></span><br><span class="line">        Video 30</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:43"</span>&gt;</span></span><br><span class="line">        Video 31</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"19:43"</span>&gt;</span></span><br><span class="line">        Video 32</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"0:47"</span>&gt;</span></span><br><span class="line">        Video 33</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"0:47"</span>&gt;</span></span><br><span class="line">        Video 34</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:14"</span>&gt;</span></span><br><span class="line">        Video 35</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:59"</span>&gt;</span></span><br><span class="line">        Video 36</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"2:43"</span>&gt;</span></span><br><span class="line">        Video 37</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:17"</span>&gt;</span></span><br><span class="line">        Video 38</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"6:56"</span>&gt;</span></span><br><span class="line">        Video 39</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:05"</span>&gt;</span></span><br><span class="line">        Video 40</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"2:06"</span>&gt;</span></span><br><span class="line">        Video 41</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"1:59"</span>&gt;</span></span><br><span class="line">        Video 42</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"1:49"</span>&gt;</span></span><br><span class="line">        Video 43</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:36"</span>&gt;</span></span><br><span class="line">        Video 44</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"7:10"</span>&gt;</span></span><br><span class="line">        Video 45</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:44"</span>&gt;</span></span><br><span class="line">        Video 46</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:44"</span>&gt;</span></span><br><span class="line">        Video 47</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:36"</span>&gt;</span></span><br><span class="line">        Video 48</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:16"</span>&gt;</span></span><br><span class="line">        Video 49</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"1:10"</span>&gt;</span></span><br><span class="line">        Video 50</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"6:10"</span>&gt;</span></span><br><span class="line">        Video 51</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"2:14"</span>&gt;</span></span><br><span class="line">        Video 52</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"3:44"</span>&gt;</span></span><br><span class="line">        Video 53</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"5:05"</span>&gt;</span></span><br><span class="line">        Video 54</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"6:03"</span>&gt;</span></span><br><span class="line">        Video 55</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"12:39"</span>&gt;</span></span><br><span class="line">        Video 56</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"1:56"</span>&gt;</span></span><br><span class="line">        Video 57</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-time</span>=<span class="string">"4:04"</span>&gt;</span></span><br><span class="line">        Video 58</span><br><span class="line">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先透過 <code>querySelectorAll</code> 抓出所有的 <code>li</code>，方便我們之後透過 <code>reduce</code> 方法來計算裡面的時間，還記得前面幾張所說，透過這個方法抓出的數值會是一個 Nodelist，因此如果要轉成陣列的話有以下四種方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">  <span class="keyword">let</span> a = <span class="built_in">Array</span>.from(li).map( <span class="function"><span class="params">item</span> =&gt;</span> item);</span><br><span class="line">  <span class="keyword">let</span> b = [].map.call(li, item =&gt; item);</span><br><span class="line">  <span class="keyword">let</span> c = [].map.apply(li, [<span class="function"><span class="params">item</span> =&gt;</span> item]);</span><br><span class="line">  <span class="keyword">let</span> d = [...li].map( <span class="function"><span class="params">item</span> =&gt;</span> item);</span><br><span class="line"></span><br><span class="line"><span class="comment">//(58) [li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li, li]</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來，必須透過 <code>dataset.time</code> 來抓出 <code>li</code> 中 <code>data-time</code> 的值</p><p>HTMLElement.dataset：<a href="https://tinyurl.com/yywtglmc" target="_blank" rel="noopener">https://tinyurl.com/yywtglmc</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">  <span class="comment">// let a = Array.from(li).map( item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let b = [].map.call(li, item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let c = [].map.apply(li, [item =&gt; item]);</span></span><br><span class="line">  <span class="keyword">let</span> d = [...li].map( <span class="function"><span class="params">item</span> =&gt;</span> item.dataset.time);</span><br><span class="line">  <span class="built_in">console</span>.log(d);</span><br><span class="line"></span><br><span class="line"><span class="comment">//(58) ["5:43", "2:33", "3:45", "0:47", "5:21", "6:56", "3:46", "5:25", "3:14", "3:31", "5:59", "3:07", "11:29", "8:57", "5:49", "5:52", "5:50", "9:13", "11:51", "7:58", "4:40", "4:45", "6:46", "7:24", "7:12", "5:23", "3:34", "8:22", "5:17", "3:10", "4:43", "19:43", "0:47", "0:47", "3:14", "3:59", "2:43", "4:17", "6:56", "3:05", "2:06", "1:59", "1:49", "3:36", "7:10", "3:44", "3:44", "4:36", "3:16", "1:10", "6:10", "2:14", "3:44", "5:05", "6:03", "12:39", "1:56", "4:04"]</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>印出時間後，我們必須抓出分鐘、秒數，並命名為 [min,sec]，記得考慮到字串、數字的問題，不管是分鐘或者是秒數都必須乘上數字！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">  <span class="comment">// let a = Array.from(li).map( item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let b = [].map.call(li, item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let c = [].map.apply(li, [item =&gt; item]);</span></span><br><span class="line">  <span class="keyword">let</span> d = [...li].map( <span class="function"><span class="params">item</span> =&gt;</span> item.dataset.time)</span><br><span class="line">                 .map( <span class="function"><span class="params">time</span> =&gt;</span> &#123;</span><br><span class="line">               <span class="keyword">let</span> [min,sec] = time.split(<span class="string">":"</span>);</span><br><span class="line">              <span class="keyword">return</span> min * <span class="number">60</span> + sec * <span class="number">1</span> ;</span><br><span class="line">               &#125;);</span><br><span class="line">  <span class="built_in">console</span>.log(d);</span><br><span class="line"><span class="comment">//(58) [343, 153, 225, 47, 321, 416, 226, 325, 194, 211, 359, 187, 689, 537, 349, 352, 350, 553, 711, 478, 280, 285, 406, 444, 432, 323, 214, 502, 317, 190, 283, 1183, 47, 47, 194, 239, 163, 257, 416, 185, 126, 119, 109, 216, 430, 224, 224, 276, 196, 70, 370, 134, 224, 305, 363, 759, 116, 244]</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>這時候就要用上 <code>reduce</code> 將剛剛所有的時間加總起來，</p><p>Array.prototype.reduce()：<a href="https://tinyurl.com/yye5lgcw" target="_blank" rel="noopener">https://tinyurl.com/yye5lgcw</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">  <span class="comment">// let a = Array.from(li).map( item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let b = [].map.call(li, item =&gt; item);</span></span><br><span class="line">  <span class="comment">// let c = [].map.apply(li, [item =&gt; item]);</span></span><br><span class="line">  <span class="keyword">let</span> d = [...li].map( <span class="function"><span class="params">item</span> =&gt;</span> item.dataset.time)</span><br><span class="line">                 .map( <span class="function"><span class="params">time</span> =&gt;</span> &#123;</span><br><span class="line">                 <span class="keyword">let</span> [min,sec] = time.split(<span class="string">":"</span>);</span><br><span class="line">                  <span class="keyword">return</span> min * <span class="number">60</span> + sec * <span class="number">1</span> ;</span><br><span class="line">                 &#125;).reduce( <span class="function">(<span class="params">first,next</span>) =&gt;</span> first + next , <span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(d);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>最後再將所有的時間算數算出小時、分鐘、秒鐘～</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">      <span class="keyword">let</span> li = <span class="built_in">document</span>.querySelectorAll(<span class="string">"li"</span>);</span><br><span class="line">      <span class="comment">// let a = Array.from(li).map( item =&gt; item);</span></span><br><span class="line">      <span class="comment">// let b = [].map.call(li, item =&gt; item);</span></span><br><span class="line">      <span class="comment">// let c = [].map.apply(li, [item =&gt; item]);</span></span><br><span class="line">      <span class="keyword">let</span> d = [...li].map( <span class="function"><span class="params">item</span> =&gt;</span> item.dataset.time)</span><br><span class="line">                     .map( <span class="function"><span class="params">time</span> =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">let</span> [min,sec] = time.split(<span class="string">":"</span>);</span><br><span class="line">                        <span class="keyword">return</span> min * <span class="number">60</span> + sec * <span class="number">1</span> ;</span><br><span class="line">                     &#125;).reduce( <span class="function">(<span class="params">first,next</span>) =&gt;</span> first + next , <span class="number">0</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(d);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> sec = d % <span class="number">60</span>;</span><br><span class="line">      <span class="keyword">let</span> min = (d - sec) / <span class="number">60</span>;</span><br><span class="line">      <span class="keyword">let</span> hour = <span class="built_in">Math</span>.floor(min / <span class="number">60</span>);</span><br><span class="line"></span><br><span class="line">      min %= <span class="number">60</span>;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;hour&#125;</span>:<span class="subst">$&#123;min&#125;</span>:<span class="subst">$&#123;sec&#125;</span>`</span>);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> timeNodes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'[data-time]'</span>));</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> seconds = timeNodes</span><br><span class="line">    .map(<span class="function"><span class="params">node</span> =&gt;</span> node.dataset.time)</span><br><span class="line">    .map(<span class="function"><span class="params">timeCode</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> [mins, secs] = timeCode.split(<span class="string">':'</span>).map(<span class="built_in">parseFloat</span>);</span><br><span class="line">      <span class="keyword">return</span> (mins * <span class="number">60</span>) + secs;</span><br><span class="line">    &#125;)</span><br><span class="line">    .reduce(<span class="function">(<span class="params">total, vidSeconds</span>) =&gt;</span> total + vidSeconds);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> secondsLeft = seconds;</span><br><span class="line">    <span class="keyword">const</span> hours = <span class="built_in">Math</span>.floor(secondsLeft / <span class="number">3600</span>);</span><br><span class="line">    secondsLeft = secondsLeft % <span class="number">3600</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> mins = <span class="built_in">Math</span>.floor(secondsLeft / <span class="number">60</span>);</span><br><span class="line">    secondsLeft = secondsLeft % <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(hours, mins, secondsLeft);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;18-Adding-Up-Times-with-Reduce&quot;&gt;&lt;a href=&quot;#18-Adding-Up-Times-with-Reduce&quot; class=&quot;headerlink&quot; title=&quot;18 - Adding Up Times with Reduce
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村17 - Sort Without Articles</title>
    <link href="http://chestertang.site/2019/10/02/javascript17/"/>
    <id>http://chestertang.site/2019/10/02/javascript17/</id>
    <published>2019-10-02T13:21:04.000Z</published>
    <updated>2019-10-02T13:23:01.318Z</updated>
    
    <content type="html"><![CDATA[<h2 id="17-Sort-Without-Articles"><a href="#17-Sort-Without-Articles" class="headerlink" title="17 - Sort Without Articles"></a>17 - Sort Without Articles</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>透過 <code>Array.sort()</code> 排序一個Array，但是排序不考慮 “The”、”An”、”A” 這些字眼</p><ul><li>功能<ul><li>排序不考慮 “The”、”An”、”A” 這些字眼</li></ul></li><li>畫面<ul><li>顯示排序結果</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Sort Without Articles<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      body &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        font-family: sans-serif;</span><br><span class="line">        background: url("https://source.unsplash.com/nDqA4d5NL0k/2000x2000");</span><br><span class="line">        background-size: cover;</span><br><span class="line">        display: flex;</span><br><span class="line">        align-items: center;</span><br><span class="line">        min-height: 100vh;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      #bands &#123;</span><br><span class="line">        list-style: inside square;</span><br><span class="line">        font-size: 20px;</span><br><span class="line">        background: white;</span><br><span class="line">        width: 500px;</span><br><span class="line">        margin: auto;</span><br><span class="line">        padding: 0;</span><br><span class="line">        box-shadow: 0 0 0 20px rgba(0, 0, 0, 0.05);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      #bands li &#123;</span><br><span class="line">        border-bottom: 1px solid #efefef;</span><br><span class="line">        padding: 20px;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      #bands li:last-child &#123;</span><br><span class="line">        border-bottom: 0;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      a &#123;</span><br><span class="line">        color: #ffc600;</span><br><span class="line">        text-decoration: none;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"bands"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        const bands = ['The Plot in You', </span><br><span class="line">                       'The Devil Wears Prada', </span><br><span class="line">                       'Pierce the Veil', </span><br><span class="line">                       'Norma Jean', 'The Bled', </span><br><span class="line">                       'Say Anything', </span><br><span class="line">                       'The Midway State', </span><br><span class="line">                       'We Came as Romans', </span><br><span class="line">                       'Counterparts', </span><br><span class="line">                       'Oh, Sleeper', </span><br><span class="line">                       'A Skylit Drive', </span><br><span class="line">                       'Anywhere But Here', </span><br><span class="line">                       'An Old Dog'</span><br><span class="line">                      ];</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先來測試一下陣列的排序吧！其實原本的排序中有分穩定排序與不穩定排序，不過目前 Chrome 瀏覽器的支援度已經達到穩定狀態，因此不管是怎樣的重整都還是會是排序一樣的結果！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> bands = [<span class="string">'The Plot in You'</span>, </span><br><span class="line">                   <span class="string">'The Devil Wears Prada'</span>, </span><br><span class="line">                   <span class="string">'Pierce the Veil'</span>, </span><br><span class="line">                   <span class="string">'Norma Jean'</span>, <span class="string">'The Bled'</span>, </span><br><span class="line">                   <span class="string">'Say Anything'</span>, </span><br><span class="line">                   <span class="string">'The Midway State'</span>, </span><br><span class="line">                   <span class="string">'We Came as Romans'</span>, </span><br><span class="line">                   <span class="string">'Counterparts'</span>, </span><br><span class="line">                   <span class="string">'Oh, Sleeper'</span>, </span><br><span class="line">                   <span class="string">'A Skylit Drive'</span>, </span><br><span class="line">                   <span class="string">'Anywhere But Here'</span>, </span><br><span class="line">                   <span class="string">'An Old Dog'</span>]</span><br><span class="line">                  ;</span><br><span class="line">                  </span><br><span class="line">    <span class="keyword">let</span> sortband = bands.sort();</span><br><span class="line">    <span class="built_in">console</span>.log(sortband);</span><br><span class="line"></span><br><span class="line"><span class="comment">//["A Skylit Drive", "An Old Dog", "Anywhere But Here", "Counterparts", "Norma Jean", "Oh, Sleeper", "Pierce the Veil", "Say Anything", "The Bled", "The Devil Wears Prada", "The Midway State", "The Plot in You", "We Came as Romans"]</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>getElementById</code> 將排序的陣列透過 li 的方式加入 ID <code>bands</code> 之中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> bands = [<span class="string">'The Plot in You'</span>, </span><br><span class="line">                   <span class="string">'The Devil Wears Prada'</span>, </span><br><span class="line">                   <span class="string">'Pierce the Veil'</span>, </span><br><span class="line">                   <span class="string">'Norma Jean'</span>, <span class="string">'The Bled'</span>, </span><br><span class="line">                   <span class="string">'Say Anything'</span>, </span><br><span class="line">                   <span class="string">'The Midway State'</span>, </span><br><span class="line">                   <span class="string">'We Came as Romans'</span>, </span><br><span class="line">                   <span class="string">'Counterparts'</span>, </span><br><span class="line">                   <span class="string">'Oh, Sleeper'</span>, </span><br><span class="line">                   <span class="string">'A Skylit Drive'</span>, </span><br><span class="line">                   <span class="string">'Anywhere But Here'</span>, </span><br><span class="line">                   <span class="string">'An Old Dog'</span>]</span><br><span class="line">                  ;</span><br><span class="line">                  </span><br><span class="line">    <span class="keyword">let</span> sortband = bands.sort();</span><br><span class="line">    <span class="built_in">console</span>.log(sortband);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"bands"</span>).innerHTML = sortband</span><br><span class="line">      .map(<span class="function"><span class="params">band</span> =&gt;</span> <span class="string">`&lt;li&gt;<span class="subst">$&#123;band&#125;</span>&lt;/li&gt;`</span>)</span><br><span class="line">      .join(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>然而，在這次的範例中，原作者的用意不是單純的排序而已，作者希望撇除掉 <code>a</code>、<code>the</code>、<code>an</code> 的排序，因此就會使用到正則運算式來撇除後，再做排序的動作</p><p>String.prototype.trim()：<a href="https://tinyurl.com/y3cpe564" target="_blank" rel="noopener">https://tinyurl.com/y3cpe564</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> bands = [<span class="string">'The Plot in You'</span>, </span><br><span class="line">                   <span class="string">'The Devil Wears Prada'</span>, </span><br><span class="line">                   <span class="string">'Pierce the Veil'</span>, </span><br><span class="line">                   <span class="string">'Norma Jean'</span>, <span class="string">'The Bled'</span>, </span><br><span class="line">                   <span class="string">'Say Anything'</span>, </span><br><span class="line">                   <span class="string">'The Midway State'</span>, </span><br><span class="line">                   <span class="string">'We Came as Romans'</span>, </span><br><span class="line">                   <span class="string">'Counterparts'</span>, </span><br><span class="line">                   <span class="string">'Oh, Sleeper'</span>, </span><br><span class="line">                   <span class="string">'A Skylit Drive'</span>, </span><br><span class="line">                   <span class="string">'Anywhere But Here'</span>, </span><br><span class="line">                   <span class="string">'An Old Dog'</span>]</span><br><span class="line">                  ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">strip</span>(<span class="params">bandName</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> bandName.replace(<span class="regexp">/^(a |the |an )/i</span>, <span class="string">''</span>).trim();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> sortband = bands.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> (strip(a) &gt; strip(b) ? <span class="number">1</span> : <span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// console.log(sortband);</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"bands"</span>).innerHTML = sortband</span><br><span class="line">      .map(<span class="function"><span class="params">band</span> =&gt;</span> <span class="string">`&lt;li&gt;<span class="subst">$&#123;band&#125;</span>&lt;/li&gt;`</span>)</span><br><span class="line">      .join(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">const</span> bands = [<span class="string">'The Plot in You'</span>, </span><br><span class="line">                   <span class="string">'The Devil Wears Prada'</span>, </span><br><span class="line">                   <span class="string">'Pierce the Veil'</span>, </span><br><span class="line">                   <span class="string">'Norma Jean'</span>, <span class="string">'The Bled'</span>, </span><br><span class="line">                   <span class="string">'Say Anything'</span>, </span><br><span class="line">                   <span class="string">'The Midway State'</span>, </span><br><span class="line">                   <span class="string">'We Came as Romans'</span>, </span><br><span class="line">                   <span class="string">'Counterparts'</span>, </span><br><span class="line">                   <span class="string">'Oh, Sleeper'</span>, </span><br><span class="line">                   <span class="string">'A Skylit Drive'</span>, </span><br><span class="line">                   <span class="string">'Anywhere But Here'</span>, </span><br><span class="line">                   <span class="string">'An Old Dog'</span>]</span><br><span class="line">                  ;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">strip</span>(<span class="params">bandName</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> bandName.replace(<span class="regexp">/^(a |the |an )/i</span>, <span class="string">''</span>).trim();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> sortband = bands.sort(<span class="function">(<span class="params">a,b</span>) =&gt;</span> (strip(a) &gt; strip(b) ? <span class="number">1</span> : <span class="number">-1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// console.log(sortband);</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">"bands"</span>).innerHTML = sortband</span><br><span class="line">      .map(<span class="function"><span class="params">band</span> =&gt;</span> <span class="string">`&lt;li&gt;<span class="subst">$&#123;band&#125;</span>&lt;/li&gt;`</span>)</span><br><span class="line">      .join(<span class="string">""</span>);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;17-Sort-Without-Articles&quot;&gt;&lt;a href=&quot;#17-Sort-Without-Articles&quot; class=&quot;headerlink&quot; title=&quot;17 - Sort Without Articles&quot;&gt;&lt;/a&gt;17 - Sort Wi
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村16 - Mouse Move Shadow</title>
    <link href="http://chestertang.site/2019/10/01/javascript16/"/>
    <id>http://chestertang.site/2019/10/01/javascript16/</id>
    <published>2019-10-01T13:24:04.000Z</published>
    <updated>2019-10-01T13:25:25.466Z</updated>
    
    <content type="html"><![CDATA[<h2 id="16-Mouse-Move-Shadow"><a href="#16-Mouse-Move-Shadow" class="headerlink" title="16 - Mouse Move Shadow"></a>16 - Mouse Move Shadow</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>移動滑鼠文字陰影要能移動</li></ul></li><li>畫面<ul><li>陰影要隨著滑鼠相對的位子來修改距離</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Mouse Shadow<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"hero"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span> <span class="attr">contenteditable</span>&gt;</span>🔥WOAH!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  html &#123;</span><br><span class="line">    color: black;</span><br><span class="line">    font-family: sans-serif;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  body &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .hero &#123;</span><br><span class="line">    min-height: 100vh;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: center;</span><br><span class="line">    align-items: center;</span><br><span class="line">    color: black;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  h1 &#123;</span><br><span class="line">    text-shadow: 10px 10px 0 rgba(0,0,0,1);</span><br><span class="line">    font-size: 100px;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，在這個範例中，我們要針對 <code>hero</code> 這個 Class 來製作文字陰影效果，當我們滑鼠移動時可以觸發效果，因此，第一步就先來看看滑鼠移動的觸發事件吧！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.hero'</span>).addEventListener(<span class="string">"mousemove"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// offsetX , offsetY</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>如果將座標做成百分比的形式呈現於畫面上</p><p>HTMLElement.offsetWidth：<a href="https://tinyurl.com/yxqsypky" target="_blank" rel="noopener">https://tinyurl.com/yxqsypky</a><br>HTMLElement.offsetHeight：<a href="https://tinyurl.com/y2j7nxg2" target="_blank" rel="noopener">https://tinyurl.com/y2j7nxg2</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.hero'</span>).addEventListener(<span class="string">"mousemove"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(e);</span></span><br><span class="line">    <span class="keyword">let</span> &#123; offsetX, offsetY &#125; = e;</span><br><span class="line">  </span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="built_in">Math</span>.floor((offsetX / <span class="keyword">this</span>.offsetWidth)*<span class="number">100</span>), </span><br><span class="line">      <span class="built_in">Math</span>.floor((offsetY / <span class="keyword">this</span>.offsetHeight)*<span class="number">100</span>)</span><br><span class="line">    );</span><br><span class="line">  &#125;);  </span><br><span class="line">  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>這時候會出現一個問題，從console可以看到我們接近螢幕左上角的時候數值會趨近於零、右下角的時候會趨近於一百，然而唯獨在中間我們不是在Class <code>hero</code> 的時候（也就是文字的區塊時），數字會被打亂，這也跟 offsetX、offsetY 的特性有所關聯，我們算到的是中間物件的 Offset</p><p>HTMLElement.offsetLeft：<a href="https://tinyurl.com/yxv8sthk" target="_blank" rel="noopener">https://tinyurl.com/yxv8sthk</a><br>HTMLElement.offsetTop：<a href="https://tinyurl.com/yymxkgxa" target="_blank" rel="noopener">https://tinyurl.com/yymxkgxa</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.hero'</span>).addEventListener(<span class="string">"mousemove"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(e);</span></span><br><span class="line">    <span class="keyword">let</span> &#123; offsetX, offsetY &#125; = e;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.target !== <span class="keyword">this</span>.target) &#123;</span><br><span class="line">      offsetX += e.target.offsetLeft;</span><br><span class="line">      offsetY += e.target.offsetTop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="built_in">Math</span>.floor((offsetX / <span class="keyword">this</span>.offsetWidth)*<span class="number">100</span>), </span><br><span class="line">      <span class="built_in">Math</span>.floor((offsetY / <span class="keyword">this</span>.offsetHeight)*<span class="number">100</span>)</span><br><span class="line">    );</span><br><span class="line">  &#125;);  </span><br><span class="line">  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來就來增加文字陰影吧！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> text = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.hero'</span>).addEventListener(<span class="string">"mousemove"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(e);</span></span><br><span class="line">    <span class="keyword">let</span> &#123; offsetX, offsetY &#125; = e;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.target !== <span class="keyword">this</span>) &#123;</span><br><span class="line">      offsetX += e.target.offsetLeft;</span><br><span class="line">      offsetY += e.target.offsetTop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> textoffsetX = <span class="built_in">Math</span>.floor((offsetX / <span class="keyword">this</span>.offsetWidth)*<span class="number">100</span>) * <span class="number">2</span> - <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">let</span> textoffsetY = <span class="built_in">Math</span>.floor((offsetY / <span class="keyword">this</span>.offsetHeight)*<span class="number">100</span>)* <span class="number">2</span> - <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    text.style.textShadow = <span class="string">`</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;textoffsetX&#125;</span>px <span class="subst">$&#123;textoffsetY&#125;</span>px 10px rgba(10,10,10,10) </span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">  &#125;);  </span><br><span class="line">  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> text = <span class="built_in">document</span>.querySelector(<span class="string">'h1'</span>);</span><br><span class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.hero'</span>).addEventListener(<span class="string">"mousemove"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(e);</span></span><br><span class="line">    <span class="keyword">let</span> &#123; offsetX, offsetY &#125; = e;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.target !== <span class="keyword">this</span>) &#123;</span><br><span class="line">      offsetX += e.target.offsetLeft;</span><br><span class="line">      offsetY += e.target.offsetTop;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> textoffsetX = <span class="built_in">Math</span>.floor((offsetX / <span class="keyword">this</span>.offsetWidth)*<span class="number">100</span>) * <span class="number">2</span> - <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">let</span> textoffsetY = <span class="built_in">Math</span>.floor((offsetY / <span class="keyword">this</span>.offsetHeight)*<span class="number">100</span>)* <span class="number">2</span> - <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    text.style.textShadow = <span class="string">`</span></span><br><span class="line"><span class="string">      <span class="subst">$&#123;textoffsetX&#125;</span>px <span class="subst">$&#123;textoffsetY&#125;</span>px 10px rgba(10,10,10,10) </span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">  &#125;);  </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;16-Mouse-Move-Shadow&quot;&gt;&lt;a href=&quot;#16-Mouse-Move-Shadow&quot; class=&quot;headerlink&quot; title=&quot;16 - Mouse Move Shadow&quot;&gt;&lt;/a&gt;16 - Mouse Move Shadow&lt;/
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村15 - LocalStorage</title>
    <link href="http://chestertang.site/2019/09/30/javascript15/"/>
    <id>http://chestertang.site/2019/09/30/javascript15/</id>
    <published>2019-09-30T07:02:04.000Z</published>
    <updated>2019-09-30T07:02:43.043Z</updated>
    
    <content type="html"><![CDATA[<h2 id="15-LocalStorage"><a href="#15-LocalStorage" class="headerlink" title="15 - LocalStorage"></a>15 - LocalStorage</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ol><li><p>localStorage</p></li><li><p>event delegation</p></li></ol><ul><li>功能<ul><li>做一個可以輸入文字的框，送出之後新增一個 Checkbox</li><li>重新整理時，選單不會清空會存進 localStorage</li></ul></li><li>畫面<ul><li>選單的選項前面，要有打勾的功能，並且自訂圖示</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>LocalStorage<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      Fish SVG Cred:</span></span><br><span class="line"><span class="comment">      https://thenounproject.com/search/?q=fish&amp;i=589236</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/2000/svg"</span> <span class="attr">xmlns:xlink</span>=<span class="string">"http://www.w3.org/1999/xlink"</span> <span class="attr">version</span>=<span class="string">"1.1"</span> <span class="attr">x</span>=<span class="string">"0px"</span> <span class="attr">y</span>=<span class="string">"0px"</span> <span class="attr">viewBox</span>=<span class="string">"0 0 512 512"</span> <span class="attr">enable-background</span>=<span class="string">"new 0 0 512 512"</span> <span class="attr">xml:space</span>=<span class="string">"preserve"</span>&gt;</span><span class="tag">&lt;<span class="name">g</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M495.9,425.3H16.1c-5.2,0-10.1,2.9-12.5,7.6c-2.4,4.7-2.1,10.3,0.9,14.6l39,56.4c2.6,3.8,7,6.1,11.6,6.1h401.7   c4.6,0,9-2.3,11.6-6.1l39-56.4c3-4.3,3.3-9.9,0.9-14.6C506,428.2,501.1,425.3,495.9,425.3z M449.4,481.8H62.6L43,453.6H469   L449.4,481.8z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M158.3,122c7.8,0,14.1-6.3,14.1-14.1V43.4c0-7.8-6.3-14.1-14.1-14.1c-7.8,0-14.1,6.3-14.1,14.1v64.5   C144.2,115.7,150.5,122,158.3,122z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M245.1,94.7c7.8,0,14.1-6.3,14.1-14.1V16.1c0-7.8-6.3-14.1-14.1-14.1C237.3,2,231,8.3,231,16.1v64.5   C231,88.4,237.3,94.7,245.1,94.7z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M331.9,122c7.8,0,14.1-6.3,14.1-14.1V43.4c0-7.8-6.3-14.1-14.1-14.1s-14.1,6.3-14.1,14.1v64.5   C317.8,115.7,324.1,122,331.9,122z"</span>/&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">"M9.6,385.2c5.3,2.8,11.8,1.9,16.2-2.2l50.6-47.7c56.7,46.5,126.6,71.9,198.3,71.9c0,0,0,0,0,0   c87.5,0,169.7-36.6,231.4-103.2c5-5.4,5-13.8,0-19.2c-61.8-66.5-144-103.2-231.4-103.2c-72,0-142.2,25.6-199,72.5l-50-47.1   c-4.4-4.1-10.9-5-16.2-2.2c-5.3,2.8-8.3,8.7-7.4,14.6l11.6,75L2.2,370.6C1.3,376.5,4.2,382.4,9.6,385.2z M380.9,230.8   c34.9,14.3,67.2,35.7,95.3,63.6c-10.1,10-20.8,19.2-31.9,27.5c-22.4-3.3-29.6-8.8-30.7-9.7c-4-5.7-11.8-7.7-18.1-4.4   c-6.9,3.6-9.5,12.2-5.9,19.1c1.9,3.5,7.3,10.3,22.4,16c-10.1,5.7-20.5,10.7-31.1,15.1C352.4,320.2,352.4,268.6,380.9,230.8z    M36.3,255.6l29.4,27.7c5.3,5,13.6,5.1,19.1,0.3c53.2-47.6,120.7-73.7,190-73.7c26.9,0,53.2,3.9,78.5,11.3   c-29.3,44.6-29.3,102,0,146.6c-25.3,7.4-51.6,11.3-78.5,11.3c-69,0-136.3-26-189.4-73.2c-2.7-2.4-13.4-6.3-19.1,0.3l-30.1,28.3   l5.7-40C42.2,293,36.3,255.6,36.3,255.6z"</span>/&gt;</span><span class="tag">&lt;<span class="name">circle</span> <span class="attr">cx</span>=<span class="string">"398.8"</span> <span class="attr">cy</span>=<span class="string">"273.8"</span> <span class="attr">r</span>=<span class="string">"14.1"</span>/&gt;</span><span class="tag">&lt;/<span class="name">g</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>LOCAL TAPAS<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"plates"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Loading Tapas...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"add-items"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"item"</span> <span class="attr">placeholder</span>=<span class="string">"Item Name"</span> <span class="attr">required</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"+ Add Item"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">  const addItems = document.querySelector('.add-items');</span><br><span class="line">  const itemsList = document.querySelector('.plates');</span><br><span class="line">  const items = [];</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">'http://wes.io/hx9M/oh-la-la.jpg'</span>) center no-repeat;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-family</span>: Futura,<span class="string">"Trebuchet MS"</span>,Arial,sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">svg</span> &#123;</span><br><span class="line">  <span class="attribute">fill</span>:white;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">350px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,0.95);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">100</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> <span class="selector-tag">label</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> <span class="selector-tag">input</span> + <span class="selector-tag">label</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'⬜️'</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.plates</span> <span class="selector-tag">input</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'🌮'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.add-items</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.add-items</span> <span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先開始前先將最後完成檔copy一份先把資料add到本地端的<code>localStorage</code>，方便等等開始寫來 <code>console</code> 。在這個範例檔當中，我們將從 <code>localStorage</code> 抓到的資料設為變數 <code>items</code> 後，產生出 HTML 塞進Class <code>plates</code> 之中，值得一提的是，我們該如何抓到資料、資料不會是空的造成 <code>undefined</code>呢？</p><p>在 <code>localStorage</code> 中，需要了解抓資料跟存資料的兩種方法： <code>getItem</code>、<code>setItem</code> ，並因為抓出來的一個字串，因此透過之前所提過的 <code>JSON.parse()</code> 轉換為物件，為了確保 <code>undefined</code> 的問題，如果抓不到的資料的話預設為空陣列</p><p>Storage.getItem()：<a href="https://tinyurl.com/mfx39k9" target="_blank" rel="noopener">https://tinyurl.com/mfx39k9</a></p><p>JSON.parse()：<a href="https://tinyurl.com/y48zz9vd" target="_blank" rel="noopener">https://tinyurl.com/y48zz9vd</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> addItems = <span class="built_in">document</span>.querySelector(<span class="string">'.add-items'</span>);</span><br><span class="line">  <span class="keyword">const</span> itemsList = <span class="built_in">document</span>.querySelector(<span class="string">'.plates'</span>);</span><br><span class="line">  <span class="keyword">const</span> items = <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">'items'</span>)) || [];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">populateList</span>(<span class="params">plates = [], platesList</span>) </span>&#123;</span><br><span class="line">    platesList.innerHTML = plates.map(<span class="function">(<span class="params">plate, i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;li&gt;</span></span><br><span class="line"><span class="string">          &lt;input type="checkbox" data-index="<span class="subst">$&#123;i&#125;</span>" id="item<span class="subst">$&#123;i&#125;</span>" </span></span><br><span class="line"><span class="string"> <span class="subst">$&#123;plate.done ? <span class="string">'checked'</span> : <span class="string">''</span>&#125;</span> /&gt;</span></span><br><span class="line"><span class="string">          &lt;label for="item<span class="subst">$&#123;i&#125;</span>"&gt;<span class="subst">$&#123;plate.text&#125;</span>&lt;/label&gt;</span></span><br><span class="line"><span class="string">        &lt;/li&gt;</span></span><br><span class="line"><span class="string">      `</span>;</span><br><span class="line">    &#125;).join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  populateList(items, itemsList);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來，我們來寫 <code>addItem</code> 的function，首先我們應該將輸入的資料抓到後 <code>push</code> 進去變數中 <code>items.push(item)</code> ，並且再次更新畫面 <code>populateList(items, itemsList)</code> 、更新資料 <code>localStorage.setItem(&#39;items&#39;, JSON.stringify(items))</code> ，將輸入的數值重整不要停留在畫面上<code>this.reset();</code></p><p>Event.preventDefault()：<a href="https://tinyurl.com/kkh9hmd" target="_blank" rel="noopener">https://tinyurl.com/kkh9hmd</a></p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// 上略</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">addItem</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">      e.preventDefault();</span><br><span class="line">      <span class="keyword">const</span> text = (<span class="keyword">this</span>.querySelector(<span class="string">'[name=item]'</span>)).value;</span><br><span class="line">      <span class="keyword">const</span> item = &#123;</span><br><span class="line">        text,</span><br><span class="line">        done: <span class="literal">false</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      items.push(item);</span><br><span class="line">      populateList(items, itemsList);</span><br><span class="line">      localStorage.setItem(<span class="string">'items'</span>, <span class="built_in">JSON</span>.stringify(items));</span><br><span class="line">      <span class="keyword">this</span>.reset();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    addItems.addEventListener(<span class="string">'submit'</span>, addItem);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>與上方的概念相同，我們有個 <code>toggleDone</code> 的function</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// 上略</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">toggleDone</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (!e.target.matches(<span class="string">'input'</span>)) <span class="keyword">return</span>; <span class="comment">// skip this unless it's an input</span></span><br><span class="line">      <span class="keyword">const</span> el = e.target;</span><br><span class="line">      <span class="keyword">const</span> index = el.dataset.index;</span><br><span class="line">      items[index].done = !items[index].done;</span><br><span class="line">      localStorage.setItem(<span class="string">'items'</span>, <span class="built_in">JSON</span>.stringify(items));</span><br><span class="line">      populateList(items, itemsList);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  itemsList.addEventListener(<span class="string">'click'</span>, toggleDone);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-final"><a href="#JS-final" class="headerlink" title="JS - final"></a>JS - final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> addItems = <span class="built_in">document</span>.querySelector(<span class="string">'.add-items'</span>);</span><br><span class="line">  <span class="keyword">const</span> itemsList = <span class="built_in">document</span>.querySelector(<span class="string">'.plates'</span>);</span><br><span class="line">  <span class="keyword">const</span> items = <span class="built_in">JSON</span>.parse(localStorage.getItem(<span class="string">'items'</span>)) || [];</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">addItem</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="keyword">const</span> text = (<span class="keyword">this</span>.querySelector(<span class="string">'[name=item]'</span>)).value;</span><br><span class="line">    <span class="keyword">const</span> item = &#123;</span><br><span class="line">      text,</span><br><span class="line">      done: <span class="literal">false</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    items.push(item);</span><br><span class="line">    populateList(items, itemsList);</span><br><span class="line">    localStorage.setItem(<span class="string">'items'</span>, <span class="built_in">JSON</span>.stringify(items));</span><br><span class="line">    <span class="keyword">this</span>.reset();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">populateList</span>(<span class="params">plates = [], platesList</span>) </span>&#123;</span><br><span class="line">    platesList.innerHTML = plates.map(<span class="function">(<span class="params">plate, i</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;li&gt;</span></span><br><span class="line"><span class="string">          &lt;input type="checkbox" data-index=<span class="subst">$&#123;i&#125;</span> id="item<span class="subst">$&#123;i&#125;</span>" <span class="subst">$&#123;plate.done ? <span class="string">'checked'</span> : <span class="string">''</span>&#125;</span> /&gt;</span></span><br><span class="line"><span class="string">          &lt;label for="item<span class="subst">$&#123;i&#125;</span>"&gt;<span class="subst">$&#123;plate.text&#125;</span>&lt;/label&gt;</span></span><br><span class="line"><span class="string">        &lt;/li&gt;</span></span><br><span class="line"><span class="string">      `</span>;</span><br><span class="line">    &#125;).join(<span class="string">''</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">toggleDone</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!e.target.matches(<span class="string">'input'</span>)) <span class="keyword">return</span>; <span class="comment">// skip this unless it's an input</span></span><br><span class="line">    <span class="keyword">const</span> el = e.target;</span><br><span class="line">    <span class="keyword">const</span> index = el.dataset.index;</span><br><span class="line">    items[index].done = !items[index].done;</span><br><span class="line">    localStorage.setItem(<span class="string">'items'</span>, <span class="built_in">JSON</span>.stringify(items));</span><br><span class="line">    populateList(items, itemsList);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  addItems.addEventListener(<span class="string">'submit'</span>, addItem);</span><br><span class="line">  itemsList.addEventListener(<span class="string">'click'</span>, toggleDone);</span><br><span class="line"></span><br><span class="line">  populateList(items, itemsList);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;15-LocalStorage&quot;&gt;&lt;a href=&quot;#15-LocalStorage&quot; class=&quot;headerlink&quot; title=&quot;15 - LocalStorage&quot;&gt;&lt;/a&gt;15 - LocalStorage&lt;/h2&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村14 - JS Reference VS Copy</title>
    <link href="http://chestertang.site/2019/09/29/javascript14/"/>
    <id>http://chestertang.site/2019/09/29/javascript14/</id>
    <published>2019-09-29T06:27:04.000Z</published>
    <updated>2019-09-29T06:29:22.465Z</updated>
    
    <content type="html"><![CDATA[<h2 id="14-JS-Reference-VS-Copy"><a href="#14-JS-Reference-VS-Copy" class="headerlink" title="14 - JS Reference VS Copy"></a>14 - JS Reference VS Copy</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><p>今天來做 JavaScript reference 與 copy 了解 JavaScript 是怎麼運作的</p><p>就依下面的題目一題一題做吧！(我也看不懂如何分題目…</p><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>JS Reference VS Copy<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    // start with strings, numbers and booleans</span><br><span class="line"></span><br><span class="line">    // Let's say we have an array</span><br><span class="line">    const players = ['Wes', 'Sarah', 'Ryan', 'Poppy'];</span><br><span class="line"></span><br><span class="line">    // and we want to make a copy of it.</span><br><span class="line"></span><br><span class="line">    // You might think we can just do something like this:</span><br><span class="line"></span><br><span class="line">    // however what happens when we update that array?</span><br><span class="line"></span><br><span class="line">    // now here is the problem!</span><br><span class="line"></span><br><span class="line">    // oh no - we have edited the original array too!</span><br><span class="line"></span><br><span class="line">    // Why? It's because that is an array reference, not an array copy. They both point to the same array!</span><br><span class="line"></span><br><span class="line">    // So, how do we fix this? We take a copy instead!</span><br><span class="line"></span><br><span class="line">    // one way</span><br><span class="line"></span><br><span class="line">    // or create a new array and concat the old one in</span><br><span class="line"></span><br><span class="line">    // or use the new ES6 Spread</span><br><span class="line"></span><br><span class="line">    // now when we update it, the original one isn't changed</span><br><span class="line"></span><br><span class="line">    // The same thing goes for objects, let's say we have a person object</span><br><span class="line"></span><br><span class="line">    // with Objects</span><br><span class="line">    const person = &#123;</span><br><span class="line">      name: 'Wes Bos',</span><br><span class="line">      age: 80</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    // and think we make a copy:</span><br><span class="line"></span><br><span class="line">    // how do we take a copy instead?</span><br><span class="line"></span><br><span class="line">    // We will hopefully soon see the object ...spread</span><br><span class="line"></span><br><span class="line">    // Things to note - this is only 1 level deep - both for Arrays and Objects. lodash has a cloneDeep method, but you should think twice before using it.</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，首先，從字串、數字、布林開始：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// start with strings, numbers and booleans</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> age = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">let</span> age2 = age;</span><br><span class="line">    <span class="built_in">console</span>.log(age, age2);</span><br><span class="line">    <span class="comment">// 100 100</span></span><br><span class="line"></span><br><span class="line">    age = <span class="number">200</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(age, age2);</span><br><span class="line">    <span class="comment">// 200 100</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">'Wes'</span>;</span><br><span class="line">    <span class="keyword">let</span> name2 = name;</span><br><span class="line">    <span class="built_in">console</span>.log(name, name2);</span><br><span class="line">    <span class="comment">// Wes Wes</span></span><br><span class="line"></span><br><span class="line">    name = <span class="string">'wesley'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(name, name2);</span><br><span class="line">    <span class="comment">//wesley Wes</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>複製陣列的三種方式</p><ol><li>Array.prototype.slice()：<a href="https://tinyurl.com/y386jf7b" target="_blank" rel="noopener">https://tinyurl.com/y386jf7b</a></li><li>Array.prototype.concat()：<a href="https://tinyurl.com/y4zx2jz8" target="_blank" rel="noopener">https://tinyurl.com/y4zx2jz8</a></li><li>ES6：[…]</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 陣列</span></span><br><span class="line">    <span class="keyword">const</span> players = [<span class="string">'Wes'</span>, <span class="string">'Sarah'</span>, <span class="string">'Ryan'</span>, <span class="string">'Poppy'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 我們希望複製這個陣列</span></span><br><span class="line">    <span class="keyword">const</span> team = players;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(players, team);</span><br><span class="line">    <span class="comment">// 也許你應該覺得就長這樣吧:</span></span><br><span class="line">    <span class="comment">// team[3] = 'Lux';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 但是當我們更新陣列的時候呢？</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 問題就...</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 我們原本的陣列也被更改到了～</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 因為這不是複製、都在記憶體中對應到同一個陣列</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// one way</span></span><br><span class="line">    <span class="keyword">const</span> team2 = players.slice();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// second </span></span><br><span class="line">    <span class="keyword">const</span> team3 = [].concat(players);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// or use the new ES6 Spread</span></span><br><span class="line">    <span class="keyword">const</span> team4 = [...players];</span><br><span class="line">    team4[<span class="number">3</span>] = <span class="string">'heeee hawww'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(team4);</span><br><span class="line">    <span class="comment">//["Wes", "Sarah", "Ryan", "heeee hawww"]</span></span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>物件的複製</p><ol><li>Object.assign()：<a href="https://tinyurl.com/j74djep" target="_blank" rel="noopener">https://tinyurl.com/j74djep</a></li><li>JSON.parse(JSON.stringify())：<a href="https://tinyurl.com/yyzultt5" target="_blank" rel="noopener">https://tinyurl.com/yyzultt5</a><ul><li>注意這種字串化的寫法，如果原本被複製的物件有 function，那新的複製物件呼叫 function 會失效，反之 <code>Object.assign()</code> 則不會</li></ul></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="comment">// with Objects</span></span><br><span class="line">    <span class="keyword">const</span> person = &#123;</span><br><span class="line">      name: <span class="string">'Wes Bos'</span>,</span><br><span class="line">      age: <span class="number">80</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// and think we make a copy:</span></span><br><span class="line">    <span class="comment">// const captain = person;</span></span><br><span class="line">    <span class="comment">// captain.number = 99;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// how do we take a copy instead?</span></span><br><span class="line">    <span class="keyword">const</span> cap2 = <span class="built_in">Object</span>.assign(&#123;&#125;, person, &#123; <span class="attr">number</span>: <span class="number">99</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(cap2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// We will hopefully soon see the object ...spread</span></span><br><span class="line">    <span class="comment">// const cap3 = &#123;...person&#125;;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Things to note - this is only 1 level deep - both for Arrays and Objects. lodash has a cloneDeep method, but you should think twice before using it.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> wes = &#123;</span><br><span class="line">      name: <span class="string">'Wes'</span>,</span><br><span class="line">      age: <span class="number">100</span>,</span><br><span class="line">      social: &#123;</span><br><span class="line">        twitter: <span class="string">'@wesbos'</span>,</span><br><span class="line">        facebook: <span class="string">'wesbos.developer'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.clear();</span><br><span class="line">    <span class="built_in">console</span>.log(wes);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> dev = <span class="built_in">Object</span>.assign(&#123;&#125;, wes);</span><br><span class="line">    <span class="keyword">const</span> dev2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(wes));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// start with strings, numbers and booleans</span></span><br><span class="line">    <span class="comment">// let age = 100;</span></span><br><span class="line">    <span class="comment">// let age2 = age;</span></span><br><span class="line">    <span class="comment">// console.log(age, age2);</span></span><br><span class="line">    <span class="comment">// age = 200;</span></span><br><span class="line">    <span class="comment">// console.log(age, age2);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// let name = 'Wes';</span></span><br><span class="line">    <span class="comment">// let name2 = name;</span></span><br><span class="line">    <span class="comment">// console.log(name, name2);</span></span><br><span class="line">    <span class="comment">// name = 'wesley';</span></span><br><span class="line">    <span class="comment">// console.log(name, name2);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Let's say we have an array</span></span><br><span class="line">    <span class="keyword">const</span> players = [<span class="string">'Wes'</span>, <span class="string">'Sarah'</span>, <span class="string">'Ryan'</span>, <span class="string">'Poppy'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// and we want to make a copy of it.</span></span><br><span class="line">    <span class="keyword">const</span> team = players;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.log(players, team);</span><br><span class="line">    <span class="comment">// You might think we can just do something like this:</span></span><br><span class="line">    <span class="comment">// team[3] = 'Lux';</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// however what happens when we update that array?</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// now here is the problem!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// oh no - we have edited the original array too!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Why? It's because that is an array reference, not an array copy. They both point to the same array!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// So, how do we fix this? We take a copy instead!</span></span><br><span class="line">    <span class="keyword">const</span> team2 = players.slice();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// one way</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// or create a new array and concat the old one in</span></span><br><span class="line">    <span class="keyword">const</span> team3 = [].concat(players);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// or use the new ES6 Spread</span></span><br><span class="line">    <span class="keyword">const</span> team4 = [...players];</span><br><span class="line">    team4[<span class="number">3</span>] = <span class="string">'heeee hawww'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(team4);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> team5 = <span class="built_in">Array</span>.from(players);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// now when we update it, the original one isn't changed</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// The same thing goes for objects, let's say we have a person object</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// with Objects</span></span><br><span class="line">    <span class="keyword">const</span> person = &#123;</span><br><span class="line">      name: <span class="string">'Wes Bos'</span>,</span><br><span class="line">      age: <span class="number">80</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// and think we make a copy:</span></span><br><span class="line">    <span class="comment">// const captain = person;</span></span><br><span class="line">    <span class="comment">// captain.number = 99;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// how do we take a copy instead?</span></span><br><span class="line">    <span class="keyword">const</span> cap2 = <span class="built_in">Object</span>.assign(&#123;&#125;, person, &#123; <span class="attr">number</span>: <span class="number">99</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(cap2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// We will hopefully soon see the object ...spread</span></span><br><span class="line">    <span class="comment">// const cap3 = &#123;...person&#125;;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Things to note - this is only 1 level deep - both for Arrays and Objects. lodash has a cloneDeep method, but you should think twice before using it.</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> wes = &#123;</span><br><span class="line">      name: <span class="string">'Wes'</span>,</span><br><span class="line">      age: <span class="number">100</span>,</span><br><span class="line">      social: &#123;</span><br><span class="line">        twitter: <span class="string">'@wesbos'</span>,</span><br><span class="line">        facebook: <span class="string">'wesbos.developer'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">console</span>.clear();</span><br><span class="line">    <span class="built_in">console</span>.log(wes);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> dev = <span class="built_in">Object</span>.assign(&#123;&#125;, wes);</span><br><span class="line">    <span class="keyword">const</span> dev2 = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(wes));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;14-JS-Reference-VS-Copy&quot;&gt;&lt;a href=&quot;#14-JS-Reference-VS-Copy&quot; class=&quot;headerlink&quot; title=&quot;14 - JS Reference VS Copy&quot;&gt;&lt;/a&gt;14 - JS Referen
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村13 - Slide in on Scroll</title>
    <link href="http://chestertang.site/2019/09/28/javascript13/"/>
    <id>http://chestertang.site/2019/09/28/javascript13/</id>
    <published>2019-09-28T03:58:04.000Z</published>
    <updated>2019-09-28T04:00:12.099Z</updated>
    
    <content type="html"><![CDATA[<h2 id="13-Slide-in-on-Scroll"><a href="#13-Slide-in-on-Scroll" class="headerlink" title="13 - Slide in on Scroll"></a>13 - Slide in on Scroll</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>捲到特定位置會載入特定圖片</li></ul></li><li>畫面<ul><li>進入畫面時，左邊的圖從左邊滑入，右邊的圖從右邊滑入</li><li>離開畫面時，左邊的圖從左邊滑出，右邊的圖從右邊滑出</li><li>滑入同時，要從透明漸漸出現</li><li>滑出同時，要從漸漸消失至透明</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"site-wrap"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Slide in on Scroll<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariaturlores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Adipisicing elit. Tempore tempora rerum..<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempore tempora rerum, est autem cupiditate, corporis a qui libero ipsum delectus quidem dolor at nulla, adipisci veniam in reiciendis aut asperiores omnis blanditiis quod quas laborum nam! Fuga ad tempora in aspernatur pariatur fugit quibusdam dolores sunt esse magni, ut, dignissimos.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/400"</span> <span class="attr">class</span>=<span class="string">"align-left slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptates, deserunt facilis et iste corrupti omnis tenetur est. Iste ut est dicta dolor itaque adipisci, dolorum minima, veritatis earum provident error molestias. Ratione magni illo sint vel velit ut excepturi consectetur suscipit, earum modi accusamus voluptatem nostrum, praesentium numquam, reiciendis voluptas sit id quisquam. Consequatur in quis reprehenderit modi perspiciatis necessitatibus saepe, quidem, suscipit iure natus dignissimos ipsam, eligendi deleniti accusantium, rerum quibusdam fugit perferendis et optio recusandae sed ratione. Culpa, dolorum reprehenderit harum ab voluptas fuga, nisi eligendi natus maiores illum quas quos et aperiam aut doloremque optio maxime fugiat doloribus. Eum dolorum expedita quam, nesciunt<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/401"</span> <span class="attr">class</span>=<span class="string">"align-right slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span> at provident praesentium atque quas rerum optio dignissimos repudiandae ullam illum quibusdam. Vel ad error quibusdam, illo ex totam placeat. Quos excepturi fuga, molestiae ea quisquam minus, ratione dicta consectetur officia omnis, doloribus voluptatibus? Veniam ipsum veritatis architecto, provident quas consequatur doloremque quam quidem earum expedita, ad delectus voluptatum, omnis praesentium nostrum qui aspernatur ea eaque adipisci et cumque ab? Ea voluptatum dolore itaque odio. Eius minima distinctio harum, officia ab nihil exercitationem. Tempora rem nemo nam temporibus molestias facilis minus ipsam quam doloribus consequatur debitis nesciunt tempore officiis aperiam quisquam, molestiae voluptates cum, fuga culpa. Distinctio accusamus quibusdam, tempore perspiciatis dolorum optio facere consequatur quidem ullam beatae architecto, ipsam sequi officiis dignissimos amet impedit natus necessitatibus tenetur repellendus dolor rem! Dicta dolorem, iure, facilis illo ex nihil ipsa amet officia, optio temporibus eum autem odit repellendus nisi. Possimus modi, corrupti error debitis doloribus dicta libero earum, sequi porro ut excepturi nostrum ea voluptatem nihil culpa? Ullam expedita eligendi obcaecati reiciendis velit provident omnis quas qui in corrupti est dolore facere ad hic, animi soluta assumenda consequuntur reprehenderit! Voluptate dolor nihil veniam laborum voluptas nisi pariatur sed optio accusantium quam consectetur, corrupti, sequi et consequuntur, excepturi doloremque. Tempore quis velit corporis neque fugit non sequi eaque rem hic. Facere, inventore, aspernatur. Accusantium modi atque, asperiores qui nobis soluta cumque suscipit excepturi possimus doloremque odit saepe perferendis temporibus molestiae nostrum voluptatum quis id sint quidem nesciunt culpa. Rerum labore dolor beatae blanditiis praesentium explicabo velit optio esse aperiam similique, voluptatem cum, maiores ipsa tempore. Reiciendis sed culpa atque inventore, nam ullam enim expedita consectetur id velit iusto alias vitae explicabo nemo neque odio reprehenderit soluta sint eaque. Aperiam, qui ut tenetur, voluptate doloremque officiis dicta quaerat voluptatem rerum natus magni. Eum amet autem dolor ullam.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/200/500"</span> <span class="attr">class</span>=<span class="string">"align-left slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/200/200"</span> <span class="attr">class</span>=<span class="string">"align-right slide-in"</span>&gt;</span> temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"http://unsplash.it/400/400"</span> <span class="attr">class</span>=<span class="string">"align-right slide-in"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Distinctio maiores adipisci quibusdam repudiandae dolor vero placeat esse sit! Quibusdam saepe aperiam explicabo placeat optio, consequuntur nihil voluptatibus expedita quia vero perferendis, deserunt et incidunt eveniet temporibus doloremque possimus facilis. Possimus labore, officia dolore! Eaque ratione saepe, alias harum laboriosam deserunt laudantium blanditiis eum explicabo placeat reiciendis labore iste sint. Consectetur expedita dignissimos, non quos distinctio, eos rerum facilis eligendi. Asperiores laudantium, rerum ratione consequatur, culpa consectetur possimus atque ab tempore illum non dolor nesciunt. Neque, rerum. A vel non incidunt, quod doloremque dignissimos necessitatibus aliquid laboriosam architecto at cupiditate commodi expedita in, quae blanditiis. Deserunt labore sequi, repellat laboriosam est, doloremque culpa reiciendis tempore excepturi. Enim nostrum fugit itaque vel corporis ullam sed tenetur ipsa qui rem quam error sint, libero. Laboriosam rem, ratione. Autem blanditiis laborum neque repudiandae quam, cumque, voluptate veritatis itaque, placeat veniam ad nisi. Expedita, laborum reprehenderit ratione soluta velit natus, odit mollitia. Corporis rerum minima fugiat in nostrum. Assumenda natus cupiditate hic quidem ex, quas, amet ipsum esse dolore facilis beatae maxime qui inventore, iste? Maiores dignissimos dolore culpa debitis voluptatem harum, excepturi enim reiciendis, tempora ab ipsam illum aspernatur quasi qui porro saepe iure sunt eligendi tenetur quaerat ducimus quas sequi omnis aperiam suscipit! Molestiae obcaecati officiis quo, ratione eveniet, provident pariatur. Veniam quasi expedita distinctio, itaque molestiae sequi, dolorum nisi repellendus quia facilis iusto dignissimos nam? Tenetur fugit quos autem nihil, perspiciatis expedita enim tempore, alias ab maiores quis necessitatibus distinctio molestias eum, quidem. Delectus impedit quidem laborum, fugit vel neque quo, ipsam, quasi aspernatur quas odio nihil? Veniam amet reiciendis blanditiis quis reprehenderit repudiandae neque, ab ducimus, odit excepturi voluptate saepe ipsam. Voluptatem eum error voluptas porro officiis, amet! Molestias, fugit, ut! Tempore non magnam, amet, facere ducimus accusantium eos veritatis neque.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    function debounce(func, wait = 20, immediate = true) &#123;</span><br><span class="line">      var timeout;</span><br><span class="line">      return function() &#123;</span><br><span class="line">        var context = this, args = arguments;</span><br><span class="line">        var later = function() &#123;</span><br><span class="line">          timeout = null;</span><br><span class="line">          if (!immediate) func.apply(context, args);</span><br><span class="line">        &#125;;</span><br><span class="line">        var callNow = immediate &amp;&amp; !timeout;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout = setTimeout(later, wait);</span><br><span class="line">        if (callNow) func.apply(context, args);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">    html &#123;</span><br><span class="line">      box-sizing: border-box;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">      font-family: 'helvetica neue';</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      font-weight: 200;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    body &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    *, *:before, *:after &#123;</span><br><span class="line">      box-sizing: inherit;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    h1 &#123;</span><br><span class="line">      margin-top: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .site-wrap &#123;</span><br><span class="line">      max-width: 700px;</span><br><span class="line">      margin: 100px auto;</span><br><span class="line">      background: white;</span><br><span class="line">      padding: 40px;</span><br><span class="line">      text-align: justify;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .align-left &#123;</span><br><span class="line">      float: left;</span><br><span class="line">      margin-right: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .align-right &#123;</span><br><span class="line">      float: right;</span><br><span class="line">      margin-left: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .slide-in &#123;</span><br><span class="line">      opacity: 0;</span><br><span class="line">      transition: all .5s;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .align-left.slide-in &#123;</span><br><span class="line">      transform: translateX(-30%) scale(0.95);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .align-right.slide-in &#123;</span><br><span class="line">      transform: translateX(30%) scale(0.95);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .slide-in.active &#123;</span><br><span class="line">      opacity: 1;</span><br><span class="line">      transform: translateX(0%) scale(1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，透過 <code>console.log</code> 來看看當使用者如果滑動頁面的捲軸時，會印出什麼結果…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// debounce</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"scroll"</span>, <span class="keyword">new</span> <span class="built_in">Date</span>().getTime());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, scrollHandler);</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>滑動一下視窗看看 <code>console</code> 會發生什麼？從中可以發現 <code>scroll</code>  這個事件是個會連續觸發的事件，非常的耗費我們電腦的資源，我們以 <code>new Date().getTime()</code> 的方式來看是多久會觸發一次來觀察，也因此了解到，作者在開始時給我們的程式碼中為什麼有 <code>debounce</code> 這個方法，試著加入試試看…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait = <span class="number">20</span>, immediate = true</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> timeout;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span>, args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">          <span class="keyword">if</span> (!immediate) func.apply(context, args);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">var</span> callNow = immediate &amp;&amp; !timeout;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout = setTimeout(later, wait);</span><br><span class="line">        <span class="keyword">if</span> (callNow) func.apply(context, args);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"scroll"</span>, <span class="keyword">new</span> <span class="built_in">Date</span>().getTime());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>看看Y軸在螢幕上的距離是多少吧！</p><p>Window.scrollY：<a href="https://tinyurl.com/yyktbyep" target="_blank" rel="noopener">https://tinyurl.com/yyktbyep</a></p><p>Window.innerHeight：<a href="https://tinyurl.com/y3ggmnsp" target="_blank" rel="noopener">https://tinyurl.com/y3ggmnsp</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//debounce</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>接下來，我們要處理的是在什麼時間點將圖片加入 <code>.slide-in.active</code> ，讓使用者在滑至視窗的Y軸時，可以將圖片由右至左、由左至右的滑入</p><p>如果直接沒有判斷時間點加入</p><p>Element.classList：<a href="https://tinyurl.com/y55e9cea" target="_blank" rel="noopener">https://tinyurl.com/y55e9cea</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">//debounce</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line">      img = <span class="built_in">document</span>.querySelector(<span class="string">"img"</span>);</span><br><span class="line">      img.classList.add(<span class="string">"active"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>使用者滑至照片的最上端使得圖片滑入</p><p>HTMLElement.offsetTop：<a href="https://tinyurl.com/yymxkgxa" target="_blank" rel="noopener">https://tinyurl.com/yymxkgxa</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> &lt;script&gt;</span><br><span class="line"> <span class="comment">//debounce</span></span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line">      <span class="keyword">let</span> img = <span class="built_in">document</span>.querySelector(<span class="string">"img"</span>);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> (img.offsetTop &lt; windowBottom) &#123;</span><br><span class="line">        img.classList.add(<span class="string">"active"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line">    </span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>上面的程式碼都是只有第一張圖片而已，我們現在要將整個頁面的圖片都可以有這樣的效果，就不能只是 <code>document.querySelector</code> 了！</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//debounce</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> images = <span class="built_in">document</span>.querySelectorAll(<span class="string">"img"</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line"></span><br><span class="line">      images.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (img.offsetTop &lt;  windowBottom) &#123;</span><br><span class="line">        img.classList.add(<span class="string">"active"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p> 如果想要是在照片的一半時使得圖片滑入</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//debounce</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> images = <span class="built_in">document</span>.querySelectorAll(<span class="string">"img"</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line"></span><br><span class="line">      images.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (img.offsetTop + img.height / <span class="number">2</span> &lt;  windowBottom) &#123;</span><br><span class="line">        img.classList.add(<span class="string">"active"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">func, wait = <span class="number">20</span>, immediate = true</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">var</span> timeout;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> context = <span class="keyword">this</span>, args = <span class="built_in">arguments</span>;</span><br><span class="line">        <span class="keyword">var</span> later = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">          timeout = <span class="literal">null</span>;</span><br><span class="line">          <span class="keyword">if</span> (!immediate) func.apply(context, args);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">var</span> callNow = immediate &amp;&amp; !timeout;</span><br><span class="line">        clearTimeout(timeout);</span><br><span class="line">        timeout = setTimeout(later, wait);</span><br><span class="line">        <span class="keyword">if</span> (callNow) func.apply(context, args);</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> images = <span class="built_in">document</span>.querySelectorAll(<span class="string">"img"</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">scrollHandler</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="comment">// console.log(window.scrollY);</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> windowTop = <span class="built_in">window</span>.scrollY;</span><br><span class="line">      <span class="keyword">let</span> windowBottom = windowTop + <span class="built_in">window</span>.innerHeight;</span><br><span class="line"><span class="keyword">let</span> imgMiddle = img.offsetTop + img.height / <span class="number">2</span>;</span><br><span class="line">      images.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">img</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (imgMiddle &lt;  windowBottom &amp;&amp; iimgMiddle &gt;  windowTop) &#123;</span><br><span class="line">          img.classList.add(<span class="string">"active"</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          img.classList.remove(<span class="string">"active"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">window</span>.addEventListener(<span class="string">"scroll"</span>, debounce(scrollHandler,<span class="number">100</span>));</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;13-Slide-in-on-Scroll&quot;&gt;&lt;a href=&quot;#13-Slide-in-on-Scroll&quot; class=&quot;headerlink&quot; title=&quot;13 - Slide in on Scroll&quot;&gt;&lt;/a&gt;13 - Slide in on Scro
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村12 - Key Sequence Detection</title>
    <link href="http://chestertang.site/2019/09/27/javascript12/"/>
    <id>http://chestertang.site/2019/09/27/javascript12/</id>
    <published>2019-09-26T23:26:04.000Z</published>
    <updated>2019-09-26T23:27:22.340Z</updated>
    
    <content type="html"><![CDATA[<h2 id="12-Key-Sequence-Detection"><a href="#12-Key-Sequence-Detection" class="headerlink" title="12 - Key Sequence Detection"></a>12 - Key Sequence Detection</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>做一個打密碼出現彩蛋的功能，像是以前打遊戲的密技（WWSSAADD）<ul><li>呼叫以下網站的圖樣：<a href="http://www.cornify.com/js/cornify.js" target="_blank" rel="noopener">http://www.cornify.com/js/cornify.js</a></li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Key Detection<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"http://www.cornify.com/js/cornify.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，這個範例就是使用者打出 <code>secretCode</code> 密技的內容 <code>上上下下左左右右</code> 就可以召喚出圖片，因此，開始時我們應該先偵測使用者在 <code>keyup</code> 的時候，輸入了什麼按鍵</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(env.key, env.keyCode)</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>把指令的密技 <code>keyCode</code> 存成一個陣列，並將使用者的 <code>input</code> 設為一個空陣列</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(env.key, env.keyCode)</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>假設使用者輸入數字時，透過 <code>push</code> 會將 <code>keyCode</code> 推進去 <code>userinput</code> 陣列中</p><p>Array.prototype.push()：<a href="https://tinyurl.com/yycov32s" target="_blank" rel="noopener">https://tinyurl.com/yycov32s</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>如果使用者 input 的 <code>Keycode</code> 跟 <code>secretCode</code> 相同的話，就會呼叫 <code>cornify_add()</code> 這個 JS 套件中的方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">''</span>) === secretCode.join(<span class="string">''</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p><code>userinput</code> 陣列打對一次後會一直越來越多～來判斷一下 <code>userinput</code> 長度太長的話，把第一個砍掉</p><p>Array.prototype.shift()：<a href="https://tinyurl.com/y4bs8dmf" target="_blank" rel="noopener">https://tinyurl.com/y4bs8dmf</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(userinput.length &gt; secretCode.length)&#123;</span><br><span class="line">      userinput.shift();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">''</span>) === secretCode.join(<span class="string">''</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> secretCode = [<span class="number">38</span>, <span class="number">38</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">37</span>, <span class="number">37</span>, <span class="number">39</span>, <span class="number">39</span>];</span><br><span class="line">  <span class="keyword">const</span> userinput = [];</span><br><span class="line">  <span class="built_in">window</span>.addEventListener(<span class="string">'keyup'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    userinput.push(env.keyCode);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(userinput.length &gt; secretCode.length)&#123;</span><br><span class="line">      userinput.shift();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(userinput.join(<span class="string">'|'</span>) === secretCode.join(<span class="string">'|'</span>))&#123;</span><br><span class="line">      cornify_add();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;12-Key-Sequence-Detection&quot;&gt;&lt;a href=&quot;#12-Key-Sequence-Detection&quot; class=&quot;headerlink&quot; title=&quot;12 - Key Sequence Detection&quot;&gt;&lt;/a&gt;12 - Key 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村11 - Custom Video Player</title>
    <link href="http://chestertang.site/2019/09/26/javascript11/"/>
    <id>http://chestertang.site/2019/09/26/javascript11/</id>
    <published>2019-09-25T23:49:04.000Z</published>
    <updated>2019-09-25T23:50:20.149Z</updated>
    
    <content type="html"><![CDATA[<h2 id="11-Custom-Video-Player"><a href="#11-Custom-Video-Player" class="headerlink" title="11 - Custom Video Player"></a>11 - Custom Video Player</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h1 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h1><ul><li>功能<ul><li>和預設介面相同的功能<ul><li>play、pause、跳到指定時間、音量調整、播放速度、往前10秒、往後5秒</li></ul></li></ul></li><li>畫面<ul><li>縮起來剩下進度條</li><li>Hover整個出現</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Video Player<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">"player__video viewer"</span> <span class="attr">src</span>=<span class="string">"652333414.mp4"</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player__controls"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress__filled"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"player__button toggle"</span> <span class="attr">title</span>=<span class="string">"Toggle Play"</span>&gt;</span>►<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"volume"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"1"</span> <span class="attr">step</span>=<span class="string">"0.05"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"playbackRate"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0.5"</span> <span class="attr">max</span>=<span class="string">"2"</span> <span class="attr">step</span>=<span class="string">"0.1"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"-10"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>« 10s<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"25"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>25s »<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"scripts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#7A419B</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(135deg, #7c1599 0%,#921099 48%,#7e4ae8 100%);</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">750px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">5px</span> solid <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* This css is only applied when fullscreen is active. */</span></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:fullscreen</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:-webkit-full-screen</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: none;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__video</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: none;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__button</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">border-color</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__slider</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(100%) <span class="built_in">translateY</span>(-5px);</span><br><span class="line">  <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.player__controls</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.progress</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.player__controls</span> &gt; * &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progress</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">10</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-basis</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: height <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(0,0,0,0.5);</span><br><span class="line">  <span class="attribute">cursor</span>: ew-resize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.progress__filled</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">flex-basis</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* unholy css to style input type="range" */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">  <span class="attribute">background</span>: transparent;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-webkit-slider-runnable-track</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8.4px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(255,255,255,0.8);</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1.3px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.2px</span> solid <span class="built_in">rgba</span>(1, 1, 1, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-webkit-slider-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">  <span class="attribute">margin-top</span>: -<span class="number">3.5px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0,0,0,0.2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">:focus</span><span class="selector-pseudo">::-webkit-slider-runnable-track</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#bada55</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-moz-range-track</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8.4px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">1px</span> <span class="number">1px</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">1px</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffffff</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">1.3px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0.2px</span> solid <span class="built_in">rgba</span>(1, 1, 1, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type=range]</span><span class="selector-pseudo">::-moz-range-thumb</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">rgba</span>(0, 0, 0, 0), <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">rgba</span>(13, 13, 13, 0);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先可以估狗查一下在 HTML、JS 處理 Vedio 的方法上，是如何來進行操作的，分別可以看到 <code>&lt;video&gt;: The Video Embed element</code> 、 <code>HTMLMediaElement</code> </p><p><video> The Video Embed element：<a href="https://tinyurl.com/k8qo497" target="_blank" rel="noopener">https://tinyurl.com/k8qo497</a></video></p><p>HTMLMediaElement：<a href="https://tinyurl.com/yxcx6wpq" target="_blank" rel="noopener">https://tinyurl.com/yxcx6wpq</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span> <span class="attr">width</span>=<span class="string">"250"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"/media/examples/flower.webm"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"video/webm"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">"/media/examples/flower.mp4"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">type</span>=<span class="string">"video/mp4"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    Sorry, your browser doesn't support embedded videos.</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在這個範例中，原作者想要將給個按鈕都能自己手刻、控制速度、音量大小、暫停、開始、快轉等等效果，但其實滿不實際的，第一個想到處理影片的方式一定是直接丟 Youtube 嵌入，把影片放在自己本地端有點吃資源</p><p>於是就查了一下如果影片在本地端，到底該如何使用呢？只要有個 <code>class</code> 叫做 <code>controls</code> 就可以了…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML Video Player<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">video</span> <span class="attr">class</span>=<span class="string">"player__video viewer"</span> <span class="attr">src</span>=<span class="string">"652333414.mp4"</span> <span class="attr">controls</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"></span><br><span class="line">     <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"player__controls"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"progress__filled"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"player__button toggle"</span> <span class="attr">title</span>=<span class="string">"Toggle Play"</span>&gt;</span>►<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"volume"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0"</span> <span class="attr">max</span>=<span class="string">"1"</span> <span class="attr">step</span>=<span class="string">"0.05"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">name</span>=<span class="string">"playbackRate"</span> <span class="attr">class</span>=<span class="string">"player__slider"</span> <span class="attr">min</span>=<span class="string">"0.5"</span> <span class="attr">max</span>=<span class="string">"2"</span> <span class="attr">step</span>=<span class="string">"0.1"</span> <span class="attr">value</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"-10"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>« 10s<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-skip</span>=<span class="string">"25"</span> <span class="attr">class</span>=<span class="string">"player__button"</span>&gt;</span>25s »<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"scripts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！（欸～不是啦！雖然這樣很實際但還是尊重一下原本作者想要練習的東西嘛…</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Get Our Elements */</span></span><br><span class="line"><span class="keyword">const</span> player = <span class="built_in">document</span>.querySelector(<span class="string">'.player'</span>);</span><br><span class="line"><span class="keyword">const</span> video = player.querySelector(<span class="string">'.viewer'</span>);</span><br><span class="line"><span class="keyword">const</span> progress = player.querySelector(<span class="string">'.progress'</span>);</span><br><span class="line"><span class="keyword">const</span> progressBar = player.querySelector(<span class="string">'.progress__filled'</span>);</span><br><span class="line"><span class="keyword">const</span> toggle = player.querySelector(<span class="string">'.toggle'</span>);</span><br><span class="line"><span class="keyword">const</span> skipButtons = player.querySelectorAll(<span class="string">'[data-skip]'</span>);</span><br><span class="line"><span class="keyword">const</span> ranges = player.querySelectorAll(<span class="string">'.player__slider'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Build out functions */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">togglePlay</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> method = video.paused ? <span class="string">'play'</span> : <span class="string">'pause'</span>;</span><br><span class="line">  video[method]();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">updateButton</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> icon = <span class="keyword">this</span>.paused ? <span class="string">'►'</span> : <span class="string">'❚ ❚'</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(icon);</span><br><span class="line">  toggle.textContent = icon;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">skip</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"> video.currentTime += <span class="built_in">parseFloat</span>(<span class="keyword">this</span>.dataset.skip);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleRangeUpdate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  video[<span class="keyword">this</span>.name] = <span class="keyword">this</span>.value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleProgress</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> percent = (video.currentTime / video.duration) * <span class="number">100</span>;</span><br><span class="line">  progressBar.style.flexBasis = <span class="string">`<span class="subst">$&#123;percent&#125;</span>%`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">scrub</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> scrubTime = (e.offsetX / progress.offsetWidth) * video.duration;</span><br><span class="line">  video.currentTime = scrubTime;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Hook up the event listeners */</span></span><br><span class="line">video.addEventListener(<span class="string">'click'</span>, togglePlay);</span><br><span class="line">video.addEventListener(<span class="string">'play'</span>, updateButton);</span><br><span class="line">video.addEventListener(<span class="string">'pause'</span>, updateButton);</span><br><span class="line">video.addEventListener(<span class="string">'timeupdate'</span>, handleProgress);</span><br><span class="line"></span><br><span class="line">toggle.addEventListener(<span class="string">'click'</span>, togglePlay);</span><br><span class="line">skipButtons.forEach(<span class="function"><span class="params">button</span> =&gt;</span> button.addEventListener(<span class="string">'click'</span>, skip));</span><br><span class="line">ranges.forEach(<span class="function"><span class="params">range</span> =&gt;</span> range.addEventListener(<span class="string">'change'</span>, handleRangeUpdate));</span><br><span class="line">ranges.forEach(<span class="function"><span class="params">range</span> =&gt;</span> range.addEventListener(<span class="string">'mousemove'</span>, handleRangeUpdate));</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mousedown = <span class="literal">false</span>;</span><br><span class="line">progress.addEventListener(<span class="string">'click'</span>, scrub);</span><br><span class="line">progress.addEventListener(<span class="string">'mousemove'</span>, (e) =&gt; mousedown &amp;&amp; scrub(e));</span><br><span class="line">progress.addEventListener(<span class="string">'mousedown'</span>, () =&gt; mousedown = <span class="literal">true</span>);</span><br><span class="line">progress.addEventListener(<span class="string">'mouseup'</span>, () =&gt; mousedown = <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;11-Custom-Video-Player&quot;&gt;&lt;a href=&quot;#11-Custom-Video-Player&quot; class=&quot;headerlink&quot; title=&quot;11 - Custom Video Player&quot;&gt;&lt;/a&gt;11 - Custom Video 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村10 - Hold Shift and Check Checkboxes</title>
    <link href="http://chestertang.site/2019/09/25/javascript10/"/>
    <id>http://chestertang.site/2019/09/25/javascript10/</id>
    <published>2019-09-25T00:46:04.000Z</published>
    <updated>2019-09-25T00:47:40.965Z</updated>
    
    <content type="html"><![CDATA[<h2 id="10-Hold-Shift-and-Check-Checkboxes"><a href="#10-Hold-Shift-and-Check-Checkboxes" class="headerlink" title="10 - Hold Shift and Check Checkboxes"></a>10 - Hold Shift and Check Checkboxes</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>對其中一個 checkbox 打勾，再按住 <code>shift</code> 對另一個打勾，中間的選項會自動勾起來</li></ul></li><li>畫面<ul><li>滑鼠點 checkbox要打勾，再點擊則取消</li><li>「按住<code>shift</code>」勾選，若畫面上已有打勾，則此次和上次打勾的選項中間都要自動打勾</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hold Shift to Check Multiple Checkboxes<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    html &#123;</span><br><span class="line">      font-family: sans-serif;</span><br><span class="line">      background: #ffc600;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .inbox &#123;</span><br><span class="line">      max-width: 400px;</span><br><span class="line">      margin: 50px auto;</span><br><span class="line">      background: white;</span><br><span class="line">      border-radius: 5px;</span><br><span class="line">      box-shadow: 10px 10px 0 rgba(0,0,0,0.1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item &#123;</span><br><span class="line">      display: flex;</span><br><span class="line">      align-items: center;</span><br><span class="line">      border-bottom: 1px solid #F1F1F1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .item:last-child &#123;</span><br><span class="line">      border-bottom: 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input:checked + p &#123;</span><br><span class="line">      background: #F9F9F9;</span><br><span class="line">      text-decoration: line-through;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    input[type="checkbox"] &#123;</span><br><span class="line">      margin: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    p &#123;</span><br><span class="line">      margin: 0;</span><br><span class="line">      padding: 20px;</span><br><span class="line">      transition: background 0.2s;</span><br><span class="line">      flex: 1;</span><br><span class="line">      font-family:'helvetica neue';</span><br><span class="line">      font-size: 20px;</span><br><span class="line">      font-weight: 200;</span><br><span class="line">      border-left: 1px solid #D1E2FF;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">   The following is a common layout you would see in an email client.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   When a user clicks a checkbox, holds Shift, and then clicks another checkbox a few rows down, all the checkboxes inbetween those two checkboxes should be checked.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inbox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>This is an inbox layout.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check one item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Hold down your Shift key<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Check a lower item<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Everything in between should also be set to checked<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Try to do it without any libraries<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Just regular JavaScript<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Good Luck!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Don't forget to tweet your result!<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，透過 <code>querySelectorAll</code> 抓出 <code>type=&quot;checkbox&quot;</code> ，為了方便之後可以使用 <code>foreach</code> 迴圈讀出每項checkbox，因此再將它轉為陣列 <code>Array.from</code>，如果被點擊的話，觸發 <code>clickHandler</code> 這個方法印出 <code>MouseEvent</code> 可以操作的項目，然後來看看裡面有什麼…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">  input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(env);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>根據題目要求，我們要執行的是按住 Shift 按鈕觸發功能，在上方程式碼的 <code>env</code> 變數中，印出來的觸發事件如下，可以看到 <code>shiftKey: false</code> 這個事件物件，勾起來是 <code>true</code>，反之</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MouseEvent &#123;isTrusted: true, screenX: 287, screenY: 265, clientX: 316, clientY: 80, …&#125;</span></span><br><span class="line"><span class="comment">// altKey: false</span></span><br><span class="line"><span class="comment">// bubbles: true</span></span><br><span class="line"><span class="comment">// button: 0</span></span><br><span class="line"><span class="comment">// buttons: 0</span></span><br><span class="line"><span class="comment">// cancelBubble: false</span></span><br><span class="line"><span class="comment">// cancelable: true</span></span><br><span class="line"><span class="comment">// clientX: 316</span></span><br><span class="line"><span class="comment">// clientY: 80</span></span><br><span class="line"><span class="comment">// -------------------略--------------------</span></span><br><span class="line"><span class="comment">// screenX: 287</span></span><br><span class="line"><span class="comment">// screenY: 265</span></span><br><span class="line"><span class="comment">// shiftKey: false</span></span><br><span class="line"><span class="comment">// sourceCapabilities: InputDeviceCapabilities &#123;firesTouchEvents: true&#125;</span></span><br><span class="line"><span class="comment">// srcElement: input</span></span><br><span class="line"><span class="comment">// target: input</span></span><br><span class="line"><span class="comment">// timeStamp: 1173.464999999851</span></span><br><span class="line"><span class="comment">// toElement: input</span></span><br><span class="line"><span class="comment">// type: "click"</span></span><br><span class="line"><span class="comment">// view: Window &#123;postMessage: ƒ, blur: ƒ, focus: ƒ, close: ƒ, parent: Window, …&#125;</span></span><br><span class="line"><span class="comment">// which: 1</span></span><br><span class="line"><span class="comment">// x: 316</span></span><br><span class="line"><span class="comment">// y: 80</span></span><br><span class="line"><span class="comment">// __proto__: MouseEvent</span></span><br></pre></td></tr></table></figure><p>不過要先要紀錄我們點到的 checkbox 是陣列中的第幾個，透過 <code>indexOf</code> 算出並記於變數 <code>firstCheck</code> 中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(env);</span></span><br><span class="line">    firstCheck = checkboxes.indexOf(<span class="keyword">this</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(firstCheck);</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>變數 <code>firstCheck</code> 代表紀錄使用者一開始點的 Checkbox，先宣告一開始是空值，如果使用者點下 Checkbox，就記錄下剛剛抓的陣列第幾個，反之為 null</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(env);</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>當有 ShiftKey 並且 firstCheck 不是空值的話，可以抓到使用者第二個按下的按鈕，並且透過 <code>slice</code> 將點擊的兩個按鈕排列 <code>Math.min / Math.max</code>，在將全部打勾的讀出來設定為打勾勾</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      <span class="keyword">if</span> (env.shiftKey &amp;&amp; firstCheck !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> secondCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">        checkboxes</span><br><span class="line">          .slice(</span><br><span class="line">            <span class="built_in">Math</span>.min(secondCheck, firstCheck),</span><br><span class="line">            <span class="built_in">Math</span>.max(secondCheck, firstCheck)</span><br><span class="line">          )</span><br><span class="line">          .forEach(<span class="function"><span class="params">input</span> =&gt;</span> (input.checked = <span class="literal">true</span>));</span><br><span class="line">      &#125; </span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> checkboxes = <span class="built_in">Array</span>.from(<span class="built_in">document</span>.querySelectorAll(<span class="string">'.inbox input[type="checkbox"]'</span>));</span><br><span class="line"></span><br><span class="line">  checkboxes.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">input</span>)</span>&#123;</span><br><span class="line">    input.addEventListener(<span class="string">"click"</span>, clickHandler);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> firstCheck = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">clickHandler</span>(<span class="params">env</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.checked) &#123;</span><br><span class="line">      <span class="keyword">if</span> (env.shiftKey &amp;&amp; firstCheck !== <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> secondCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">        checkboxes</span><br><span class="line">          .slice(</span><br><span class="line">            <span class="built_in">Math</span>.min(secondCheck, firstCheck),</span><br><span class="line">            <span class="built_in">Math</span>.max(secondCheck, firstCheck)</span><br><span class="line">          )</span><br><span class="line">          .forEach(<span class="function"><span class="params">input</span> =&gt;</span> (input.checked = <span class="literal">true</span>));</span><br><span class="line">      &#125; </span><br><span class="line">      firstCheck = checkboxes.indexOf(<span class="keyword">this</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      firstCheck = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yavm5f5n" target="_blank" rel="noopener">https://tinyurl.com/yavm5f5n</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;10-Hold-Shift-and-Check-Checkboxes&quot;&gt;&lt;a href=&quot;#10-Hold-Shift-and-Check-Checkboxes&quot; class=&quot;headerlink&quot; title=&quot;10 - Hold Shift and Chec
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村09 - Dev Tools</title>
    <link href="http://chestertang.site/2019/09/24/javascript09/"/>
    <id>http://chestertang.site/2019/09/24/javascript09/</id>
    <published>2019-09-23T22:30:04.000Z</published>
    <updated>2019-09-23T22:33:18.337Z</updated>
    
    <content type="html"><![CDATA[<h2 id="09-Dev-Tools-Domination"><a href="#09-Dev-Tools-Domination" class="headerlink" title="09 - Dev Tools Domination"></a>09 - Dev Tools Domination</h2><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>開發工具和 console 技巧的範例，直接來練習吧！</li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Console Tricks!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">onClick</span>=<span class="string">"makeGreen()"</span>&gt;</span>×BREAK×DOWN×<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    const dogs = [&#123; name: 'Snickers', age: 2 &#125;, &#123; name: 'hugo', age: 8 &#125;];</span><br><span class="line"></span><br><span class="line">    function makeGreen() &#123;</span><br><span class="line">      const p = document.querySelector('p');</span><br><span class="line">      p.style.color = '#BADA55';</span><br><span class="line">      p.style.fontSize = '50px';</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // Regular</span><br><span class="line"></span><br><span class="line">    // Interpolated</span><br><span class="line"></span><br><span class="line">    // Styled</span><br><span class="line"></span><br><span class="line">    // warning!</span><br><span class="line"></span><br><span class="line">    // Error :|</span><br><span class="line"></span><br><span class="line">    // Info</span><br><span class="line"></span><br><span class="line">    // Testing</span><br><span class="line"></span><br><span class="line">    // clearing</span><br><span class="line"></span><br><span class="line">    // Viewing DOM Elements</span><br><span class="line"></span><br><span class="line">    // Grouping together</span><br><span class="line"></span><br><span class="line">    // counting</span><br><span class="line"></span><br><span class="line">    // timing</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，範例都與 JS 的 Console 有關，所使用到的 Console 方法都可以參考以下</p><p>Console：<a href="https://tinyurl.com/y6nrq9gq" target="_blank" rel="noopener">https://tinyurl.com/y6nrq9gq</a></p><ol><li><p>Regular Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// hello</span></span><br></pre></td></tr></table></figure></li><li><p>Interpolated Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %s'</span>,<span class="string">'chester'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %d'</span>, <span class="number">3.14</span> );</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'hi my name is %f'</span>, <span class="number">3.14</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// hi my name is chester</span></span><br><span class="line"><span class="comment">// hi my name is 3</span></span><br><span class="line"><span class="comment">// hi my name is 3.14</span></span><br></pre></td></tr></table></figure></li><li><p>ES6 Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> es6 = <span class="string">'es6'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;es6&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// my name is es6</span></span><br></pre></td></tr></table></figure></li><li><p>Styled Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">"%c住手"</span>, <span class="string">"font-size:60px; color:red"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 紅色的大大的住手(fb?)</span></span><br></pre></td></tr></table></figure></li><li><p>Warning Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.warn(<span class="string">"警告"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 黃色的緊告</span></span><br></pre></td></tr></table></figure></li><li><p>Error Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.error(<span class="string">"錯誤"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 紅色的錯誤</span></span><br></pre></td></tr></table></figure></li><li><p>Info Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.info(<span class="string">"好像跟log沒有什麼差別，以前有一個圖標的樣子orz"</span>);</span><br></pre></td></tr></table></figure></li><li><p>Testing Conosle</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">true</span>,<span class="string">"訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">false</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="string">""</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="number">0</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">NaN</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">null</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="built_in">console</span>.assert(<span class="literal">undefined</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span><br><span class="line">   <span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">9. Clearing Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">   `</span><span class="string">``</span>javascript</span><br><span class="line">   CTRL+L</span><br><span class="line">   <span class="string">``</span><span class="string">`  </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">10. Viewing DOM Elements Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>javascript</span><br><span class="line">    <span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(p);</span><br><span class="line">    <span class="built_in">console</span>.log(dogs);</span><br><span class="line">    <span class="comment">// &lt;p onclick="makeGreen()"&gt;×BREAK×DOWN×&lt;/p&gt; html的dom</span></span><br><span class="line">    <span class="comment">// (2) [&#123;…&#125;, &#123;…&#125;]                            array的dom</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">console</span>.dir(p);</span><br><span class="line">    <span class="built_in">console</span>.dir(dogs);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// p        P內的所有可以用  展開dom告訴有哪些屬性可以用</span></span><br><span class="line">    <span class="comment">// Array(2) DOGS內的所有可以用  展開dom告訴有哪些屬性可以用</span></span><br><span class="line">    <span class="string">``</span><span class="string">`   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">11. Grouping together Console</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>javascript</span><br><span class="line">    <span class="built_in">console</span>.table(dogs);</span><br><span class="line">    <span class="built_in">console</span>.table(dogs,[<span class="string">'name'</span>]);</span><br><span class="line">    <span class="comment">// 只要有name欄位</span></span><br></pre></td></tr></table></figure></li><li><p>counting Console</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"><span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 印出 count 東西的數量</span></span><br></pre></td></tr></table></figure></li><li><p>timing Conolse</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time(<span class="string">"test1"</span>);</span><br><span class="line"><span class="keyword">let</span> i</span><br><span class="line"><span class="keyword">let</span> j </span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">j = i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"test1"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// test1: 0.015869140625ms</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">"test2"</span>); </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">j = i ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">"test2"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// test2: 0.01513671875ms</span></span><br></pre></td></tr></table></figure></li></ol><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> dogs = [&#123; <span class="attr">name</span>: <span class="string">'Snickers'</span>, <span class="attr">age</span>: <span class="number">2</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'hugo'</span>, <span class="attr">age</span>: <span class="number">8</span> &#125;];</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">makeGreen</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> p = <span class="built_in">document</span>.querySelector(<span class="string">'p'</span>);</span></span><br><span class="line"><span class="javascript">    p.style.color = <span class="string">'#BADA55'</span>;</span></span><br><span class="line"><span class="javascript">    p.style.fontSize = <span class="string">'50px'</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Regular</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">// Interpolated</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %s'</span>,<span class="string">'chester'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %d'</span>, <span class="number">3.14</span> );</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">'hi my name is %f'</span>, <span class="number">3.14</span> );</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="comment">//ES6</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> es6 = <span class="string">'es6'</span>;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">`my name is <span class="subst">$&#123;es6&#125;</span>`</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Styled</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(<span class="string">"%c住手"</span>, <span class="string">"font-size:60px; color:red"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// warning!</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.warn(<span class="string">"警告"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Error :|</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.error(<span class="string">"錯誤"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Info</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.info(<span class="string">"跟log沒有什麼差別，以前有一個圖標的樣子orz"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Testing</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">true</span>,<span class="string">"訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">false</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="string">""</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="number">0</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">NaN</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">null</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.assert(<span class="literal">undefined</span>,<span class="string">"前面訊息沒有通過，就會噴這段訊息"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// clearing</span></span></span><br><span class="line"><span class="javascript">  <span class="comment">// CTRL+L</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Viewing DOM Elements</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> p = <span class="built_in">document</span>.querySelector(<span class="string">"p"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(p);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.log(dogs);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.dir(p);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.dir(dogs);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// Grouping together</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.table(dogs);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.table(dogs,[<span class="string">'name'</span>]);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// counting</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Wes'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.count(<span class="string">'Steve'</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="comment">// timing</span></span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.time(<span class="string">"test1"</span>);</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> i</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> j </span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span></span><br><span class="line">    j = i;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.timeEnd(<span class="string">"test1"</span>);</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.time(<span class="string">"test2"</span>); </span></span><br><span class="line"><span class="javascript">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; <span class="number">1000</span>; i++) &#123;</span></span><br><span class="line">    j = i ;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="built_in">console</span>.timeEnd(<span class="string">"test2"</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yxhsxcnl" target="_blank" rel="noopener">https://tinyurl.com/yxhsxcnl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;09-Dev-Tools-Domination&quot;&gt;&lt;a href=&quot;#09-Dev-Tools-Domination&quot; class=&quot;headerlink&quot; title=&quot;09 - Dev Tools Domination&quot;&gt;&lt;/a&gt;09 - Dev Tools 
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村08 - HTML5 Canvas</title>
    <link href="http://chestertang.site/2019/09/23/javascript08/"/>
    <id>http://chestertang.site/2019/09/23/javascript08/</id>
    <published>2019-09-23T00:12:04.000Z</published>
    <updated>2019-09-23T00:18:48.269Z</updated>
    
    <content type="html"><![CDATA[<h1 id="08-Fun-with-HTML5-Canvas"><a href="#08-Fun-with-HTML5-Canvas" class="headerlink" title="08 - Fun with HTML5 Canvas"></a>08 - Fun with HTML5 Canvas</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>可以畫圖的書布</li><li>粗細、顏色變化</li></ul></li><li>畫面<ul><li>邊畫邊換色、粗細</li><li>停下來，再繼續畫，粗細和顏色與上次停筆相同</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML5 Canvas<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"draw"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">height</span>=<span class="string">"800"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  html, body &#123;</span><br><span class="line">    margin: 0;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，這次的範例只是Canvas的基本、滑鼠的操作，如果很喜歡 Canvas 的人，歡迎來我的 Codepen 看更多範例</p><p>繪圖基礎語法與動畫原理：<a href="https://tinyurl.com/yxftfxoz" target="_blank" rel="noopener">https://tinyurl.com/yxftfxoz</a></p><p>畫布的座標系操作：<a href="https://tinyurl.com/y4s8fxjr" target="_blank" rel="noopener">https://tinyurl.com/y4s8fxjr</a></p><p>從事件的角度，先來寫使用者的觸發事件吧！分別是 <code>mousedown</code>、<code>mousemove</code>、<code>mouseup</code>、<code>mouseleave</code> 四種事件，記得 <code>mousemove</code> 這個事件是會一直觸發，使用者在脫離 Canvas 這個 800x800 畫布的時候，也會觸發脫離框框事件，分別有兩種作法：一個是 <code>mouseout</code>、<code>mouseleave</code>，而兩者的差別在 DOM 的層級。</p><p>另外，因為要使用者按下去才能畫，因此在 <code>mousemove</code> 方法中，我們要假設如果狀態不能畫畫的 <code>if(!drawing) return</code>，就不能畫畫</p><p>mouveseout v.s mouse leave：<a href="https://tinyurl.com/y282qc3g" target="_blank" rel="noopener">https://tinyurl.com/y282qc3g</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,()=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>); <span class="comment">// 假設console視為畫畫</span></span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>透過 <code>CanvasRenderingContext2D</code> 來操作 Canvas 的 Context，記得不是操作它的 DOM！處理一下要畫畫線條的顏色 <code>ctx.fillStyle</code>，它是透過HSL 色環來計算顏色 <code>&quot;hsl(0,100%,50%)&quot;</code>，各欄位分別意思是（顏色、飽和度、明亮度）、調整筆畫粗細 <code>linewidth</code>、筆畫收尾的形狀 <code>lineCap</code>、轉折角 <code>lineJoin</code> </p><p>CanvasRenderingContext2D：<a href="https://tinyurl.com/y39wgnms" target="_blank" rel="noopener">https://tinyurl.com/y39wgnms</a><br>CanvasRenderingContext2D.fillStyle：<a href="https://tinyurl.com/y5j8zu5g" target="_blank" rel="noopener">https://tinyurl.com/y5j8zu5g</a><br>CanvasRenderingContext2D.lineWidth：<a href="https://tinyurl.com/q3pm3aw" target="_blank" rel="noopener">https://tinyurl.com/q3pm3aw</a><br>CanvasRenderingContext2D.lineCap：<a href="https://tinyurl.com/y63rq9rf" target="_blank" rel="noopener">https://tinyurl.com/y63rq9rf</a><br>CanvasRenderingContext2D.lineJoin：<a href="https://tinyurl.com/yxesyrbw" target="_blank" rel="noopener">https://tinyurl.com/yxesyrbw</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">100</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line"><span class="comment">// 下略</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>現在來製作畫畫吧！（點對點的概念，按下去會是一個點，然後會連到結束時候的點成為一條線），必須將按下時的點及結束的點存起來，透過 x、y 變數存下 <code>offsetX、offsetY</code> </p><p>MouseEvent.offsetX：<a href="https://tinyurl.com/phhseue" target="_blank" rel="noopener">https://tinyurl.com/phhseue</a><br>MouseEvent.offsetY：<a href="https://tinyurl.com/yys9e773" target="_blank" rel="noopener">https://tinyurl.com/yys9e773</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">50</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">let</span> y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span>;</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x,y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,()=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>畫製 Canvas 圖的規則滿前顯易懂的，可以參考下面的範例連結（切記在製作Canvas的時候程式結束一定要有分號，不然都會出錯喔！）</p><p>CanvasRenderingContext2D.beginPath()：<a href="https://tinyurl.com/ycrkznet" target="_blank" rel="noopener">https://tinyurl.com/ycrkznet</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(0,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = <span class="number">50</span>;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>讓顏色會隨著紅橙黃綠藍靛紫 &amp; 粗細會持續變化：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">  colorDeg = <span class="number">0</span>;</span><br><span class="line">  lineWidth = <span class="number">50</span>;</span><br><span class="line">  dir = <span class="number">1</span>;</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = lineWidth;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 讓角度持續的在 0-360 變化</span></span><br><span class="line">    colorDeg = colorDeg &lt; <span class="number">360</span> ? colorDeg + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 從大到變小 再到變大</span></span><br><span class="line">    <span class="keyword">if</span> (lineWidth &lt; <span class="number">1</span> || lineWidth &gt; <span class="number">50</span>) &#123;</span><br><span class="line">      dir *= <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    lineWidth -= dir ;</span><br><span class="line">    </span><br><span class="line">    ctx.lineWidth = lineWidth;</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">const</span> canvas = <span class="built_in">document</span>.querySelector(<span class="string">"#draw"</span>);</span><br><span class="line">  <span class="keyword">let</span> ctx = canvas.getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">  colorDeg = <span class="number">0</span>;</span><br><span class="line">  lineWidth = <span class="number">50</span>;</span><br><span class="line">  dir = <span class="number">1</span>;</span><br><span class="line">  ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">  ctx.lineWidth = lineWidth;</span><br><span class="line">  ctx.lineCap = <span class="string">'round'</span>;</span><br><span class="line">  ctx.lineJoin = <span class="string">'round'</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> drawing = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">let</span> x = <span class="number">0</span>, y = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  canvas.addEventListener(<span class="string">"mousedown"</span>,(e)=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">true</span>;</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mousemove"</span>,(e)=&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(!drawing) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"move"</span>);</span><br><span class="line"></span><br><span class="line">    ctx.beginPath();</span><br><span class="line">    colorDeg = colorDeg &lt; <span class="number">360</span> ? colorDeg + <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    ctx.strokeStyle = <span class="string">`hsl(<span class="subst">$&#123;colorDeg&#125;</span>,100%,50%)`</span>;</span><br><span class="line">    <span class="keyword">if</span> (lineWidth &lt; <span class="number">1</span> || lineWidth &gt; <span class="number">50</span>) &#123;</span><br><span class="line">      dir *= <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    lineWidth -= dir ;</span><br><span class="line">    ctx.lineWidth = lineWidth;</span><br><span class="line">    ctx.moveTo(x, y);</span><br><span class="line">    ctx.lineTo(e.offsetX, e.offsetY);</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    [x, y] = [e.offsetX, e.offsetY];</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseup"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">  canvas.addEventListener(<span class="string">"mouseleave"</span>,()=&gt; &#123;</span><br><span class="line">    drawing = <span class="literal">false</span>;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://tinyurl.com/yxhsxcnl" target="_blank" rel="noopener">https://tinyurl.com/yxhsxcnl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;08-Fun-with-HTML5-Canvas&quot;&gt;&lt;a href=&quot;#08-Fun-with-HTML5-Canvas&quot; class=&quot;headerlink&quot; title=&quot;08 - Fun with HTML5 Canvas&quot;&gt;&lt;/a&gt;08 - Fun wit
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村07 - Array Cardio Day 2</title>
    <link href="http://chestertang.site/2019/09/22/javascript07/"/>
    <id>http://chestertang.site/2019/09/22/javascript07/</id>
    <published>2019-09-22T02:47:55.000Z</published>
    <updated>2019-09-22T02:48:30.204Z</updated>
    
    <content type="html"><![CDATA[<h1 id="07-Array-Cardio-Day-2"><a href="#07-Array-Cardio-Day-2" class="headerlink" title="07 - Array Cardio Day 2"></a>07 - Array Cardio Day 2</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><p>#### </p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><p>Javascript基本的Array方法運用：</p><ul><li><p>有兩個陣列  <code>people</code>、<code>comments</code> ，完成題目的要求</p></li><li><p>題目以 <code>Array.prototype.method()</code> 為分界</p></li><li><p>練習這些方法：<code>Array.prototype.some()</code>、<code>Array.prototype.every()</code>、<code>Array.prototype.find()</code>、<code>Array.prototype.findIndex()</code></p></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Array Cardio 💪💪<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">em</span>&gt;</span>Psst: have a look at the JavaScript Console<span class="tag">&lt;/<span class="name">em</span>&gt;</span> 💁<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">    // ## Array Cardio Day 2</span><br><span class="line">    const people = [</span><br><span class="line">      &#123; name: 'Wes', year: 1988 &#125;,</span><br><span class="line">      &#123; name: 'Kait', year: 1986 &#125;,</span><br><span class="line">      &#123; name: 'Irv', year: 1970 &#125;,</span><br><span class="line">      &#123; name: 'Lux', year: 2015 &#125;</span><br><span class="line">    ];</span><br><span class="line">    const comments = [</span><br><span class="line">      &#123; text: 'Love this!', id: 523423 &#125;,</span><br><span class="line">      &#123; text: 'Super good', id: 823423 &#125;,</span><br><span class="line">      &#123; text: 'You are the best', id: 2039842 &#125;,</span><br><span class="line">      &#123; text: 'Ramen is my fav food ever', id: 123523 &#125;,</span><br><span class="line">      &#123; text: 'Nice Nice Nice!', id: 542328 &#125;</span><br><span class="line">    ];</span><br><span class="line">    // Some and Every Checks</span><br><span class="line">    // Array.prototype.some() // is at least one person 19 or older?</span><br><span class="line">    // Array.prototype.every() // is everyone 19 or older?</span><br><span class="line">    // Array.prototype.find()</span><br><span class="line">    // Find is like filter, but instead returns just the one you are looking for</span><br><span class="line">    // find the comment with the ID of 823423</span><br><span class="line">    // Array.prototype.findIndex()</span><br><span class="line">    // Find the comment with this ID</span><br><span class="line">    // delete the comment with the ID of 823423</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><ol><li><p>從 people 的變數中透過 <code>some</code> 找出一筆資料大於等於19歲：</p><ul><li><p>some：方法會測試陣列中其中一個元素是否都通過了由給定之函式所實作的測試，回傳的是布林值。</p></li><li><p>getUTCFullYear：以世界時間為標準，回傳一個指定的日期的年份。</p><p>Array.prototype.some()：<a href="https://tinyurl.com/y3ox2o5b" target="_blank" rel="noopener">https://tinyurl.com/y3ox2o5b</a></p><p>Date.prototype.getUTCFullYear()：<a href="https://tinyurl.com/y64burg7" target="_blank" rel="noopener">https://tinyurl.com/y64burg7</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isAdult = people.some(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(isAdult)</span><br><span class="line"><span class="comment">//true</span></span><br></pre></td></tr></table></figure></li><li><p>從 people 的變數中透過 <code>every</code> 必須任何一筆資料大於等於19歲：</p><ul><li><p>every：方法會測試陣列中的所有元素是否都通過了由給定之函式所實作的測試，回傳的是布林值。</p><p>Array.prototype.every()：<a href="https://tinyurl.com/yyhl7e54" target="_blank" rel="noopener">https://tinyurl.com/yyhl7e54</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> allAdults = people.every(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(allAdults)</span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure></li><li><p>從 comments 的變數中透過 <code>find</code> 找出 ID 是 823423：</p><ul><li><p>find：方法會回傳第一個滿足所提供之測試函式的元素值，並列出找到的項目，如果找不到會回傳 undefined。</p><p>Array.prototype.find()：<a href="https://tinyurl.com/y2swwtgq" target="_blank" rel="noopener">https://tinyurl.com/y2swwtgq</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> comment = comments.find(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> c.id === <span class="number">823423</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(comment)</span><br><span class="line"><span class="comment">//&#123;text: "Super good", id: 823423&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>從 comments 的變數中透過 <code>findIndex</code> 找出 ID 是 823423</p><ul><li><p>findIndex：方法會回傳第一個滿足所提供之測試函式的元素值，不會列出找到的項目，只會列出比數，如果找不到會回傳 -1 。</p><p>Array.prototype.findIndex()：<a href="https://tinyurl.com/y38fqko5" target="_blank" rel="noopener">https://tinyurl.com/y38fqko5</a></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> index = comments.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> i.id === <span class="number">823423</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(index)</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure></li></ol><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// ## Array Cardio Day 2</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> people = [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Wes'</span>, <span class="attr">year</span>: <span class="number">1988</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Kait'</span>, <span class="attr">year</span>: <span class="number">1986</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Irv'</span>, <span class="attr">year</span>: <span class="number">1970</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">'Lux'</span>, <span class="attr">year</span>: <span class="number">2015</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> comments = [</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Love this!'</span>, <span class="attr">id</span>: <span class="number">523423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Super good'</span>, <span class="attr">id</span>: <span class="number">823423</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'You are the best'</span>, <span class="attr">id</span>: <span class="number">2039842</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Ramen is my fav food ever'</span>, <span class="attr">id</span>: <span class="number">123523</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">text</span>: <span class="string">'Nice Nice Nice!'</span>, <span class="attr">id</span>: <span class="number">542328</span> &#125;</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Some and Every Checks</span></span><br><span class="line">  <span class="comment">// Array.prototype.some() // is at least one person 19 or older?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> isAdult = people.some(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(isAdult)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.every() // is everyone 19 or older?</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> allAdults = people.every(<span class="function"><span class="keyword">function</span>(<span class="params">p</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>().getUTCFullYear() - p.year &gt;= <span class="number">19</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(allAdults)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.find()</span></span><br><span class="line">  <span class="comment">// Find is like filter, but instead returns just the one you are looking for</span></span><br><span class="line">  <span class="comment">// find the comment with the ID of 823423</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> comment = comments.find(<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> c.id === <span class="number">823423</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(comment)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Array.prototype.findIndex()</span></span><br><span class="line">  <span class="comment">// Find the comment with this ID</span></span><br><span class="line">  <span class="comment">// delete the comment with the ID of 823423</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> index = comments.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> i.id === <span class="number">823423</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(index)</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a></p><p>本次範例程式碼原作者來源：<a href="https://reurl.cc/9zZGYv" target="_blank" rel="noopener">https://reurl.cc/9zZGYv</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;07-Array-Cardio-Day-2&quot;&gt;&lt;a href=&quot;#07-Array-Cardio-Day-2&quot; class=&quot;headerlink&quot; title=&quot;07 - Array Cardio Day 2&quot;&gt;&lt;/a&gt;07 - Array Cardio Day
      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>新手村06 - Type Ahead</title>
    <link href="http://chestertang.site/2019/09/21/javascript06/"/>
    <id>http://chestertang.site/2019/09/21/javascript06/</id>
    <published>2019-09-21T02:44:55.000Z</published>
    <updated>2019-09-21T02:46:27.796Z</updated>
    
    <content type="html"><![CDATA[<h1 id="06-Type-Ahead"><a href="#06-Type-Ahead" class="headerlink" title="06 - Type Ahead"></a>06 - Type Ahead</h1><p>俗話說的好，一天一蘋果，醫生遠離我</p><p>一天一 JS，What the f*ck JavaScript？</p><p>small steps every day - 記錄著新手村日記</p><h2 id="完成目標"><a href="#完成目標" class="headerlink" title="完成目標"></a>完成目標</h2><ul><li>功能<ul><li>接收到 Json</li><li>列出符合關鍵字的項目</li></ul></li><li>畫面<ul><li>列出符合關鍵字的項目</li><li>將關鍵字的部份mark起來</li><li>顯示該項目的「歡迎程度」數字</li></ul></li></ul><h2 id="index-START-html"><a href="#index-START-html" class="headerlink" title="index_START.html"></a>index_START.html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Type Ahead 👀<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">"search-form"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"search"</span> <span class="attr">placeholder</span>=<span class="string">"City or State"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"suggestions"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>Filter for a city<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>or a state<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* style.css */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'helvetica neue'</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">200</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *<span class="selector-pseudo">:before</span>, *<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: inherit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search-form</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">50px</span> auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">input</span><span class="selector-class">.search</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">10px</span> solid <span class="number">#F7F7F7</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120%</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">10%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.12), inset <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.19);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="comment">/*perspective: 20px;*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: white;</span><br><span class="line">  <span class="attribute">list-style</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#D8D8D8</span>;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.14);</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">transition</span>: background <span class="number">0.2s</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">  <span class="attribute">text-transform</span>: capitalize;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(100px) <span class="built_in">rotateX</span>(3deg) <span class="built_in">translateY</span>(2px) <span class="built_in">scale</span>(1.001);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom,  #ffffff 0%,#EFEFEF 100%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.suggestions</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">perspective</span>(100px) <span class="built_in">rotateX</span>(-3deg) <span class="built_in">translateY</span>(3px);</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to top,  #ffffff 0%,#EFEFEF 100%);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.population</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.hl</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ffc600</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JS-step-by-step"><a href="#JS-step-by-step" class="headerlink" title="JS - step by step"></a>JS - step by step</h2><p>首先，先來學一下如何抓  Json 檔吧！不知道大家習慣用這種舊式的寫法還是新的 ES6 語法 <code>cities</code> 宣告為 const 並設為空陣列，並再底下將 return 回來的結果 …拆開 <code>push</code> 回來呢？我是比較喜歡舊的下面這種寫法啦w</p><p>Using Fetch：<a href="https://ubin.io/cz5PZD" target="_blank" rel="noopener">https://ubin.io/cz5PZD</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span> </span><br><span class="line">  const endpoint = 'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json';</span><br><span class="line"></span><br><span class="line">  let cities = null</span><br><span class="line">  fetch(endpoint)</span><br><span class="line">    .then(function(blog)&#123;</span><br><span class="line">      return blog.json()</span><br><span class="line">    &#125;)</span><br><span class="line">    .then(function(myJson)&#123;</span><br><span class="line">      return cities = myJson</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>瀏覽器 console 看看有沒有抓到：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// cities</span></span><br><span class="line"><span class="comment">// (1000) [&#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, &#123;…&#125;, …]</span></span><br></pre></td></tr></table></figure><p>使用者在輸入 City or State 放開按鍵的時候，搜尋與Json的資料有哪幾筆符合？這邊我們必須透過正則RegExp 來寫，此外也來批純的方法xd</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 略</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> cities = <span class="literal">null</span></span></span><br><span class="line">  fetch(endpoint)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">blog</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> blog.json()</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> cities = myJson</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 pure function <code>findMatches</code>  中，wordToMatch 與 cities 兩個值不會變動，透過正則將 <code>wordToMatch</code> 丟進來，後面 ‘gi’ 裡的 g 代表全部的意思、i 代表不分大小寫，再回資料結構中有 city || state 回傳值…</p><p>RegExp：<a href="https://ubin.io/pjvYgJ" target="_blank" rel="noopener">https://ubin.io/pjvYgJ</a><br>Pure function：<a href="https://ubin.io/RpbKDT" target="_blank" rel="noopener">https://ubin.io/RpbKDT</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="comment">// 上略</span></span></span><br><span class="line"><span class="javascript">  <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line">  </span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(matchArray)</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">findMatches</span>(<span class="params">wordToMatch, cities</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">return</span> cities.filter(<span class="function"><span class="keyword">function</span>(<span class="params">place</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(wordToMatch, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> place.city.match(regex) || place.state.match(regex)</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>接著來處理 DOM 的資料，並新增抓到的資料透過來新增HTML 到 Class <code>.suggestions</code> 裡，這邊單純只是做資料的處理，可能會看不懂的地方是，以前用單引號表示字串在 ES6 中換成蝌蚪按鍵的一點符號（這個該叫什麼好呢xd ），另一個為 <code>numberWithCommas</code> 方法中的 <code>toLocaleString()</code> ，在原作者中是用正則去做處理，不過感覺用這個會比較直接…</p><p>Number.prototype.toLocaleString()：<a href="https://reurl.cc/NaXNde" target="_blank" rel="noopener">https://reurl.cc/NaXNde</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// 上略</span></span></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> html = matchArray.map(<span class="function"><span class="params">place</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="keyword">this</span>.value, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> cityName = place.city.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> stateName = place.state.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="javascript">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"name"</span>&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="javascript">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"population"</span>&gt;$&#123;numberWithCommas(place.population)&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">    `</span><br><span class="line"><span class="javascript">    &#125;).join(<span class="string">''</span>)</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.suggestions'</span>).innerHTML = html</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> x.toLocaleString()</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>就大功告成啦！</p><h2 id="JS-Final"><a href="#JS-Final" class="headerlink" title="JS - Final"></a>JS - Final</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">const</span> endpoint = <span class="string">'https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json'</span>;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> cities = <span class="literal">null</span></span></span><br><span class="line">  fetch(endpoint)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">blog</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> blog.json()</span></span><br><span class="line">    &#125;)</span><br><span class="line"><span class="javascript">    .then(<span class="function"><span class="keyword">function</span>(<span class="params">myJson</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> cities = myJson</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.querySelector(<span class="string">'.search'</span>).addEventListener(<span class="string">"keyup"</span>, keyupHandler)</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">keyupHandler</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> matchArray = findMatches(<span class="keyword">this</span>.value, cities)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> html = matchArray.map(<span class="function"><span class="params">place</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="keyword">this</span>.value, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> cityName = place.city.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> stateName = place.state.replace(regex, <span class="string">`&lt;span class="hl"&gt;<span class="subst">$&#123;<span class="keyword">this</span>.value&#125;</span>&lt;/span&gt;`</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> <span class="string">`</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="javascript">          &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"name"</span>&gt;$&#123;cityName&#125;, $&#123;stateName&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="javascript">          &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"population"</span>&gt;$&#123;numberWithCommas(place.population)&#125;&lt;<span class="regexp">/span&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">      `</span><br><span class="line"><span class="javascript">      &#125;).join(<span class="string">''</span>)</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.querySelector(<span class="string">'.suggestions'</span>).innerHTML = html</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">numberWithCommas</span>(<span class="params">x</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> x.toLocaleString()</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">findMatches</span>(<span class="params">wordToMatch, cities</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">return</span> cities.filter(<span class="function"><span class="keyword">function</span>(<span class="params">place</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> regex = <span class="keyword">new</span> <span class="built_in">RegExp</span>(wordToMatch, <span class="string">'gi'</span>)</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> place.city.match(regex) || place.state.match(regex)</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>本刊同步於個人網站：<a href="http://chestertang.site/">http://chestertang.site/</a><br>本次範例程式碼原作者來源：<a href="https://reurl.cc/yynKGl" target="_blank" rel="noopener">https://reurl.cc/yynKGl</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;06-Type-Ahead&quot;&gt;&lt;a href=&quot;#06-Type-Ahead&quot; class=&quot;headerlink&quot; title=&quot;06 - Type Ahead&quot;&gt;&lt;/a&gt;06 - Type Ahead&lt;/h1&gt;&lt;p&gt;俗話說的好，一天一蘋果，醫生遠離我&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/categories/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
    
      <category term="11th鐵人賽" scheme="http://chestertang.site/tags/11th%E9%90%B5%E4%BA%BA%E8%B3%BD/"/>
    
      <category term="前端新手村" scheme="http://chestertang.site/tags/%E5%89%8D%E7%AB%AF%E6%96%B0%E6%89%8B%E6%9D%91/"/>
    
      <category term="html" scheme="http://chestertang.site/tags/html/"/>
    
      <category term="css" scheme="http://chestertang.site/tags/css/"/>
    
      <category term="javascript" scheme="http://chestertang.site/tags/javascript/"/>
    
  </entry>
  
</feed>
